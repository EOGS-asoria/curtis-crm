import{r as s,j as e,y as n}from"./store-0Qzhg5Cj.js";import{M as w}from"./modal-BB8Ob1Bx.js";import{k as x}from"./tickets-service-CmSiGMJ_.js";import{u as b}from"./app-DKWGkyWz.js";import"./transition-BQz_x7pe.js";import"./dialog-B3BbVgJi.js";function g({title:r,titleId:a,...l},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const j=s.forwardRef(g),v=j;function N({title:r,titleId:a,...l},c){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},l),r?s.createElement("title",{id:a},r):null,s.createElement("path",{d:"M8.25 10.875a2.625 2.625 0 1 1 5.25 0 2.625 2.625 0 0 1-5.25 0Z"}),s.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.125 4.5a4.125 4.125 0 1 0 2.338 7.524l2.007 2.006a.75.75 0 1 0 1.06-1.06l-2.006-2.007a4.125 4.125 0 0 0-3.399-6.463Z",clipRule:"evenodd"}))}const k=s.forwardRef(N),y=k;function A(){const[r,a]=s.useState(!1),[l,c]=s.useState(""),[h,o]=s.useState([]),{user:d}=b(t=>t.app);async function p(t){if(t.preventDefault(),l[0]=="#"){const i=await x(`?search=${l.slice(1)}`);o(i.data)}else{const i=await x(`?search=${l}`);o(i.data)}}function m(t){d.role_id==1?n.visit("/administrator/tickets?search="+t):d.role_id==6?n.visit("/curtis/tickets?search="+t):n.visit("/agent/tickets?search="+t)}return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>a(!0),className:"text-blue-400 transition-colors duration-200 rounded-full bg-blue-50 hover:text-blue-600 hover:bg-blue-100 focus:outline-none focus:bg-blue-100 focus:ring-blue-800",children:e.jsx(y,{className:"h-12"})}),e.jsxs(w,{width:"max-w-7xl",position:"items-start",setOpen:a,open:r,title:"Lookup Ticket",children:[e.jsxs("form",{onSubmit:p,className:"pt-2 relative mx-auto w-full text-gray-600",children:[e.jsx("input",{className:"border-2 border-gray-300 bg-white h-10 px-5 pr-16 rounded-lg text-sm focus:outline-none w-full",type:"text",name:"search",onChange:t=>c(t.target.value),placeholder:"Search"}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-4",children:e.jsx("svg",{className:"text-gray-600 h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 56.966 56.966",style:{enableBackground:"new 0 0 56.966 56.966"},xmlSpace:"preserve",width:"512px",height:"512px",children:e.jsx("path",{d:"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17s-17-7.626-17-17S14.61,6,23.984,6z"})})})]}),e.jsx("div",{className:"py-4 flex justify-center",children:e.jsx("table",{className:"w-full text-md mb-4",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3 px-5",children:"Ticket ID"}),e.jsx("th",{className:"text-left p-3 px-5",children:"Email"}),e.jsx("th",{className:"text-left p-3 px-5",children:"Fullname"}),e.jsx("th",{className:"text-left p-3 px-5",children:"Resolution"}),e.jsx("th",{className:"text-left p-3 px-5",children:"Issue"}),e.jsx("th",{className:"text-left p-3 px-5",children:"Action"})]}),h.map((t,i)=>e.jsxs("tr",{className:"border-b hover:bg-blue-100 ",children:[e.jsx("td",{className:"p-3 px-5",children:t.ticket_id}),e.jsx("td",{className:"p-3 px-5",children:t.email}),e.jsxs("td",{className:"p-3 px-5",children:[t.fname," ",t.lname]}),e.jsx("td",{className:"p-3 px-5",children:t.call_type}),e.jsx("td",{className:"p-3 px-5",children:JSON.parse(t.issue).map((u,f)=>e.jsx("div",{children:u},f))}),e.jsx("td",{className:"p-3 px-5",children:e.jsx("button",{onClick:()=>m(t.ticket_id),children:e.jsx(v,{className:"h-6 text-blue-600"})})})]},i))]})})})]})]})}export{A as default};
