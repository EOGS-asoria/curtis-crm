import{r as f,j as l,y as v}from"./page-CGgVo1IL.js";import{u as M,a as P}from"./app-fT0YTEJ6.js";import"./page-OoJFgjtU.js";import{d as g,D as O}from"./index-sIEFuPcY.js";import{S as c}from"./index-CWgkM73D.js";import{S as d}from"./index-D0dcSMIL.js";import{B as x}from"./button-BCLv3uEw.js";import{R as _}from"./useIcons-DUXN6_mx.js";import{R as V}from"./DeleteOutlined-CZf6ysTr.js";import"./index-XCrFtPvy.js";import"./asyncToGenerator-8-ydbFRS.js";import"./PurePanel-CwT_Fbvu.js";import"./index-GCIoIvFu.js";import"./compact-item-BisuHXa9.js";import"./pickAttrs-BiGpooMg.js";import"./Overflow-CQ1Muldn.js";import"./useZIndex-9j4KgwWg.js";import"./ContextIsolator-DfWMzySl.js";import"./useCSSVarCls-CUW_h1GL.js";import"./index-NeokgSSS.js";import"./roundedArrow-uucwB3yY.js";import"./useLocale-PxPbv9Zy.js";import"./KeyCode-DNlgD2sM.js";import"./motion-4S5rSXvC.js";import"./render-DgTmO1GB.js";function ue(){const{RangePicker:R}=O,{products:r}=M(e=>e.ticket_form),[m,o]=f.useState(!1);P();const t=new URLSearchParams(window.location.search),y=t.get("call_type"),i=t.get("model"),u=t.get("start"),j=t.get("end"),A=t.get("status"),[a,s]=f.useState({call_type:y??null,start:u=="null"?null:u??null,end:j=="null"?null:u??null,model:(i==null?void 0:i.split(","))??null,status:A??null}),C=e=>{var n,h;if(e){const Y=(n=e[0])==null?void 0:n.format("YYYY-MM-DD"),L=(h=e[1])==null?void 0:h.format("YYYY-MM-DD");s({...a,start:Y,end:L})}else s({...a,start:null,end:null})};function S(e){s({...a,model:e})}function w(e){s({...a,call_type:e})}function E(e){s({...a,status:e})}const D=[{value:"CF-Warranty Claim"},{value:"Parts"},{value:"TS-Tech Support"},{value:"General Inquiry"},{value:"Others"}],T=[{value:"CLOSED"},{value:"WARRANTY VALIDATION"},{value:"PARTS VALIDATION"},{value:"US WAREHOUSE"},{value:"CA WAREHOUSE"},{value:"REPAIR"},{value:"AVAILABILITY"},{value:"INTERNALS"},{value:"CALLBACK"},{value:"REFUND"},{value:"REPLACEMENT"},{value:"REPLACEMENT PARTS"},{value:"TECH VALIDATION"},{value:"WEB FORM"},{value:"AGENT FORM"}],N=r==null?void 0:r.slice(2).map(e=>({value:e[1]}));console.log("data",a);async function I(){o(!0);try{v.visit(window.location.pathname+"?page=1&start="+a.start+"&end="+a.end+"&call_type="+a.call_type+"&model="+a.model+"&status="+a.status),o(!1)}catch{o(!1)}}const p="YYYY/MM/DD";return l.jsxs("div",{className:"flex gap-4 w-full",children:[l.jsx("div",{className:"w-full",children:l.jsx(R,{defaultValue:a.start&&a.end?[g(a.start,p),g(a.end,p)]:void 0,onChange:C,size:"large"})}),l.jsx("div",{className:"w-full",children:l.jsx(c,{maxTagCount:"responsive",mode:"multiple",allowClear:!0,size:"large",style:{width:"100%"},showSearch:!0,placeholder:"Select Model #",defaultValue:a.model=="null"||a.model=="undefined"?null:a.model,onChange:S,options:N.sort((e,n)=>e.length-n.length),optionRender:e=>l.jsx(d,{children:l.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),l.jsx("div",{className:"w-full",children:l.jsx(c,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.call_type=="null"||a.call_type=="undefined"?null:a.call_type,placeholder:"Based On",onChange:w,options:D,optionRender:e=>l.jsx(d,{children:l.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),l.jsx("div",{className:"w-full",children:l.jsx(c,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.status=="null"||a.status=="undefined"?null:a.status,placeholder:"Status",onChange:E,options:T,optionRender:e=>l.jsx(d,{children:l.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),l.jsxs("div",{className:"w-full flex gap-3",children:[l.jsx(x,{loading:m,onClick:I,type:"primary",size:"large",icon:l.jsx(_,{}),children:"Search"}),l.jsx(x,{loading:m,onClick:()=>v.visit(window.location.pathname+"?page=1"),type:"primary",danger:!0,size:"large",icon:l.jsx(V,{}),children:"Reset"})]})]})}export{ue as default};
