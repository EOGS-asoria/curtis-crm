import{r as u,c as l,u as h,j as e,K as f,H as g}from"./app-Bq_nMTlP.js";import{I as a}from"./input-FuC_ik0I.js";import{T as x}from"./textarea-Bnpl4hk2.js";import{p as q}from"./refund-service-CBZ3piz4.js";function v(){const[t,n]=u.useState({}),{ticket:i}=l(r=>r.tickets),{user:d}=l(r=>r.app),p=h(),[C,o]=u.useState(!1);u.useEffect(()=>{n({...i.receipt??{},...i.refund??{},...i.replacement??{}})},[i]);function s(r,c){c=="estimated_cost"?n({...t,estimated_cost:r.replace(/[^0-9.]/g,"")}):n({...t,[c]:r})}async function m(){if(confirm("Are you sure you want to shipped the ticket?")){o(!0);try{const r=await q({...t,account:d,status:"PROCESSED TICKET"});p(f(r.status)),o(!1),g.visit("#files")}catch{o(!1)}}}return e.jsxs("div",{className:"flex flex-col gap-8 my-12",children:[e.jsxs("div",{class:"grid grid-cols-4 gap-4",children:[e.jsx(a,{onChange:s,name:"retailers_price",span:"$",required:!0,value:String(t.retailers_price)??" ",label:"Retailer's Price",type:"number",errorMessage:"Retailers Price is required"}),e.jsx(a,{onChange:s,name:"discount",span:"$",required:!0,value:String(t.discount)??" ",label:"discount",type:"text",errorMessage:"Discount is required"}),e.jsx(a,{onChange:s,name:"total_price",span:"$",required:!0,value:String(t.total_price)??" ",label:"Price After Discount",type:"text",errorMessage:"Price After Discount is required"}),e.jsx(a,{onChange:s,name:"estimated_cost",span:"$",required:!0,value:String(t.estimated_cost??"0"),label:"Estimated Cost of Refund",type:"text",errorMessage:"Estimated Cost of Refund is required"})]}),e.jsxs("div",{class:"grid grid-cols-2 gap-4",children:[e.jsx(a,{onChange:s,name:"cheque_no",required:!0,value:t.cheque_no??"0",label:"Cheque Number",type:"text",errorMessage:"Cheque Number is required"}),e.jsx(a,{onChange:s,name:"cheque_amount",span:"$",required:!0,value:t.cheque_amount??"0",label:"Cheque Amount",type:"text",errorMessage:"Cheque Amount is required"}),e.jsx("div",{className:" text-red-500",children:"Resource Notes: Refund is cheaper than replacement."})]}),e.jsx(x,{required:!0,onChange:s,name:"notes",value:t.notes??" ",label:"Resource Notes:",type:"text",errorMessage:"notes is required"}),e.jsx("button",{onClick:m,className:" rounded-sm bg-green-600 text-white text-bold hover:bg-green-700 flex items-center justify-center p-2.5",children:"CHECKQUE SHIPPED"})]})}export{v as default};
