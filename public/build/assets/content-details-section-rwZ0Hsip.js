import{r as o,j as s,y as m,s as p}from"./page-CweAZ6u7.js";import{u as l}from"./app-Oh26cwOL.js";import{u as g}from"./tickets-thunk-C17THUBB.js";import h from"./reason-to-close-BNN7AwqP.js";import{r as j}from"./routing-BzgBYGmF.js";import u from"./move-ticket-assignement-CF6hKoxG.js";import f from"./resend-initial-email-CF248Mtq.js";import"./index-Dm0ZtCym.js";import"./tickets-service-De4luahQ.js";import"./internals-service-B9kSbxh_.js";import"./loading-2wh1A-cr.js";import"./modal-DKAyK5v3.js";import"./transition-jVNLuPE9.js";import"./dialog-CIS6DQWk.js";import"./reason-BRIeM0DO.js";import"./select-CbznLIxD.js";import"./initial-templates-PKQd-G1K.js";import"./index-D7if6FkW.js";import"./asyncToGenerator-BuJCPQbh.js";import"./render-Btzrk6Bh.js";import"./CheckCircleFilled-Bq1nLl6G.js";import"./useZIndex-CjGH_iRa.js";import"./InfoCircleFilled-y1Ukf7aB.js";import"./motion-DJ7hMwu8.js";import"./button-1iq2fvtm.js";import"./compact-item-CHBqaovt.js";import"./index-DHBa1jUv.js";import"./reactNode-BWNDasVd.js";import"./index-C7mBWnaT.js";import"./index-BBUFz-fT.js";import"./KeyCode-DNlgD2sM.js";import"./zoom-C5pEnEmW.js";import"./useClosable-BswVY9ij.js";import"./useIcons-DnjaHSn_.js";import"./index-BsoQnBFX.js";function es(){var a,d;const{ticket:e}=l(t=>t.tickets),{user:n}=l(t=>t.app),[y,i]=o.useState(!1);function c(t){n.role_id==1?m.visit(`/administrator/tickets/details/${e.id}/edit`):m.visit(`/agent/tickets/details/${e.id}/edit`)}async function x(t){if(confirm("Are you sure you want to open the ticket?")){i(!0);try{await p.dispatch(g(e.id,"OPEN")),i(!1),m.visit(j("details"))}catch{i(!1)}}}return s.jsxs("div",{className:"m-5 py-5",children:[s.jsxs("div",{className:"px-4 sm:px-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base font-semibold leading-7 text-gray-900",children:"Ticket Details"}),s.jsxs("div",{className:"flex gap-5",children:[e.email&&s.jsx(f,{}),s.jsx(u,{}),s.jsx("button",{onClick:c,className:"bg-blue-500 p-2 text-white  hover:bg-blue-600  w-48",children:s.jsx("div",{className:"p-1 w-full flex items-center justify-center",children:"EDIT TICKET"})}),e.status=="CLOSED"?s.jsx("button",{onClick:x,className:"bg-violet-500 p-3 text-white  hover:bg-violet-600 w-48",children:"OPEN"}):s.jsx(h,{data:e})]})]}),s.jsx("h3",{className:"text-base font-semibold leading-7 text-red-600",children:e.move_status??""}),s.jsx("p",{className:"mt-1 max-w-2xl text-sm leading-6  font-medium text-gray-500",children:"Personal details and ticket."})]}),s.jsx("div",{className:"mt-6 border-t border-gray-100",children:s.jsxs("dl",{className:"divide-y divide-gray-100",children:[s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Full name :"})," ",e.fname," ",e.lname]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Email :"})," ",e.email]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Phone :"})," ",(a=e.phone)==null?void 0:a.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Purchase Date :"})," ",e.purchase_date]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Store Name:"})," ",((d=e==null?void 0:e.receipt)==null?void 0:d.store)??"NA"]}),s.jsx("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0"})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Model # :"})," ",e.item_number]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Unit :"})," ",e.unit]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Serial # :"})," ",e.serial_number]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Item Type :"})," ",e.class]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900 flex",children:[s.jsx("b",{children:"Issue :"})," ",e.issue&&JSON.parse(e.issue).map((t,r)=>s.jsx("div",{className:"flex justify-center items-center m-1 font-medium py-1 px-2 rounded-md text-blue-100 bg-blue-700 border border-blue-700",children:s.jsx("div",{className:"text-xs font-normal leading-none max-w-full flex-initial",children:t})},r))]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Resolution :"})," ",e.call_type]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Country :"})," ",e.country]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Zip Code / Postal :"})," ",e.zip_code]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Address :"})," ",e.address]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"State :"})," ",e.state]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"City :"})," ",e.city]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Authorized Service Center:"})," N/A"]})]}),s.jsxs("div",{className:"px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0",children:[s.jsxs("dt",{className:"text-sm font-medium leading-6 text-gray-900",children:[s.jsx("b",{children:"Remarks :"})," ",e.remarks]}),s.jsxs("dd",{className:"mt-1 text-sm leading-6  font-medium text-gray-700 sm:col-span-2 sm:mt-0",children:[s.jsx("b",{children:"Explanation :"})," ",e.explanation]})]})]})})]})}export{es as default};
