import{r as a,j as t}from"./page-DqzE0-nr.js";import{u as E}from"./refund-service-CksbL9mh.js";import{u as j}from"./app-DCUr24cS.js";import{B as c}from"./button-N2zNdCUr.js";import{M}from"./index-C1Z8rgOm.js";import{R as l}from"./index-lfz5rgdR.js";import{U as g}from"./index-DVRaT1oz.js";import{I as R,e as C}from"./asyncToGenerator-BcfSbg8Z.js";import{s as p}from"./index-Cmx3rRen.js";import"./index-DYM8TcfK.js";import"./compact-item-BAW5xiWx.js";import"./render-BS0NmNht.js";import"./InfoCircleFilled-DE-IPfkE.js";import"./pickAttrs-CytUKMFb.js";import"./useZIndex-DLsQrGnX.js";import"./motion-4S5rSXvC.js";import"./Modal-DvQProI7.js";import"./index-BiAHakXL.js";import"./index-C4QAArOu.js";import"./KeyCode-DNlgD2sM.js";import"./zoom-DSxnsLhx.js";import"./ContextIsolator-DkS6tMeV.js";import"./useClosable-B0aWgX52.js";import"./useLocale-B3iS6PRM.js";import"./PurePanel-Bx7ULege.js";import"./index-CcHIY6N-.js";import"./roundedArrow-YoMvkauD.js";import"./useForceUpdate-DPpXG2eu.js";import"./DeleteOutlined-BD0K_h6I.js";import"./EyeOutlined-DU4AkV_f.js";var O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},U=function(o,r){return a.createElement(R,C({},o,{ref:r,icon:O}))},y=a.forwardRef(U);function re(){const[n,o]=a.useState(!1),[r,d]=a.useState("REPLACEMENT"),{user:m}=j(e=>e.app),[u,s]=a.useState(!1),f={method:"GET",name:"file",accept:".csv",listType:"picture",showUploadList:!1,headers:{authorization:"authorization-text"},async onChange(e){s(!0),e.file.status;const i=new FormData;i.append("csv_file",e.file.originFileObj),i.append("type",r),i.append("user_id",m.id);try{await E(i),e.file.status==="done"?(p.success(`${e.file.name} Updated Successfully!`),s(!1)):e.file.status==="error"&&(p.error(`${e.file.name} file upload failed.`),s(!1))}catch{p.error(`${e.file.name} file upload failed.`),s(!1)}}},h=()=>{o(!0)},x=()=>{o(!1)},v=()=>{o(!1)};return t.jsxs("div",{children:[t.jsx(c,{type:"primary",onClick:h,children:"IMPORT CSV FILE"}),t.jsx(M,{title:"IMPORT CSV FILE",open:n,onOk:x,okButtonProps:{disabled:!0,className:"hidden"},cancelButtonProps:{disabled:!0,className:"hidden"},onCancel:v,children:t.jsxs("div",{className:"flex flex-col gap-5",children:[t.jsxs(l.Group,{onChange:e=>d(e.target.value),value:r,children:[t.jsx(l,{value:"REPLACEMENT",children:"REPLACEMENT"}),t.jsx(l,{value:"REFUND",children:"REFUND"})]}),t.jsx(g,{...f,children:t.jsx(c,{size:"large",loading:u,icon:t.jsx(y,{}),children:"Click to Upload"})})]})})]})}export{re as default};
