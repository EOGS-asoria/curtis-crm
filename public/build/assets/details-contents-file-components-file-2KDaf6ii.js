import{r as s,m as be,N as Ct,q as ar,j as Ie,s as ir}from"./store-0Qzhg5Cj.js";import{u as sr}from"./app-B1H6j9Oq.js";import{u as lr}from"./customer-tickets-thunk-DppcAP7h.js";import{A as Ce,_ as ie,z as se,an as cr,w as ur,i as re,B as Z,f as G,p as vt,D as Me,b as Pe,l as Oe,g as ht,m as Ge,T as De,af as wt,u as le,d as Fe,$ as ct,V as dr,ao as ut,r as _t,o as pr,E as fr,a0 as At,a1 as zt,a2 as Ft,aj as pe,a3 as Xt,j as mr,k as yt,c as Ut,ap as St,aq as gr,L as $t,J as vr}from"./compact-item-ChDpuMA4.js";import{P as hr,u as Ke,C as Bt,d as Ht,b as Wt,K as dt,e as wr,h as br,p as Cr,c as yr}from"./index-B7yFuZzI.js";import{g as Sr}from"./collapse-C1MjllT7.js";import{D as $r,g as xr,i as Vt,C as Ir}from"./index-DKL3dOtB.js";import{L as Er,R as Or,u as Pr}from"./useForceUpdate-BzbQhiNb.js";import{K as pt,g as Je,i as Rr}from"./motion-L0wigdRl.js";import{c as xt}from"./reactNode-DWH_taMQ.js";import{B as It}from"./button-CssXxmN1.js";import{D as Mr}from"./DeleteOutlined-DyI50-pT.js";import{g as qt,a as Ae,b as Nr,E as Yt,T as Zt}from"./addEventListener-L-2h-jA1.js";import{i as Lr}from"./zoom-B5xuVmsw.js";import"./tickets-service-Bb19xu0O.js";import"./files-service-EugUQ0yZ.js";import"./index-B3DuilCu.js";import"./roundedArrow-DBMe4KH7.js";import"./colors-mX6ZPbmZ.js";var Tr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Dr=Tr;var jr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Dr}))},kr=s.forwardRef(jr);const _r=kr;var Ar={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"};const zr=Ar;var Fr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:zr}))},Xr=s.forwardRef(Fr);const Ur=Xr;var Br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const Hr=Br;var Wr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Hr}))},Vr=s.forwardRef(Wr);const qr=Vr;var Yr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"};const Zr=Yr;var Gr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Zr}))},Kr=s.forwardRef(Gr);const Jr=Kr;var Qr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const en=Qr;var tn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:en}))},rn=s.forwardRef(tn);const nn=rn;var on={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const an=on;var sn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:an}))},ln=s.forwardRef(sn);const cn=ln;var un={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const dn=un;var pn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:dn}))},fn=s.forwardRef(pn);const mn=fn;var gn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const vn=gn;var hn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:vn}))},wn=s.forwardRef(hn);const Et=wn;var bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const Cn=bn;var yn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Cn}))},Sn=s.forwardRef(yn);const $n=Sn;var xn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const In=xn;var En=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:In}))},On=s.forwardRef(En);const Pn=On;var ft=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],Ve=s.createContext(null),Ot=0;function Rn(e,t){var r=s.useState(function(){return Ot+=1,String(Ot)}),n=se(r,1),a=n[0],i=s.useContext(Ve),l={data:t,canPreview:e};return s.useEffect(function(){if(i)return i.register(a,l)},[]),s.useEffect(function(){i&&i.register(a,l)},[e,t]),a}function Mn(e){return new Promise(function(t){var r=document.createElement("img");r.onerror=function(){return t(!1)},r.onload=function(){return t(!0)},r.src=e})}function Gt(e){var t=e.src,r=e.isCustomPlaceholder,n=e.fallback,a=s.useState(r?"loading":"normal"),i=se(a,2),l=i[0],o=i[1],c=s.useRef(!1),u=l==="error";s.useEffect(function(){var v=!0;return Mn(t).then(function(f){!f&&v&&o("error")}),function(){v=!1}},[t]),s.useEffect(function(){r&&!c.current?o("loading"):u&&o("normal")},[t]);var d=function(){o("normal")},p=function(f){c.current=!1,l==="loading"&&f!==null&&f!==void 0&&f.complete&&(f.naturalWidth||f.naturalHeight)&&(c.current=!0,d())},g=u&&n?{src:n}:{onLoad:d,src:t};return[p,g,l]}var qe={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Nn(e,t,r,n){var a=s.useRef(null),i=s.useRef([]),l=s.useState(qe),o=se(l,2),c=o[0],u=o[1],d=function(f){u(qe),n&&!cr(qe,c)&&n({transform:qe,action:f})},p=function(f,w){a.current===null&&(i.current=[],a.current=ur(function(){u(function(h){var C=h;return i.current.forEach(function(I){C=re(re({},C),I)}),a.current=null,n==null||n({transform:C,action:w}),C})})),i.current.push(re(re({},c),f))},g=function(f,w,h,C,I){var P=e.current,b=P.width,m=P.height,x=P.offsetWidth,y=P.offsetHeight,S=P.offsetLeft,R=P.offsetTop,E=f,O=c.scale*f;O>r?(O=r,E=r/c.scale):O<t&&(O=I?O:t,E=O/c.scale);var z=h??innerWidth/2,k=C??innerHeight/2,M=E-1,H=M*b*.5,_=M*m*.5,T=M*(z-c.x-S),K=M*(k-c.y-R),ne=c.x-(T-H),oe=c.y-(K-_);if(f<1&&O===1){var Y=x*O,J=y*O,$=qt(),D=$.width,W=$.height;Y<=D&&J<=W&&(ne=0,oe=0)}p({x:ne,y:oe,scale:O},w)};return{transform:c,resetTransform:d,updateTransform:p,dispatchZoomChange:g}}function Pt(e,t,r,n){var a=t+r,i=(r-n)/2;if(r>n){if(t>0)return Z({},e,i);if(t<0&&a<n)return Z({},e,-i)}else if(t<0||a>n)return Z({},e,t<0?i:-i);return{}}function Kt(e,t,r,n){var a=qt(),i=a.width,l=a.height,o=null;return e<=i&&t<=l?o={x:0,y:0}:(e>i||t>l)&&(o=re(re({},Pt("x",r,e,i)),Pt("y",n,t,l))),o}var ze=1,Ln=1;function Tn(e,t,r,n,a,i,l){var o=a.rotate,c=a.scale,u=a.x,d=a.y,p=s.useState(!1),g=se(p,2),v=g[0],f=g[1],w=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),h=function(m){!t||m.button!==0||(m.preventDefault(),m.stopPropagation(),w.current={diffX:m.pageX-u,diffY:m.pageY-d,transformX:u,transformY:d},f(!0))},C=function(m){r&&v&&i({x:m.pageX-w.current.diffX,y:m.pageY-w.current.diffY},"move")},I=function(){if(r&&v){f(!1);var m=w.current,x=m.transformX,y=m.transformY,S=u!==x&&d!==y;if(!S)return;var R=e.current.offsetWidth*c,E=e.current.offsetHeight*c,O=e.current.getBoundingClientRect(),z=O.left,k=O.top,M=o%180!==0,H=Kt(M?E:R,M?R:E,z,k);H&&i(re({},H),"dragRebound")}},P=function(m){if(!(!r||m.deltaY==0)){var x=Math.abs(m.deltaY/100),y=Math.min(x,Ln),S=ze+y*n;m.deltaY>0&&(S=ze/S),l(S,"wheel",m.clientX,m.clientY)}};return s.useEffect(function(){var b,m,x,y;if(t){x=Ae(window,"mouseup",I,!1),y=Ae(window,"mousemove",C,!1);try{window.top!==window.self&&(b=Ae(window.top,"mouseup",I,!1),m=Ae(window.top,"mousemove",C,!1))}catch{}}return function(){var S,R,E,O;(S=x)===null||S===void 0||S.remove(),(R=y)===null||R===void 0||R.remove(),(E=b)===null||E===void 0||E.remove(),(O=m)===null||O===void 0||O.remove()}},[r,v,u,d,o,t]),{isMoving:v,onMouseDown:h,onMouseMove:C,onMouseUp:I,onWheel:P}}function Qe(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.hypot(r,n)}function Dn(e,t,r,n){var a=Qe(e,r),i=Qe(t,n);if(a===0&&i===0)return[e.x,e.y];var l=a/(a+i),o=e.x+l*(t.x-e.x),c=e.y+l*(t.y-e.y);return[o,c]}function jn(e,t,r,n,a,i,l){var o=a.rotate,c=a.scale,u=a.x,d=a.y,p=s.useState(!1),g=se(p,2),v=g[0],f=g[1],w=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),h=function(m){w.current=re(re({},w.current),m)},C=function(m){if(t){m.stopPropagation(),f(!0);var x=m.touches,y=x===void 0?[]:x;y.length>1?h({point1:{x:y[0].clientX,y:y[0].clientY},point2:{x:y[1].clientX,y:y[1].clientY},eventType:"touchZoom"}):h({point1:{x:y[0].clientX-u,y:y[0].clientY-d},eventType:"move"})}},I=function(m){var x=m.touches,y=x===void 0?[]:x,S=w.current,R=S.point1,E=S.point2,O=S.eventType;if(y.length>1&&O==="touchZoom"){var z={x:y[0].clientX,y:y[0].clientY},k={x:y[1].clientX,y:y[1].clientY},M=Dn(R,E,z,k),H=se(M,2),_=H[0],T=H[1],K=Qe(z,k)/Qe(R,E);l(K,"touchZoom",_,T,!0),h({point1:z,point2:k,eventType:"touchZoom"})}else O==="move"&&(i({x:y[0].clientX-R.x,y:y[0].clientY-R.y},"move"),h({eventType:"move"}))},P=function(){if(r){if(v&&f(!1),h({eventType:"none"}),n>c)return i({x:0,y:0,scale:n},"touchZoom");var m=e.current.offsetWidth*c,x=e.current.offsetHeight*c,y=e.current.getBoundingClientRect(),S=y.left,R=y.top,E=o%180!==0,O=Kt(E?x:m,E?m:x,S,R);O&&i(re({},O),"dragRebound")}};return s.useEffect(function(){var b;return r&&t&&(b=Ae(window,"touchmove",function(m){return m.preventDefault()},{passive:!1})),function(){var m;(m=b)===null||m===void 0||m.remove()}},[r,t]),{isTouching:v,onTouchStart:C,onTouchMove:I,onTouchEnd:P}}var kn=function(t){var r=t.visible,n=t.maskTransitionName,a=t.getContainer,i=t.prefixCls,l=t.rootClassName,o=t.icons,c=t.countRender,u=t.showSwitch,d=t.showProgress,p=t.current,g=t.transform,v=t.count,f=t.scale,w=t.minScale,h=t.maxScale,C=t.closeIcon,I=t.onSwitchLeft,P=t.onSwitchRight,b=t.onClose,m=t.onZoomIn,x=t.onZoomOut,y=t.onRotateRight,S=t.onRotateLeft,R=t.onFlipX,E=t.onFlipY,O=t.toolbarRender,z=t.zIndex,k=s.useContext(Ve),M=o.rotateLeft,H=o.rotateRight,_=o.zoomIn,T=o.zoomOut,K=o.close,ne=o.left,oe=o.right,Y=o.flipX,J=o.flipY,$="".concat(i,"-operations-operation");s.useEffect(function(){var A=function(X){X.keyCode===pt.ESC&&b()};return r&&window.addEventListener("keydown",A),function(){window.removeEventListener("keydown",A)}},[r]);var D=[{icon:J,onClick:E,type:"flipY"},{icon:Y,onClick:R,type:"flipX"},{icon:M,onClick:S,type:"rotateLeft"},{icon:H,onClick:y,type:"rotateRight"},{icon:T,onClick:x,type:"zoomOut",disabled:f<=w},{icon:_,onClick:m,type:"zoomIn",disabled:f===h}],W=D.map(function(A){var V,X=A.icon,U=A.onClick,Q=A.type,ae=A.disabled;return s.createElement("div",{className:G($,(V={},Z(V,"".concat(i,"-operations-operation-").concat(Q),!0),Z(V,"".concat(i,"-operations-operation-disabled"),!!ae),V)),onClick:U,key:Q},X)}),F=s.createElement("div",{className:"".concat(i,"-operations")},W);return s.createElement(vt,{visible:r,motionName:n},function(A){var V=A.className,X=A.style;return s.createElement(hr,{open:!0,getContainer:a??document.body},s.createElement("div",{className:G("".concat(i,"-operations-wrapper"),V,l),style:re(re({},X),{},{zIndex:z})},C===null?null:s.createElement("button",{className:"".concat(i,"-close"),onClick:b},C||K),u&&s.createElement(s.Fragment,null,s.createElement("div",{className:G("".concat(i,"-switch-left"),Z({},"".concat(i,"-switch-left-disabled"),p===0)),onClick:I},ne),s.createElement("div",{className:G("".concat(i,"-switch-right"),Z({},"".concat(i,"-switch-right-disabled"),p===v-1)),onClick:P},oe)),s.createElement("div",{className:"".concat(i,"-footer")},d&&s.createElement("div",{className:"".concat(i,"-progress")},c?c(p+1,v):"".concat(p+1," / ").concat(v)),O?O(F,re({icons:{flipYIcon:W[0],flipXIcon:W[1],rotateLeftIcon:W[2],rotateRightIcon:W[3],zoomOutIcon:W[4],zoomInIcon:W[5]},actions:{onFlipY:E,onFlipX:R,onRotateLeft:S,onRotateRight:y,onZoomOut:x,onZoomIn:m},transform:g},k?{current:p,total:v}:{})):F)))})},_n=["fallback","src","imgRef"],An=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],zn=function(t){var r=t.fallback,n=t.src,a=t.imgRef,i=Me(t,_n),l=Gt({src:n,fallback:r}),o=se(l,2),c=o[0],u=o[1];return be.createElement("img",ie({ref:function(p){a.current=p,c(p)}},i,u))},Jt=function(t){var r=t.prefixCls,n=t.src,a=t.alt,i=t.fallback,l=t.movable,o=l===void 0?!0:l,c=t.onClose,u=t.visible,d=t.icons,p=d===void 0?{}:d,g=t.rootClassName,v=t.closeIcon,f=t.getContainer,w=t.current,h=w===void 0?0:w,C=t.count,I=C===void 0?1:C,P=t.countRender,b=t.scaleStep,m=b===void 0?.5:b,x=t.minScale,y=x===void 0?1:x,S=t.maxScale,R=S===void 0?50:S,E=t.transitionName,O=E===void 0?"zoom":E,z=t.maskTransitionName,k=z===void 0?"fade":z,M=t.imageRender,H=t.imgCommonProps,_=t.toolbarRender,T=t.onTransform,K=t.onChange,ne=Me(t,An),oe=s.useRef(),Y=s.useContext(Ve),J=Y&&I>1,$=Y&&I>=1,D=s.useState(!0),W=se(D,2),F=W[0],A=W[1],V=Nn(oe,y,R,T),X=V.transform,U=V.resetTransform,Q=V.updateTransform,ae=V.dispatchZoomChange,ue=Tn(oe,o,u,m,X,Q,ae),ee=ue.isMoving,fe=ue.onMouseDown,ye=ue.onWheel,ce=jn(oe,o,u,y,X,Q,ae),de=ce.isTouching,me=ce.onTouchStart,we=ce.onTouchMove,ge=ce.onTouchEnd,Ne=X.rotate,Se=X.scale,$e=G(Z({},"".concat(r,"-moving"),ee));s.useEffect(function(){F||A(!0)},[F]);var Xe=function(){U("close")},Ue=function(){ae(ze+m,"zoomIn")},Be=function(){ae(ze/(ze+m),"zoomOut")},ve=function(){Q({rotate:Ne+90},"rotateRight")},he=function(){Q({rotate:Ne-90},"rotateLeft")},je=function(){Q({flipX:!X.flipX},"flipX")},ke=function(){Q({flipY:!X.flipY},"flipY")},xe=function(B){B==null||B.preventDefault(),B==null||B.stopPropagation(),h>0&&(A(!1),U("prev"),K==null||K(h-1,h))},N=function(B){B==null||B.preventDefault(),B==null||B.stopPropagation(),h<I-1&&(A(!1),U("next"),K==null||K(h+1,h))},q=function(B){!u||!J||(B.keyCode===pt.LEFT?xe():B.keyCode===pt.RIGHT&&N())},te=function(B){u&&(Se!==1?Q({x:0,y:0,scale:1},"doubleClick"):ae(ze+m,"doubleClick",B.clientX,B.clientY))};s.useEffect(function(){var L=Ae(window,"keydown",q,!1);return function(){L.remove()}},[u,J,h]);var j=be.createElement(zn,ie({},H,{width:t.width,height:t.height,imgRef:oe,className:"".concat(r,"-img"),alt:a,style:{transform:"translate3d(".concat(X.x,"px, ").concat(X.y,"px, 0) scale3d(").concat(X.flipX?"-":"").concat(Se,", ").concat(X.flipY?"-":"").concat(Se,", 1) rotate(").concat(Ne,"deg)"),transitionDuration:(!F||de)&&"0s"},fallback:i,src:n,onWheel:ye,onMouseDown:fe,onDoubleClick:te,onTouchStart:me,onTouchMove:we,onTouchEnd:ge,onTouchCancel:ge}));return be.createElement(be.Fragment,null,be.createElement($r,ie({transitionName:O,maskTransitionName:k,closable:!1,keyboard:!0,prefixCls:r,onClose:c,visible:u,classNames:{wrapper:$e},rootClassName:g,getContainer:f},ne,{afterClose:Xe}),be.createElement("div",{className:"".concat(r,"-img-wrapper")},M?M(j,re({transform:X},Y?{current:h}:{})):j)),be.createElement(kn,{visible:u,transform:X,maskTransitionName:k,closeIcon:v,getContainer:f,prefixCls:r,rootClassName:g,icons:p,countRender:P,showSwitch:J,showProgress:$,current:h,count:I,scale:Se,minScale:y,maxScale:R,toolbarRender:_,onSwitchLeft:xe,onSwitchRight:N,onZoomIn:Ue,onZoomOut:Be,onRotateRight:ve,onRotateLeft:he,onFlipX:je,onFlipY:ke,onClose:c,zIndex:ne.zIndex!==void 0?ne.zIndex+1:void 0}))};function Fn(e){var t=s.useState({}),r=se(t,2),n=r[0],a=r[1],i=s.useCallback(function(o,c){return a(function(u){return re(re({},u),{},Z({},o,c))}),function(){a(function(u){var d=re({},u);return delete d[o],d})}},[]),l=s.useMemo(function(){return e?e.map(function(o){if(typeof o=="string")return{data:{src:o}};var c={};return Object.keys(o).forEach(function(u){["src"].concat(Pe(ft)).includes(u)&&(c[u]=o[u])}),{data:c}}):Object.keys(n).reduce(function(o,c){var u=n[c],d=u.canPreview,p=u.data;return d&&o.push({data:p,id:c}),o},[])},[e,n]);return[l,i]}var Xn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Un=["src"],Bn=function(t){var r,n=t.previewPrefixCls,a=n===void 0?"rc-image-preview":n,i=t.children,l=t.icons,o=l===void 0?{}:l,c=t.items,u=t.preview,d=t.fallback,p=Oe(u)==="object"?u:{},g=p.visible,v=p.onVisibleChange,f=p.getContainer,w=p.current,h=p.movable,C=p.minScale,I=p.maxScale,P=p.countRender,b=p.closeIcon,m=p.onChange,x=p.onTransform,y=p.toolbarRender,S=p.imageRender,R=Me(p,Xn),E=Fn(c),O=se(E,2),z=O[0],k=O[1],M=Ke(0,{value:w}),H=se(M,2),_=H[0],T=H[1],K=s.useState(!1),ne=se(K,2),oe=ne[0],Y=ne[1],J=((r=z[_])===null||r===void 0?void 0:r.data)||{},$=J.src,D=Me(J,Un),W=Ke(!!g,{value:g,onChange:function(de,me){v==null||v(de,me,_)}}),F=se(W,2),A=F[0],V=F[1],X=s.useState(null),U=se(X,2),Q=U[0],ae=U[1],ue=s.useCallback(function(ce,de,me){var we=z.findIndex(function(ge){return ge.id===ce});V(!0),ae({x:de,y:me}),T(we<0?0:we),Y(!0)},[z]);s.useEffect(function(){A?oe||T(0):Y(!1)},[A]);var ee=function(de,me){T(de),m==null||m(de,me)},fe=function(){V(!1),ae(null)},ye=s.useMemo(function(){return{register:k,onPreview:ue}},[k,ue]);return s.createElement(Ve.Provider,{value:ye},i,s.createElement(Jt,ie({"aria-hidden":!A,movable:h,visible:A,prefixCls:a,closeIcon:b,onClose:fe,mousePosition:Q,imgCommonProps:D,src:$,fallback:d,icons:o,minScale:C,maxScale:I,getContainer:f,current:_,count:z.length,countRender:P,onTransform:x,toolbarRender:y,imageRender:S,onChange:ee},R)))},Hn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Wn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],rt=function(t){var r=t.src,n=t.alt,a=t.onPreviewClose,i=t.prefixCls,l=i===void 0?"rc-image":i,o=t.previewPrefixCls,c=o===void 0?"".concat(l,"-preview"):o,u=t.placeholder,d=t.fallback,p=t.width,g=t.height,v=t.style,f=t.preview,w=f===void 0?!0:f,h=t.className,C=t.onClick,I=t.onError,P=t.wrapperClassName,b=t.wrapperStyle,m=t.rootClassName,x=Me(t,Hn),y=u&&u!==!0,S=Oe(w)==="object"?w:{},R=S.src,E=S.visible,O=E===void 0?void 0:E,z=S.onVisibleChange,k=z===void 0?a:z,M=S.getContainer,H=M===void 0?void 0:M,_=S.mask,T=S.maskClassName,K=S.movable,ne=S.icons,oe=S.scaleStep,Y=S.minScale,J=S.maxScale,$=S.imageRender,D=S.toolbarRender,W=Me(S,Wn),F=R??r,A=Ke(!!O,{value:O,onChange:k}),V=se(A,2),X=V[0],U=V[1],Q=Gt({src:r,isCustomPlaceholder:y,fallback:d}),ae=se(Q,3),ue=ae[0],ee=ae[1],fe=ae[2],ye=s.useState(null),ce=se(ye,2),de=ce[0],me=ce[1],we=s.useContext(Ve),ge=!!w,Ne=function(){U(!1),me(null)},Se=G(l,P,m,Z({},"".concat(l,"-error"),fe==="error")),$e=s.useMemo(function(){var ve={};return ft.forEach(function(he){t[he]!==void 0&&(ve[he]=t[he])}),ve},ft.map(function(ve){return t[ve]})),Xe=s.useMemo(function(){return re(re({},$e),{},{src:F})},[F,$e]),Ue=Rn(ge,Xe),Be=function(he){var je=Nr(he.target),ke=je.left,xe=je.top;we?we.onPreview(Ue,ke,xe):(me({x:ke,y:xe}),U(!0)),C==null||C(he)};return s.createElement(s.Fragment,null,s.createElement("div",ie({},x,{className:Se,onClick:ge?Be:C,style:re({width:p,height:g},b)}),s.createElement("img",ie({},$e,{className:G("".concat(l,"-img"),Z({},"".concat(l,"-img-placeholder"),u===!0),h),style:re({height:g},v),ref:ue},ee,{width:p,height:g,onError:I})),fe==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},u),_&&ge&&s.createElement("div",{className:G("".concat(l,"-mask"),T),style:{display:(v==null?void 0:v.display)==="none"?"none":void 0}},_)),!we&&ge&&s.createElement(Jt,ie({"aria-hidden":!X,visible:X,prefixCls:c,onClose:Ne,mousePosition:de,src:F,alt:n,fallback:d,getContainer:H,icons:ne,movable:K,scaleStep:oe,minScale:Y,maxScale:J,rootClassName:m,imageRender:$,imgCommonProps:$e,toolbarRender:D},W)))};rt.PreviewGroup=Bn;rt.displayName="Image";const mt=e=>({position:e||"absolute",inset:0}),Vn=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:n,marginXXS:a,prefixCls:i,colorTextLightSolid:l}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new De("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},wt),{padding:`0 ${le(n)}`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},qn=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:n,marginXL:a,margin:i,paddingLG:l,previewOperationColorDisabled:o,previewOperationHoverColor:c,motionDurationSlow:u,iconCls:d,colorTextLightSolid:p}=e,g=new De(r).setAlpha(.1),v=g.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:p,backgroundColor:g.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:v.toRgbString()},[`& > ${d}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${le(l)}`,backgroundColor:g.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${d}`]:{color:c},"&-disabled":{color:o,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${d}`]:{fontSize:e.previewOperationSize}}}}},Yn=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:n,previewCls:a,zIndexPopup:i,motionDurationSlow:l}=e,o=new De(t).setAlpha(.1),c=o.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:o.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:c.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},Zn=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:n,componentCls:a}=e;return[{[`${a}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},mt()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},mt()),{transition:`transform ${n} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal({unit:!1})},"&":[qn(e),Yn(e)]}]},Gn=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},Vn(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},mt())}}},Kn=e=>{const{previewCls:t}=e;return{[`${t}-root`]:Lr(e,"zoom"),"&":Vt(e,!0)}},Jn=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new De(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new De(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new De(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Qt=ht("Image",e=>{const t=`${e.componentCls}-preview`,r=Ge(e,{previewCls:t,modalMaskBg:new De("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Gn(r),Zn(r),xr(Ge(r,{componentCls:t})),Kn(r)]},Jn);var Qn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const er={rotateLeft:s.createElement(cn,null),rotateRight:s.createElement(mn,null),zoomIn:s.createElement($n,null),zoomOut:s.createElement(Pn,null),close:s.createElement(Bt,null),left:s.createElement(Er,null),right:s.createElement(Or,null),flipX:s.createElement(Et,null),flipY:s.createElement(Et,{rotate:90})},eo=e=>{var{previewPrefixCls:t,preview:r}=e,n=Qn(e,["previewPrefixCls","preview"]);const{getPrefixCls:a}=s.useContext(Fe),i=a("image",t),l=`${i}-preview`,o=a(),c=Ht(i),[u,d,p]=Qt(i,c),[g]=Wt("ImagePreview",typeof r=="object"?r.zIndex:void 0),v=s.useMemo(()=>{var f;if(r===!1)return r;const w=typeof r=="object"?r:{},h=G(d,p,c,(f=w.rootClassName)!==null&&f!==void 0?f:"");return Object.assign(Object.assign({},w),{transitionName:Je(o,"zoom",w.transitionName),maskTransitionName:Je(o,"fade",w.maskTransitionName),rootClassName:h,zIndex:g})},[r]);return u(s.createElement(rt.PreviewGroup,Object.assign({preview:v,previewPrefixCls:l,icons:er},n)))},to=eo;var Rt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const tr=e=>{var t;const{prefixCls:r,preview:n,className:a,rootClassName:i,style:l}=e,o=Rt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:u=ct,getPopupContainer:d,image:p}=s.useContext(Fe),g=c("image",r),v=c(),f=u.Image||ct.Image,w=Ht(g),[h,C,I]=Qt(g,w),P=G(i,C,I,w),b=G(a,C,p==null?void 0:p.className),[m]=Wt("ImagePreview",typeof n=="object"?n.zIndex:void 0),x=s.useMemo(()=>{var S;if(n===!1)return n;const R=typeof n=="object"?n:{},{getContainer:E,closeIcon:O}=R,z=Rt(R,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${g}-mask-info`},s.createElement(Yt,null),f==null?void 0:f.preview),icons:er},z),{getContainer:E??d,transitionName:Je(v,"zoom",R.transitionName),maskTransitionName:Je(v,"fade",R.maskTransitionName),zIndex:m,closeIcon:O??((S=p==null?void 0:p.preview)===null||S===void 0?void 0:S.closeIcon)})},[n,f,(t=p==null?void 0:p.preview)===null||t===void 0?void 0:t.closeIcon]),y=Object.assign(Object.assign({},p==null?void 0:p.style),l);return h(s.createElement(rt,Object.assign({prefixCls:g,preview:x,rootClassName:P,className:b,style:y},o)))};tr.PreviewGroup=to;const Mt=tr;var ro={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},no=function(){var t=s.useRef([]),r=s.useRef(null);return s.useEffect(function(){var n=Date.now(),a=!1;t.current.forEach(function(i){if(i){a=!0;var l=i.style;l.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(l.transitionDuration="0s, 0s")}}),a&&(r.current=Date.now())}),t.current},Nt=0,oo=dr();function ao(){var e;return oo?(e=Nt,Nt+=1):e="TEST_OR_SSR",e}const io=function(e){var t=s.useState(),r=se(t,2),n=r[0],a=r[1];return s.useEffect(function(){a("rc_progress_".concat(ao()))},[]),e||n};var Lt=function(t){var r=t.bg,n=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function Tt(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),a="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(a)})}var so=s.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,a=e.gradientId,i=e.radius,l=e.style,o=e.ptg,c=e.strokeLinecap,u=e.strokeWidth,d=e.size,p=e.gapDegree,g=n&&Oe(n)==="object",v=g?"#FFF":void 0,f=d/2,w=s.createElement("circle",{className:"".concat(r,"-circle-path"),r:i,cx:f,cy:f,stroke:v,strokeLinecap:c,strokeWidth:u,opacity:o===0?0:1,style:l,ref:t});if(!g)return w;var h="".concat(a,"-conic"),C=p?"".concat(180+p/2,"deg"):"0deg",I=Tt(n,(360-p)/360),P=Tt(n,1),b="conic-gradient(from ".concat(C,", ").concat(I.join(", "),")"),m="linear-gradient(to ".concat(p?"bottom":"top",", ").concat(P.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:h},w),s.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(h,")")},s.createElement(Lt,{bg:m},s.createElement(Lt,{bg:b}))))}),He=100,ot=function(t,r,n,a,i,l,o,c,u,d){var p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,g=n/100*360*((360-l)/360),v=l===0?0:{bottom:0,top:180,left:90,right:-90}[o],f=(100-a)/100*r;u==="round"&&a!==100&&(f+=d/2,f>=r&&(f=r-.01));var w=He/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:f+p,transform:"rotate(".concat(i+g+v,"deg)"),transformOrigin:"".concat(w,"px ").concat(w,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},lo=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Dt(e){var t=e??[];return Array.isArray(t)?t:[t]}var co=function(t){var r=re(re({},ro),t),n=r.id,a=r.prefixCls,i=r.steps,l=r.strokeWidth,o=r.trailWidth,c=r.gapDegree,u=c===void 0?0:c,d=r.gapPosition,p=r.trailColor,g=r.strokeLinecap,v=r.style,f=r.className,w=r.strokeColor,h=r.percent,C=Me(r,lo),I=He/2,P=io(n),b="".concat(P,"-gradient"),m=I-l/2,x=Math.PI*2*m,y=u>0?90+u/2:-90,S=x*((360-u)/360),R=Oe(i)==="object"?i:{count:i,gap:2},E=R.count,O=R.gap,z=Dt(h),k=Dt(w),M=k.find(function(Y){return Y&&Oe(Y)==="object"}),H=M&&Oe(M)==="object",_=H?"butt":g,T=ot(x,S,0,100,y,u,d,p,_,l),K=no(),ne=function(){var J=0;return z.map(function($,D){var W=k[D]||k[k.length-1],F=ot(x,S,J,$,y,u,d,W,_,l);return J+=$,s.createElement(so,{key:D,color:W,ptg:$,radius:m,prefixCls:a,gradientId:b,style:F,strokeLinecap:_,strokeWidth:l,gapDegree:u,ref:function(V){K[D]=V},size:He})}).reverse()},oe=function(){var J=Math.round(E*(z[0]/100)),$=100/E,D=0;return new Array(E).fill(null).map(function(W,F){var A=F<=J-1?k[0]:p,V=A&&Oe(A)==="object"?"url(#".concat(b,")"):void 0,X=ot(x,S,D,$,y,u,d,A,"butt",l,O);return D+=(S-X.strokeDashoffset+O)*100/S,s.createElement("circle",{key:F,className:"".concat(a,"-circle-path"),r:m,cx:I,cy:I,stroke:V,strokeWidth:l,opacity:1,style:X,ref:function(Q){K[F]=Q}})})};return s.createElement("svg",ie({className:G("".concat(a,"-circle"),f),viewBox:"0 0 ".concat(He," ").concat(He),style:v,id:n,role:"presentation"},C),!E&&s.createElement("circle",{className:"".concat(a,"-circle-trail"),r:m,cx:I,cy:I,stroke:p,strokeLinecap:_,strokeWidth:o||l,style:T}),E?oe():ne())};function Re(e){return!e||e<0?0:e>100?100:e}function et(e){let{success:t,successPercent:r}=e,n=r;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const uo=e=>{let{percent:t,success:r,successPercent:n}=e;const a=Re(et({success:r,successPercent:n}));return[a,Re(Re(t)-a)]},po=e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:n}=t;return[n||ut.green,r||null]},nt=(e,t,r)=>{var n,a,i,l;let o=-1,c=-1;if(t==="step"){const u=r.steps,d=r.strokeWidth;typeof e=="string"||typeof e>"u"?(o=e==="small"?2:14,c=d??8):typeof e=="number"?[o,c]=[e,e]:[o=14,c=8]=e,o*=u}else if(t==="line"){const u=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?c=u||(e==="small"?6:8):typeof e=="number"?[o,c]=[e,e]:[o=-1,c=8]=e}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[o,c]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[o,c]=[e,e]:(o=(a=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&a!==void 0?a:120,c=(l=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&l!==void 0?l:120));return[o,c]},fo=3,mo=e=>fo/e*100,go=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:a,gapDegree:i,width:l=120,type:o,children:c,success:u,size:d=l,steps:p}=e,[g,v]=nt(d,"circle");let{strokeWidth:f}=e;f===void 0&&(f=Math.max(mo(g),6));const w={width:g,height:v,fontSize:g*.15+6},h=s.useMemo(()=>{if(i||i===0)return i;if(o==="dashboard")return 75},[i,o]),C=uo(e),I=a||o==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",b=po({success:u,strokeColor:e.strokeColor}),m=G(`${t}-inner`,{[`${t}-circle-gradient`]:P}),x=s.createElement(co,{steps:p,percent:p?C[1]:C,strokeWidth:f,trailWidth:f,strokeColor:p?b[1]:b,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:h,gapPosition:I});return s.createElement("div",{className:m,style:w},g<=20?s.createElement(Zt,{title:c},x):s.createElement(s.Fragment,null,x,c))},vo=go,tt="--progress-line-stroke-color",rr="--progress-percent",jt=e=>{const t=e?"100%":"-100%";return new dt(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},ho=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},_t(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-block",width:"100%"},[`&${t}-show-info`]:{[`${t}-outer`]:{marginInlineEnd:`calc(-2em - ${le(e.marginXS)})`,paddingInlineEnd:`calc(2em + ${le(e.paddingXS)})`}},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${tt})`]},height:"100%",width:`calc(1 / var(${rr}) * 100%)`,display:"block"}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",width:"2em",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:jt(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:jt(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},wo=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},bo=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Co=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},yo=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),So=ht("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=Ge(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[ho(r),wo(r),bo(r),Co(r)]},yo);var $o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const xo=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(r=>{let{key:n,value:a}=r;return`${a} ${n}%`}).join(", ")},Io=(e,t)=>{const{from:r=ut.blue,to:n=ut.blue,direction:a=t==="rtl"?"to left":"to right"}=e,i=$o(e,["from","to","direction"]);if(Object.keys(i).length!==0){const o=xo(i),c=`linear-gradient(${a}, ${o})`;return{background:c,[tt]:c}}const l=`linear-gradient(${a}, ${r}, ${n})`;return{background:l,[tt]:l}},Eo=e=>{const{prefixCls:t,direction:r,percent:n,size:a,strokeWidth:i,strokeColor:l,strokeLinecap:o="round",children:c,trailColor:u=null,success:d}=e,p=l&&typeof l!="string"?Io(l,r):{[tt]:l,background:l},g=o==="square"||o==="butt"?0:void 0,v=a??[-1,i||(a==="small"?6:8)],[f,w]=nt(v,"line",{strokeWidth:i}),h={backgroundColor:u||void 0,borderRadius:g},C=Object.assign(Object.assign({width:`${Re(n)}%`,height:w,borderRadius:g},p),{[rr]:Re(n)/100}),I=et(e),P={width:`${Re(I)}%`,height:w,borderRadius:g,backgroundColor:d==null?void 0:d.strokeColor},b={width:f<0?"100%":f,height:w};return s.createElement(s.Fragment,null,s.createElement("div",{className:`${t}-outer`,style:b},s.createElement("div",{className:`${t}-inner`,style:h},s.createElement("div",{className:`${t}-bg`,style:C}),I!==void 0?s.createElement("div",{className:`${t}-success-bg`,style:P}):null)),c)},Oo=Eo,Po=e=>{const{size:t,steps:r,percent:n=0,strokeWidth:a=8,strokeColor:i,trailColor:l=null,prefixCls:o,children:c}=e,u=Math.round(r*(n/100)),p=t??[t==="small"?2:14,a],[g,v]=nt(p,"step",{steps:r,strokeWidth:a}),f=g/r,w=new Array(r);for(let h=0;h<r;h++){const C=Array.isArray(i)?i[h]:i;w[h]=s.createElement("div",{key:h,className:G(`${o}-steps-item`,{[`${o}-steps-item-active`]:h<=u-1}),style:{backgroundColor:h<=u-1?C:l,width:f,height:v}})}return s.createElement("div",{className:`${o}-steps-outer`},w,c)},Ro=Po;var Mo=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const No=["normal","exception","active","success"],Lo=s.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:a,steps:i,strokeColor:l,percent:o=0,size:c="default",showInfo:u=!0,type:d="line",status:p,format:g,style:v}=e,f=Mo(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),w=s.useMemo(()=>{var k,M;const H=et(e);return parseInt(H!==void 0?(k=H??0)===null||k===void 0?void 0:k.toString():(M=o??0)===null||M===void 0?void 0:M.toString(),10)},[o,e.success,e.successPercent]),h=s.useMemo(()=>!No.includes(p)&&w>=100?"success":p||"normal",[p,w]),{getPrefixCls:C,direction:I,progress:P}=s.useContext(Fe),b=C("progress",r),[m,x,y]=So(b),S=s.useMemo(()=>{if(!u)return null;const k=et(e);let M;const H=g||(T=>`${T}%`),_=d==="line";return g||h!=="exception"&&h!=="success"?M=H(Re(o),Re(k)):h==="exception"?M=_?s.createElement(wr,null):s.createElement(Bt,null):h==="success"&&(M=_?s.createElement(Ir,null):s.createElement(br,null)),s.createElement("span",{className:`${b}-text`,title:typeof M=="string"?M:void 0},M)},[u,o,w,h,d,b,g]),R=Array.isArray(l)?l[0]:l,E=typeof l=="string"||Array.isArray(l)?l:void 0;let O;d==="line"?O=i?s.createElement(Ro,Object.assign({},e,{strokeColor:E,prefixCls:b,steps:typeof i=="object"?i.count:i}),S):s.createElement(Oo,Object.assign({},e,{strokeColor:R,prefixCls:b,direction:I}),S):(d==="circle"||d==="dashboard")&&(O=s.createElement(vo,Object.assign({},e,{strokeColor:R,prefixCls:b,progressStatus:h}),S));const z=G(b,`${b}-status-${h}`,{[`${b}-${d==="dashboard"&&"circle"||d}`]:d!=="line",[`${b}-inline-circle`]:d==="circle"&&nt(c,"circle")[0]<=20,[`${b}-line`]:!i&&d==="line",[`${b}-steps`]:i,[`${b}-show-info`]:u,[`${b}-${c}`]:typeof c=="string",[`${b}-rtl`]:I==="rtl"},P==null?void 0:P.className,n,a,x,y);return m(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},P==null?void 0:P.style),v),className:z,role:"progressbar","aria-valuenow":w},pr(f,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),O))}),To=Lo,at=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=e.type||"",i=a.replace(/\/.*$/,"");return r.some(function(l){var o=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(o.charAt(0)==="."){var c=n.toLowerCase(),u=o.toLowerCase(),d=[u];return(u===".jpg"||u===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(function(p){return c.endsWith(p)})}return/\/\*$/.test(o)?i===o.replace(/\/.*$/,""):a===o?!0:/^\w+$/.test(o)?(fr(!1,"Upload takes an invalidate 'accept' type '".concat(o,"'.Skip for check.")),!0):!1})}return!0};function Do(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),n=new Error(r);return n.status=t.status,n.method=e.method,n.url=e.action,n}function kt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function jo(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),e.onProgress(i)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(a){var i=e.data[a];if(Array.isArray(i)){i.forEach(function(l){r.append("".concat(a,"[]"),l)});return}r.append(a,i)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(i){e.onError(i)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Do(e,t),kt(t)):e.onSuccess(kt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(a){n[a]!==null&&t.setRequestHeader(a,n[a])}),t.send(r),{abort:function(){t.abort()}}}function ko(e,t){var r=e.createReader(),n=[];function a(){r.readEntries(function(i){var l=Array.prototype.slice.apply(i);n=n.concat(l);var o=!l.length;o?t(n):a()})}a()}var _o=function(t,r,n){var a=function i(l,o){l&&(l.path=o||"",l.isFile?l.file(function(c){n(c)&&(l.fullPath&&!c.webkitRelativePath&&(Object.defineProperties(c,{webkitRelativePath:{writable:!0}}),c.webkitRelativePath=l.fullPath.replace(/^\//,""),Object.defineProperties(c,{webkitRelativePath:{writable:!1}})),r([c]))}):l.isDirectory&&ko(l,function(c){c.forEach(function(u){i(u,"".concat(o).concat(l.name,"/"))})}))};t.forEach(function(i){a(i.webkitGetAsEntry())})},Ao=+new Date,zo=0;function it(){return"rc-upload-".concat(Ao,"-").concat(++zo)}var Fo=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Xo=function(e){At(r,e);var t=zt(r);function r(){var n;Ft(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i)),Z(pe(n),"state",{uid:it()}),Z(pe(n),"reqs",{}),Z(pe(n),"fileInput",void 0),Z(pe(n),"_isMounted",void 0),Z(pe(n),"onChange",function(o){var c=n.props,u=c.accept,d=c.directory,p=o.target.files,g=Pe(p).filter(function(v){return!d||at(v,u)});n.uploadFiles(g),n.reset()}),Z(pe(n),"onClick",function(o){var c=n.fileInput;if(c){var u=o.target,d=n.props.onClick;if(u&&u.tagName==="BUTTON"){var p=c.parentNode;p.focus(),u.blur()}c.click(),d&&d(o)}}),Z(pe(n),"onKeyDown",function(o){o.key==="Enter"&&n.onClick(o)}),Z(pe(n),"onFileDrop",function(o){var c=n.props.multiple;if(o.preventDefault(),o.type!=="dragover")if(n.props.directory)_o(Array.prototype.slice.call(o.dataTransfer.items),n.uploadFiles,function(d){return at(d,n.props.accept)});else{var u=Pe(o.dataTransfer.files).filter(function(d){return at(d,n.props.accept)});c===!1&&(u=u.slice(0,1)),n.uploadFiles(u)}}),Z(pe(n),"uploadFiles",function(o){var c=Pe(o),u=c.map(function(d){return d.uid=it(),n.processFile(d,c)});Promise.all(u).then(function(d){var p=n.props.onBatchStart;p==null||p(d.map(function(g){var v=g.origin,f=g.parsedFile;return{file:v,parsedFile:f}})),d.filter(function(g){return g.parsedFile!==null}).forEach(function(g){n.post(g)})})}),Z(pe(n),"processFile",function(){var o=mr(yt().mark(function c(u,d){var p,g,v,f,w,h,C,I,P;return yt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(p=n.props.beforeUpload,g=u,!p){m.next=14;break}return m.prev=3,m.next=6,p(u,d);case 6:g=m.sent,m.next=12;break;case 9:m.prev=9,m.t0=m.catch(3),g=!1;case 12:if(g!==!1){m.next=14;break}return m.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(v=n.props.action,typeof v!="function"){m.next=21;break}return m.next=18,v(u);case 18:f=m.sent,m.next=22;break;case 21:f=v;case 22:if(w=n.props.data,typeof w!="function"){m.next=29;break}return m.next=26,w(u);case 26:h=m.sent,m.next=30;break;case 29:h=w;case 30:return C=(Oe(g)==="object"||typeof g=="string")&&g?g:u,C instanceof File?I=C:I=new File([C],u.name,{type:u.type}),P=I,P.uid=u.uid,m.abrupt("return",{origin:u,data:h,parsedFile:P,action:f});case 35:case"end":return m.stop()}},c,null,[[3,9]])}));return function(c,u){return o.apply(this,arguments)}}()),Z(pe(n),"saveFileInput",function(o){n.fileInput=o}),n}return Xt(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var i=this,l=a.data,o=a.origin,c=a.action,u=a.parsedFile;if(this._isMounted){var d=this.props,p=d.onStart,g=d.customRequest,v=d.name,f=d.headers,w=d.withCredentials,h=d.method,C=o.uid,I=g||jo,P={action:c,filename:v,data:l,file:u,headers:f,withCredentials:w,method:h||"post",onProgress:function(m){var x=i.props.onProgress;x==null||x(m,u)},onSuccess:function(m,x){var y=i.props.onSuccess;y==null||y(m,u,x),delete i.reqs[C]},onError:function(m,x){var y=i.props.onError;y==null||y(m,x,u),delete i.reqs[C]}};p(o),this.reqs[C]=I(P)}}},{key:"reset",value:function(){this.setState({uid:it()})}},{key:"abort",value:function(a){var i=this.reqs;if(a){var l=a.uid?a.uid:a;i[l]&&i[l].abort&&i[l].abort(),delete i[l]}else Object.keys(i).forEach(function(o){i[o]&&i[o].abort&&i[o].abort(),delete i[o]})}},{key:"render",value:function(){var a,i=this.props,l=i.component,o=i.prefixCls,c=i.className,u=i.classNames,d=u===void 0?{}:u,p=i.disabled,g=i.id,v=i.style,f=i.styles,w=f===void 0?{}:f,h=i.multiple,C=i.accept,I=i.capture,P=i.children,b=i.directory,m=i.openFileDialogOnClick,x=i.onMouseEnter,y=i.onMouseLeave,S=i.hasControlInside,R=Me(i,Fo),E=G((a={},Z(a,o,!0),Z(a,"".concat(o,"-disabled"),p),Z(a,c,c),a)),O=b?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},z=p?{}:{onClick:m?this.onClick:function(){},onKeyDown:m?this.onKeyDown:function(){},onMouseEnter:x,onMouseLeave:y,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:S?void 0:"0"};return be.createElement(l,ie({},z,{className:E,role:S?void 0:"button",style:v}),be.createElement("input",ie({},Cr(R,{aria:!0,data:!0}),{id:g,disabled:p,type:"file",ref:this.saveFileInput,onClick:function(M){return M.stopPropagation()},key:this.state.uid,style:re({display:"none"},w.input),className:d.input,accept:C},O,{multiple:h,onChange:this.onChange},I!=null?{capture:I}:{})),P)}}]),r}(s.Component);function st(){}var gt=function(e){At(r,e);var t=zt(r);function r(){var n;Ft(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i)),Z(pe(n),"uploader",void 0),Z(pe(n),"saveUploader",function(o){n.uploader=o}),n}return Xt(r,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return be.createElement(Xo,ie({},this.props,{ref:this.saveUploader}))}}]),r}(s.Component);Z(gt,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:st,onError:st,onSuccess:st,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Uo=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${le(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${le(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${le(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},Bo=e=>{const{componentCls:t,antCls:r,iconCls:n,fontSize:a,lineHeight:i,calc:l}=e,o=`${t}-list-item`,c=`${o}-actions`,u=`${o}-action`,d=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Ut()),{lineHeight:e.lineHeight,[o]:{position:"relative",height:l(e.lineHeight).mul(a).equal(),marginTop:e.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${o}-name`]:Object.assign(Object.assign({},wt),{padding:`0 ${le(e.paddingXS)}`,lineHeight:i,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[c]:{whiteSpace:"nowrap",[u]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1},[`${u}${r}-btn`]:{height:d,border:0,lineHeight:1}},[`${t}-icon ${n}`]:{color:e.colorTextDescription,fontSize:a},[`${o}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:l(a).add(e.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${o}:hover ${u}`]:{opacity:1},[`${o}-error`]:{color:e.colorError,[`${o}-name, ${t}-icon ${n}`]:{color:e.colorError},[c]:{[`${n}, ${n}:hover`]:{color:e.colorError},[u]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Ho=e=>{const{componentCls:t}=e,r=new dt("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new dt("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),a=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:r},[`${a}-leave`]:{animationName:n}}},{[`${t}-wrapper`]:Vt(e)},r,n]},Wo=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:n,uploadProgressOffset:a,calc:i}=e,l=`${t}-list`,o=`${l}-item`;return{[`${t}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[o]:{position:"relative",height:i(n).add(i(e.lineWidth).mul(2)).add(i(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${o}-thumbnail`]:Object.assign(Object.assign({},wt),{width:n,height:n,lineHeight:le(i(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${o}-progress`]:{bottom:a,width:`calc(100% - ${le(i(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(n).add(e.paddingXS).equal()}},[`${o}-error`]:{borderColor:e.colorError,[`${o}-thumbnail ${r}`]:{[`svg path[fill='${St[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${St.primary}']`]:{fill:e.colorError}}},[`${o}-uploading`]:{borderStyle:"dashed",[`${o}-name`]:{marginBottom:a}}},[`${l}${l}-picture-circle ${o}`]:{[`&, &::before, ${o}-thumbnail`]:{borderRadius:"50%"}}}}},Vo=e=>{const{componentCls:t,iconCls:r,fontSizeLG:n,colorTextLightSolid:a,calc:i}=e,l=`${t}-list`,o=`${l}-item`,c=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Ut()),{display:"block",[`${t}${t}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${le(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${l}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[o]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${o}:hover`]:{[`&::before, ${o}-actions`]:{opacity:1}},[`${o}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:n,margin:`0 ${le(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${o}-thumbnail, ${o}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${o}-name`]:{display:"none",textAlign:"center"},[`${o}-file + ${o}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`},[`${o}-uploading`]:{[`&${o}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${o}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},qo=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Yo=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},_t(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},Zo=e=>({actionsColor:e.colorTextDescription}),Go=ht("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:n,controlHeightLG:a,calc:i}=e,l=Ge(e,{uploadThumbnailSize:i(t).mul(2).equal(),uploadProgressOffset:i(i(r).div(2)).add(n).equal(),uploadPicCardSize:i(a).mul(2.55).equal()});return[Yo(l),Uo(l),Wo(l),Vo(l),Bo(l),Ho(l),qo(l),Sr(l)]},Zo);function Ye(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Ze(e,t){const r=Pe(t),n=r.findIndex(a=>{let{uid:i}=a;return i===e.uid});return n===-1?r.push(e):r[n]=e,r}function lt(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(n=>n[r]===e[r])[0]}function Ko(e,t){const r=e.uid!==void 0?"uid":"name",n=t.filter(a=>a[r]!==e[r]);return n.length===t.length?null:n}const Jo=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},nr=e=>e.indexOf("image/")===0,Qo=e=>{if(e.type&&!e.thumbUrl)return nr(e.type);const t=e.thumbUrl||e.url||"",r=Jo(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},Ee=200;function ea(e){return new Promise(t=>{if(!e.type||!nr(e.type)){t("");return}const r=document.createElement("canvas");r.width=Ee,r.height=Ee,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${Ee}px; height: ${Ee}px; z-index: 9999; display: none;`,document.body.appendChild(r);const n=r.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:i,height:l}=a;let o=Ee,c=Ee,u=0,d=0;i>l?(c=l*(Ee/i),d=-(c-o)/2):(o=i*(Ee/l),u=-(o-c)/2),n.drawImage(a,u,d,o,c);const p=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(a.src),t(p)},a.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(a.src=i.result)},i.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&t(i.result)},i.readAsDataURL(e)}else a.src=window.URL.createObjectURL(e)})}const ta=s.forwardRef((e,t)=>{let{prefixCls:r,className:n,style:a,locale:i,listType:l,file:o,items:c,progress:u,iconRender:d,actionIconRender:p,itemRender:g,isImgUrl:v,showPreviewIcon:f,showRemoveIcon:w,showDownloadIcon:h,previewIcon:C,removeIcon:I,downloadIcon:P,onPreview:b,onDownload:m,onClose:x}=e;var y,S;const{status:R}=o,[E,O]=s.useState(R);s.useEffect(()=>{R!=="removed"&&O(R)},[R]);const[z,k]=s.useState(!1);s.useEffect(()=>{const U=setTimeout(()=>{k(!0)},300);return()=>{clearTimeout(U)}},[]);const M=d(o);let H=s.createElement("div",{className:`${r}-icon`},M);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(E==="uploading"||!o.thumbUrl&&!o.url){const U=G(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:E!=="uploading"});H=s.createElement("div",{className:U},M)}else{const U=v!=null&&v(o)?s.createElement("img",{src:o.thumbUrl||o.url,alt:o.name,className:`${r}-list-item-image`,crossOrigin:o.crossOrigin}):M,Q=G(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:v&&!v(o)});H=s.createElement("a",{className:Q,onClick:ae=>b(o,ae),href:o.url||o.thumbUrl,target:"_blank",rel:"noopener noreferrer"},U)}const _=G(`${r}-list-item`,`${r}-list-item-${E}`),T=typeof o.linkProps=="string"?JSON.parse(o.linkProps):o.linkProps,K=w?p((typeof I=="function"?I(o):I)||s.createElement(Mr,null),()=>x(o),r,i.removeFile,!0):null,ne=h&&E==="done"?p((typeof P=="function"?P(o):P)||s.createElement(_r,null),()=>m(o),r,i.downloadFile):null,oe=l!=="picture-card"&&l!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:G(`${r}-list-item-actions`,{picture:l==="picture"})},ne,K),Y=G(`${r}-list-item-name`),J=o.url?[s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:Y,title:o.name},T,{href:o.url,onClick:U=>b(o,U)}),o.name),oe]:[s.createElement("span",{key:"view",className:Y,onClick:U=>b(o,U),title:o.name},o.name),oe],$=f&&(o.url||o.thumbUrl)?s.createElement("a",{href:o.url||o.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:U=>b(o,U),title:i.previewFile},typeof C=="function"?C(o):C||s.createElement(Yt,null)):null,D=(l==="picture-card"||l==="picture-circle")&&E!=="uploading"&&s.createElement("span",{className:`${r}-list-item-actions`},$,E==="done"&&ne,K),{getPrefixCls:W}=s.useContext(Fe),F=W(),A=s.createElement("div",{className:_},H,J,D,z&&s.createElement(vt,{motionName:`${F}-fade`,visible:E==="uploading",motionDeadline:2e3},U=>{let{className:Q}=U;const ae="percent"in o?s.createElement(To,Object.assign({},u,{type:"line",percent:o.percent,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"]})):null;return s.createElement("div",{className:G(`${r}-list-item-progress`,Q)},ae)})),V=o.response&&typeof o.response=="string"?o.response:((y=o.error)===null||y===void 0?void 0:y.statusText)||((S=o.error)===null||S===void 0?void 0:S.message)||i.uploadError,X=E==="error"?s.createElement(Zt,{title:V,getPopupContainer:U=>U.parentNode},A):A;return s.createElement("div",{className:G(`${r}-list-item-container`,n),style:a,ref:t},g?g(X,o,c,{download:m.bind(null,o),preview:b.bind(null,o),remove:x.bind(null,o)}):X)}),ra=ta,na=(e,t)=>{const{listType:r="text",previewFile:n=ea,onPreview:a,onDownload:i,onRemove:l,locale:o,iconRender:c,isImageUrl:u=Qo,prefixCls:d,items:p=[],showPreviewIcon:g=!0,showRemoveIcon:v=!0,showDownloadIcon:f=!1,removeIcon:w,previewIcon:h,downloadIcon:C,progress:I={size:[-1,2],showInfo:!1},appendAction:P,appendActionVisible:b=!0,itemRender:m,disabled:x}=e,y=Pr(),[S,R]=s.useState(!1);s.useEffect(()=>{r!=="picture"&&r!=="picture-card"&&r!=="picture-circle"||(p||[]).forEach($=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!($.originFileObj instanceof File||$.originFileObj)||$.thumbUrl!==void 0||n&&n($.originFileObj).then(D=>{$.thumbUrl=D||"",y()})})},[r,p,n]),s.useEffect(()=>{R(!0)},[]);const E=($,D)=>{if(a)return D==null||D.preventDefault(),a($)},O=$=>{typeof i=="function"?i($):$.url&&window.open($.url)},z=$=>{l==null||l($)},k=$=>{if(c)return c($,r);const D=$.status==="uploading",W=u&&u($)?s.createElement(Jr,null):s.createElement(Ur,null);let F=D?s.createElement($t,null):s.createElement(qr,null);return r==="picture"?F=D?s.createElement($t,null):W:(r==="picture-card"||r==="picture-circle")&&(F=D?o.uploading:W),F},M=($,D,W,F,A)=>{const V={type:"text",size:"small",title:F,onClick:X=>{var U,Q;D(),s.isValidElement($)&&((Q=(U=$.props).onClick)===null||Q===void 0||Q.call(U,X))},className:`${W}-list-item-action`};if(A&&(V.disabled=x),s.isValidElement($)){const X=xt($,Object.assign(Object.assign({},$.props),{onClick:()=>{}}));return s.createElement(It,Object.assign({},V,{icon:X}))}return s.createElement(It,Object.assign({},V),s.createElement("span",null,$))};s.useImperativeHandle(t,()=>({handlePreview:E,handleDownload:O}));const{getPrefixCls:H}=s.useContext(Fe),_=H("upload",d),T=H(),K=G(`${_}-list`,`${_}-list-${r}`),ne=Pe(p.map($=>({key:$.uid,file:$})));let Y={motionDeadline:2e3,motionName:`${_}-${r==="picture-card"||r==="picture-circle"?"animate-inline":"animate"}`,keys:ne,motionAppear:S};const J=s.useMemo(()=>{const $=Object.assign({},Rr(T));return delete $.onAppearEnd,delete $.onEnterEnd,delete $.onLeaveEnd,$},[T]);return r!=="picture-card"&&r!=="picture-circle"&&(Y=Object.assign(Object.assign({},J),Y)),s.createElement("div",{className:K},s.createElement(gr,Object.assign({},Y,{component:!1}),$=>{let{key:D,file:W,className:F,style:A}=$;return s.createElement(ra,{key:D,locale:o,prefixCls:_,className:F,style:A,file:W,items:p,progress:I,listType:r,isImgUrl:u,showPreviewIcon:g,showRemoveIcon:v,showDownloadIcon:f,removeIcon:w,previewIcon:h,downloadIcon:C,iconRender:k,actionIconRender:M,itemRender:m,onPreview:E,onDownload:O,onClose:z})}),P&&s.createElement(vt,Object.assign({},Y,{visible:b,forceRender:!0}),$=>{let{className:D,style:W}=$;return xt(P,F=>({className:G(F.className,D),style:Object.assign(Object.assign(Object.assign({},W),{pointerEvents:D?"none":void 0}),F.style)}))}))},oa=s.forwardRef(na),aa=oa;var ia=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(p){l(p)}}function c(d){try{u(n.throw(d))}catch(p){l(p)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const We=`__LIST_IGNORE_${Date.now()}__`,sa=(e,t)=>{const{fileList:r,defaultFileList:n,onRemove:a,showUploadList:i=!0,listType:l="text",onPreview:o,onDownload:c,onChange:u,onDrop:d,previewFile:p,disabled:g,locale:v,iconRender:f,isImageUrl:w,progress:h,prefixCls:C,className:I,type:P="select",children:b,style:m,itemRender:x,maxCount:y,data:S={},multiple:R=!1,hasControlInside:E=!0,action:O="",accept:z="",supportServerRender:k=!0,rootClassName:M}=e,H=s.useContext(vr),_=g??H,[T,K]=Ke(n||[],{value:r,postState:N=>N??[]}),[ne,oe]=s.useState("drop"),Y=s.useRef(null),J=s.useRef(null);s.useMemo(()=>{const N=Date.now();(r||[]).forEach((q,te)=>{!q.uid&&!Object.isFrozen(q)&&(q.uid=`__AUTO__${N}_${te}__`)})},[r]);const $=(N,q,te)=>{let j=Pe(q),L=!1;y===1?j=j.slice(-1):y&&(L=j.length>y,j=j.slice(0,y)),Ct.flushSync(()=>{K(j)});const B={file:N,fileList:j};te&&(B.event=te),(!L||N.status==="removed"||j.some(Le=>Le.uid===N.uid))&&Ct.flushSync(()=>{u==null||u(B)})},D=(N,q)=>ia(void 0,void 0,void 0,function*(){const{beforeUpload:te,transformFile:j}=e;let L=N;if(te){const B=yield te(N,q);if(B===!1)return!1;if(delete N[We],B===We)return Object.defineProperty(N,We,{value:!0,configurable:!0}),!1;typeof B=="object"&&B&&(L=B)}return j&&(L=yield j(L)),L}),W=N=>{const q=N.filter(L=>!L.file[We]);if(!q.length)return;const te=q.map(L=>Ye(L.file));let j=Pe(T);te.forEach(L=>{j=Ze(L,j)}),te.forEach((L,B)=>{let Le=L;if(q[B].parsedFile)L.status="uploading";else{const{originFileObj:_e}=L;let Te;try{Te=new File([_e],_e.name,{type:_e.type})}catch{Te=new Blob([_e],{type:_e.type}),Te.name=_e.name,Te.lastModifiedDate=new Date,Te.lastModified=new Date().getTime()}Te.uid=L.uid,Le=Te}$(Le,j)})},F=(N,q,te)=>{try{typeof N=="string"&&(N=JSON.parse(N))}catch{}if(!lt(q,T))return;const j=Ye(q);j.status="done",j.percent=100,j.response=N,j.xhr=te;const L=Ze(j,T);$(j,L)},A=(N,q)=>{if(!lt(q,T))return;const te=Ye(q);te.status="uploading",te.percent=N.percent;const j=Ze(te,T);$(te,j,N)},V=(N,q,te)=>{if(!lt(te,T))return;const j=Ye(te);j.error=N,j.response=q,j.status="error";const L=Ze(j,T);$(j,L)},X=N=>{let q;Promise.resolve(typeof a=="function"?a(N):a).then(te=>{var j;if(te===!1)return;const L=Ko(N,T);L&&(q=Object.assign(Object.assign({},N),{status:"removed"}),T==null||T.forEach(B=>{const Le=q.uid!==void 0?"uid":"name";B[Le]===q[Le]&&!Object.isFrozen(B)&&(B.status="removed")}),(j=Y.current)===null||j===void 0||j.abort(q),$(q,L))})},U=N=>{oe(N.type),N.type==="drop"&&(d==null||d(N))};s.useImperativeHandle(t,()=>({onBatchStart:W,onSuccess:F,onProgress:A,onError:V,fileList:T,upload:Y.current,nativeElement:J.current}));const{getPrefixCls:Q,direction:ae,upload:ue}=s.useContext(Fe),ee=Q("upload",C),fe=Object.assign(Object.assign({onBatchStart:W,onError:V,onProgress:A,onSuccess:F},e),{data:S,multiple:R,action:O,accept:z,supportServerRender:k,prefixCls:ee,disabled:_,beforeUpload:D,onChange:void 0,hasControlInside:E});delete fe.className,delete fe.style,(!b||_)&&delete fe.id;const ye=`${ee}-wrapper`,[ce,de,me]=Go(ee,ye),[we]=yr("Upload",ct.Upload),{showRemoveIcon:ge,showPreviewIcon:Ne,showDownloadIcon:Se,removeIcon:$e,previewIcon:Xe,downloadIcon:Ue}=typeof i=="boolean"?{}:i,Be=typeof ge>"u"?!_:!!ge,ve=(N,q)=>i?s.createElement(aa,{prefixCls:ee,listType:l,items:T,previewFile:p,onPreview:o,onDownload:c,onRemove:X,showRemoveIcon:Be,showPreviewIcon:Ne,showDownloadIcon:Se,removeIcon:$e,previewIcon:Xe,downloadIcon:Ue,iconRender:f,locale:Object.assign(Object.assign({},we),v),isImageUrl:w,progress:h,appendAction:N,appendActionVisible:q,itemRender:x,disabled:_}):N,he=G(ye,I,M,de,me,ue==null?void 0:ue.className,{[`${ee}-rtl`]:ae==="rtl",[`${ee}-picture-card-wrapper`]:l==="picture-card",[`${ee}-picture-circle-wrapper`]:l==="picture-circle"}),je=Object.assign(Object.assign({},ue==null?void 0:ue.style),m);if(P==="drag"){const N=G(de,ee,`${ee}-drag`,{[`${ee}-drag-uploading`]:T.some(q=>q.status==="uploading"),[`${ee}-drag-hover`]:ne==="dragover",[`${ee}-disabled`]:_,[`${ee}-rtl`]:ae==="rtl"});return ce(s.createElement("span",{className:he,ref:J},s.createElement("div",{className:N,style:je,onDrop:U,onDragOver:U,onDragLeave:U},s.createElement(gt,Object.assign({},fe,{ref:Y,className:`${ee}-btn`}),s.createElement("div",{className:`${ee}-drag-container`},b))),ve()))}const ke=G(ee,`${ee}-select`,{[`${ee}-disabled`]:_}),xe=s.createElement("div",{className:ke,style:b?void 0:{display:"none"}},s.createElement(gt,Object.assign({},fe,{ref:Y})));return ce(l==="picture-card"||l==="picture-circle"?s.createElement("span",{className:he,ref:J},ve(xe,!!b)):s.createElement("span",{className:he,ref:J},xe,ve()))},la=s.forwardRef(sa),or=la;var ca=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ua=s.forwardRef((e,t)=>{var{style:r,height:n,hasControlInside:a=!1}=e,i=ca(e,["style","height","hasControlInside"]);return s.createElement(or,Object.assign({ref:t,hasControlInside:a},i,{type:"drag",style:Object.assign(Object.assign({},r),{height:n})}))}),da=ua,bt=or;bt.Dragger=da;bt.LIST_IGNORE=We;const pa=bt,fa=e=>new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result),n.onerror=a=>r(a)}),Da=({files:e,type:t})=>{const{user:r}=sr(f=>f.app),{url:n}=ar(),[a,i]=s.useState(!1),[l,o]=s.useState(""),[c,u]=s.useState([]);s.useEffect(()=>{u([...c,...e.map(f=>({uid:f.id,name:"uploaded",url:f.url,status:"done"}))])},[]);const d=async f=>{!f.url&&!f.preview&&(f.preview=await fa(f.originFileObj)),o(f.url||f.preview),i(!0)};function p(f){return!f.some(h=>h.status!=="done")}async function g({fileList:f}){const w=new FormData,h=n.split("/")[n.split("/").length-2].split("#")[0];if(w.append("ticket_id",h),w.append("user_id",r.id),w.append("type",t),p(f))for(let C=0;C<f.length;C++)f[C].name!=="uploaded"&&f[C].status=="done"&&(w.append("files[]",f[C].originFileObj),u(f));else u(f);await ir.dispatch(lr(w,h))}const v=Ie.jsxs("button",{style:{border:0,background:"none"},type:"button",children:[Ie.jsx(nn,{}),Ie.jsx("div",{style:{marginTop:8},children:"Upload"})]});return Ie.jsxs(Ie.Fragment,{children:[Ie.jsx(pa,{multiple:!0,method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",listType:"picture-card",fileList:c,onPreview:d,onChange:g,children:c.length>=8?null:v}),l&&Ie.jsx(Mt.PreviewGroup,{preview:{visible:a,onVisibleChange:f=>i(f),afterOpenChange:f=>!f&&o("")},children:Ie.jsx(Mt,{wrapperStyle:{display:"none"},src:l})})]})};export{Da as default};
