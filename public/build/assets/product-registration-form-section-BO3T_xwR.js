import{r as m,j as t}from"./page-qXX18sLb.js";import{I as o}from"./input-Dd2hg5TK.js";import{S as u}from"./select-0wNGrt06.js";import{c}from"./country-8vBUNMx6.js";import{L as y}from"./loading-DCmBDVuY.js";import{p as b}from"./product-registration-service-CudC87iD.js";import{U as v}from"./index-DgRf6ELE.js";import{B as q}from"./button-Bip6VaGD.js";import{R as C}from"./UploadOutlined-CY9bspFt.js";import{s as d}from"./index-BpArDj_h.js";import"./asyncToGenerator-B9xj2eeY.js";import"./index-DKf71GJz.js";import"./pickAttrs-BKi7x-MH.js";import"./index-CJ7vdvjZ.js";import"./compact-item-Cr7mAikM.js";import"./index-xAxIaBpI.js";import"./ContextIsolator-Dy2sq9Yh.js";import"./useZIndex-DN5eYdMR.js";import"./motion-4S5rSXvC.js";import"./roundedArrow-Dbr1JdtU.js";import"./zoom-CO5qnTIs.js";import"./fade-HUeXD_9w.js";import"./useForceUpdate-DSOoK_wb.js";import"./DeleteOutlined-DRrM4HOR.js";import"./EyeOutlined-C1yU-cgG.js";import"./CheckCircleFilled-CMUqGOQz.js";import"./useLocale-DDWj1cXK.js";import"./render-D23-iADH.js";import"./InfoCircleFilled-Bxk0B79p.js";import"./KeyCode-DNlgD2sM.js";import"./useCSSVarCls-nZBS1Gqr.js";function te(){const[e,n]=m.useState({}),[p,l]=m.useState(!1);function f(a){const r=(""+a).replace(/\D/g,"");let s=r;return r.length===11&&(s=r.slice(0,-1)),s.length===10?s.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):a}function i(a,r){if(r=="phone")n({...e,phone:f(a)});else if(r=="issue"){if(a.name){const s=`["${a.name}"]`;n({...e,issue:s})}}else r=="country"?n({...e,country:a,state:""}):n({...e,[r]:a})}async function h(a){l(!0),a.preventDefault();const r=new FormData;if(r.append("fname",e.fname),r.append("lname",e.lname),r.append("phone",e.phone),r.append("email",e.email),r.append("model",e.model),r.append("serial",e.serial),r.append("country",e.country),r.append("state",e.state),r.append("city",e.city),r.append("zipcode",e.zipcode),r.append("address1",e.address1),r.append("address2",e.address2),r.append("fname",e.fname),e.fileList&&e.fileList.length!==0)if(e.serial==17){e.fileList.forEach(s=>{s.name!=="uploaded"&&s.status==="done"&&r.append("files[]",s.originFileObj)});try{await b(r),d.success("Product Registration Successfully!"),n({}),l(!1)}catch{l(!1)}}else d.error('Serial # must have 17 digits and start with the letter "A"');else d.error("Please attach your receipt."),l(!1)}const x=a=>c.find(r=>r.value===a),{regions:g}=x((e==null?void 0:e.country)??"CA"),j={name:"file",method:"GET",action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",multiple:!0,headers:{authorization:"authorization-text"},onChange(a){n({...e,fileList:a.fileList})}};return console.log("form?.fileList",e),t.jsx("div",{children:t.jsxs("form",{onSubmit:h,className:" w-full px-8 pt-6 pb-8 mb-4 flex flex-col gap-3 ",children:[t.jsx("div",{className:"flex items-center justify-center font-black text-3xl",children:t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("img",{src:"/images/logo.png"}),"Product Registration Form"]})}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx(o,{required:!0,onChange:i,name:"fname",value:e.fname,label:"First Name",type:"text",errorMessage:"First Name is required"}),t.jsx(o,{required:!0,onChange:i,name:"lname",value:e.lname,label:"Last Name",type:"text",errorMessage:"Last Name is required"})]}),t.jsx(o,{required:!0,onChange:i,name:"phone",value:e.phone,label:"Phone",type:"phone",errorMessage:"Phone is required"}),t.jsx(o,{required:!0,onChange:i,name:"email",value:e.email,label:"Email",type:"email",errorMessage:"Email is required"}),t.jsx(o,{required:!0,onChange:i,name:"model",value:e.model,label:"Model",type:"text",errorMessage:"Model is required"}),t.jsx("div",{className:"mt-2",children:t.jsx(o,{required:!0,onChange:i,name:"serial",value:e.serial,label:"Serial # (starts with letter A and 16 digits)",type:"text",errorMessage:"Serial is required"})}),t.jsx("div",{className:"mt-2",children:t.jsx(u,{onChange:i,name:"country",required:!0,value:e==null?void 0:e.country,label:"Country",data:c.map(a=>({name:a.name,value:a.value}))})}),t.jsx(u,{onChange:i,name:"state",required:!0,value:e==null?void 0:e.state,label:"State / Province / Region",data:g}),t.jsx(o,{required:!0,onChange:i,name:"city",value:e.city,label:"City",type:"text",errorMessage:"City is required"}),t.jsx(o,{required:!0,onChange:i,name:"zipcode",value:e.zipcode,label:"Zip / Postal Code",type:"text",errorMessage:"Zipcode is required"}),t.jsx(o,{onChange:i,name:"address1",required:!0,value:e==null?void 0:e.address1,label:"Address 1",type:"text"}),t.jsx(o,{onChange:i,name:"address2",required:!1,value:e==null?void 0:e.address2,label:"Address 2",type:"text"}),"Entire Picture of the Receipt that shows Date of Purchase, Name of Store,",t.jsx("br",{}),"Unit Description, Unit Price, Order Summary with Total Breakdown:",t.jsx("br",{}),t.jsx("div",{className:"text-red-500",children:"NOTE: It must be clear and readable. Not valid if required information is incomplete."}),t.jsx(v,{fileList:(e==null?void 0:e.fileList)??[],listType:"picture",...j,children:t.jsx(q,{icon:t.jsx(C,{}),children:"Click to upload receipt/bill of sale."})}),t.jsx("button",{disabled:p,className:"p-3 flex w-full items-center justify-center bg-blue-500 text-white rounded-sm hover:to-blue-600",children:p?t.jsx("div",{className:"py-1.5",children:t.jsx(y,{})}):"REGISTER"})]})]})})}export{te as default};
