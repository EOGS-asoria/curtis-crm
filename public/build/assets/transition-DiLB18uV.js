import{r as l,m as E}from"./app-kUBUR3Jb.js";import{t as he,f as _,u as x,s as N,l as Q,O as ge,U as J,y as ne,v as R,a as le,o as L,b as te,C as ie}from"./use-is-mounted-CuWVJbwX.js";function A(){let e=[],t={addEventListener(r,n,o,d){return r.addEventListener(n,o,d),t.add(()=>r.removeEventListener(n,o,d))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return he(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,o){let d=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:o}),this.add(()=>{Object.assign(r.style,{[n]:d})})},group(r){let n=A();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let o of e.splice(n,1))o()}},dispose(){for(let r of e.splice(0))r()}};return t}function ae(){let[e]=l.useState(A);return l.useEffect(()=>()=>e.dispose(),[e]),e}let W=l.createContext(null);W.displayName="OpenClosedContext";var T=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(T||{});function se(){return l.useContext(W)}function be({value:e,children:t}){return E.createElement(W.Provider,{value:e},t)}function Ee(e=0){let[t,r]=l.useState(e),n=_(),o=l.useCallback(s=>{n.current&&r(i=>i|s)},[t,n]),d=l.useCallback(s=>!!(t&s),[t]),v=l.useCallback(s=>{n.current&&r(i=>i&~s)},[r,n]),f=l.useCallback(s=>{n.current&&r(i=>i^s)},[r]);return{flags:t,addFlag:o,hasFlag:d,removeFlag:v,toggleFlag:f}}function Te(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function G(e,...t){e&&t.length>0&&e.classList.add(...t)}function K(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Fe(e,t){let r=A();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(e),[d,v]=[n,o].map(s=>{let[i=0]=s.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,g)=>g-c);return i}),f=d+v;if(f!==0){r.group(i=>{i.setTimeout(()=>{t(),i.dispose()},f),i.addEventListener(e,"transitionrun",c=>{c.target===c.currentTarget&&i.dispose()})});let s=r.addEventListener(e,"transitionend",i=>{i.target===i.currentTarget&&(t(),s())})}else t();return r.add(()=>t()),r.dispose}function Ce(e,t,r,n){let o=r?"enter":"leave",d=A(),v=n!==void 0?Te(n):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let f=x(o,{enter:()=>t.enter,leave:()=>t.leave}),s=x(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),i=x(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return K(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),G(e,...t.base,...f,...i),d.nextFrame(()=>{K(e,...t.base,...f,...i),G(e,...t.base,...f,...s),Fe(e,()=>(K(e,...t.base,...f),G(e,...t.base,...t.entered),v()))}),d.dispose}function xe({immediate:e,container:t,direction:r,classes:n,onStart:o,onStop:d}){let v=_(),f=ae(),s=N(r);Q(()=>{e&&(s.current="enter")},[e]),Q(()=>{let i=A();f.add(i.dispose);let c=t.current;if(c&&s.current!=="idle"&&v.current)return i.dispose(),o.current(s.current),i.add(Ce(c,n.current,s.current==="enter",()=>{i.dispose(),d.current(s.current)})),i.dispose},[r])}function C(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let U=l.createContext(null);U.displayName="TransitionContext";var Le=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Le||{});function $e(){let e=l.useContext(U);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function we(){let e=l.useContext(M);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let M=l.createContext(null);M.displayName="NestingContext";function j(e){return"children"in e?j(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ue(e,t){let r=N(e),n=l.useRef([]),o=_(),d=ae(),v=L((p,u=R.Hidden)=>{let m=n.current.findIndex(({el:a})=>a===p);m!==-1&&(x(u,{[R.Unmount](){n.current.splice(m,1)},[R.Hidden](){n.current[m].state="hidden"}}),d.microTask(()=>{var a;!j(n)&&o.current&&((a=r.current)==null||a.call(r))}))}),f=L(p=>{let u=n.current.find(({el:m})=>m===p);return u?u.state!=="visible"&&(u.state="visible"):n.current.push({el:p,state:"visible"}),()=>v(p,R.Unmount)}),s=l.useRef([]),i=l.useRef(Promise.resolve()),c=l.useRef({enter:[],leave:[],idle:[]}),g=L((p,u,m)=>{s.current.splice(0),t&&(t.chains.current[u]=t.chains.current[u].filter(([a])=>a!==p)),t==null||t.chains.current[u].push([p,new Promise(a=>{s.current.push(a)})]),t==null||t.chains.current[u].push([p,new Promise(a=>{Promise.all(c.current[u].map(([y,O])=>O)).then(()=>a())})]),u==="enter"?i.current=i.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(u)):m(u)}),b=L((p,u,m)=>{Promise.all(c.current[u].splice(0).map(([a,y])=>y)).then(()=>{var a;(a=s.current.shift())==null||a()}).then(()=>m(u))});return l.useMemo(()=>({children:n,register:f,unregister:v,onStart:g,onStop:b,wait:i,chains:c}),[f,v,n,g,b,c,i])}function Re(){}let ye=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function re(e){var t;let r={};for(let n of ye)r[n]=(t=e[n])!=null?t:Re;return r}function Oe(e){let t=l.useRef(re(e));return l.useEffect(()=>{t.current=re(e)},[e]),t}let Se="div",oe=ge.RenderStrategy;function Pe(e,t){var r,n;let{beforeEnter:o,afterEnter:d,beforeLeave:v,afterLeave:f,enter:s,enterFrom:i,enterTo:c,entered:g,leave:b,leaveFrom:p,leaveTo:u,...m}=e,a=l.useRef(null),y=ne(a,t),O=(r=m.unmount)==null||r?R.Unmount:R.Hidden,{show:h,appear:$,initial:X}=$e(),[w,B]=l.useState(h?"visible":"hidden"),Z=we(),{register:D,unregister:k}=Z;l.useEffect(()=>D(a),[D,a]),l.useEffect(()=>{if(O===R.Hidden&&a.current){if(h&&w!=="visible"){B("visible");return}return x(w,{hidden:()=>k(a),visible:()=>D(a)})}},[w,a,D,k,h,O]);let V=N({base:C(m.className),enter:C(s),enterFrom:C(i),enterTo:C(c),entered:C(g),leave:C(b),leaveFrom:C(p),leaveTo:C(u)}),q=Oe({beforeEnter:o,afterEnter:d,beforeLeave:v,afterLeave:f}),I=le();l.useEffect(()=>{if(I&&w==="visible"&&a.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[a,w,I]);let de=X&&!$,ee=$&&h&&X,fe=!I||de?"idle":h?"enter":"leave",P=Ee(0),me=L(F=>x(F,{enter:()=>{P.addFlag(T.Opening),q.current.beforeEnter()},leave:()=>{P.addFlag(T.Closing),q.current.beforeLeave()},idle:()=>{}})),ve=L(F=>x(F,{enter:()=>{P.removeFlag(T.Opening),q.current.afterEnter()},leave:()=>{P.removeFlag(T.Closing),q.current.afterLeave()},idle:()=>{}})),H=ue(()=>{B("hidden"),k(a)},Z),z=l.useRef(!1);xe({immediate:ee,container:a,classes:V,direction:fe,onStart:N(F=>{z.current=!0,H.onStart(a,F,me)}),onStop:N(F=>{z.current=!1,H.onStop(a,F,ve),F==="leave"&&!j(H)&&(B("hidden"),k(a))})});let S=m,pe={ref:y};return ee?S={...S,className:te(m.className,...V.current.enter,...V.current.enterFrom)}:z.current&&(S.className=te(m.className,(n=a.current)==null?void 0:n.className),S.className===""&&delete S.className),E.createElement(M.Provider,{value:H},E.createElement(be,{value:x(w,{visible:T.Open,hidden:T.Closed})|P.flags},ie({ourProps:pe,theirProps:S,defaultTag:Se,features:oe,visible:w==="visible",name:"Transition.Child"})))}function Ne(e,t){let{show:r,appear:n=!1,unmount:o=!0,...d}=e,v=l.useRef(null),f=ne(v,t);le();let s=se();if(r===void 0&&s!==null&&(r=(s&T.Open)===T.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[i,c]=l.useState(r?"visible":"hidden"),g=ue(()=>{c("hidden")}),[b,p]=l.useState(!0),u=l.useRef([r]);Q(()=>{b!==!1&&u.current[u.current.length-1]!==r&&(u.current.push(r),p(!1))},[u,r]);let m=l.useMemo(()=>({show:r,appear:n,initial:b}),[r,n,b]);l.useEffect(()=>{if(r)c("visible");else if(!j(g))c("hidden");else{let h=v.current;if(!h)return;let $=h.getBoundingClientRect();$.x===0&&$.y===0&&$.width===0&&$.height===0&&c("hidden")}},[r,g]);let a={unmount:o},y=L(()=>{var h;b&&p(!1),(h=e.beforeEnter)==null||h.call(e)}),O=L(()=>{var h;b&&p(!1),(h=e.beforeLeave)==null||h.call(e)});return E.createElement(M.Provider,{value:g},E.createElement(U.Provider,{value:m},ie({ourProps:{...a,as:l.Fragment,children:E.createElement(ce,{ref:f,...a,...d,beforeEnter:y,beforeLeave:O})},theirProps:{},defaultTag:l.Fragment,features:oe,visible:i==="visible",name:"Transition"})))}function Ae(e,t){let r=l.useContext(U)!==null,n=se()!==null;return E.createElement(E.Fragment,null,!r&&n?E.createElement(Y,{ref:t,...e}):E.createElement(ce,{ref:t,...e}))}let Y=J(Ne),ce=J(Pe),De=J(Ae),He=Object.assign(Y,{Child:De,Root:Y});export{T as d,A as o,ae as p,He as q,se as u};
