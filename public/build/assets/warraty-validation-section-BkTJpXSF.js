import{c as g,u as b,r as i,j as e,K as v,H as j}from"./app-DteGzxXq.js";import{I as r}from"./input-Uwsl9B0e.js";import{S as n}from"./select-D1VrP2Ba.js";import{s as N}from"./receipt-service-XJn1JLPB.js";import{c as k}from"./product-search-D02tyvLD.js";function V(){const{ticket:c}=g(s=>s.tickets),d=b(),[u,m]=i.useState([]),[a,x]=i.useState({store:"",retailers_price:"0",discount:"0",total_price:"0",refurbished:"true",notes:null});i.useEffect(()=>{async function s(l){const f=await k();m(f.map(o=>({name:o,value:o})))}s()},[]);function t(s,l){x({...a,[l]:s})}async function p(){const s=await N({...c,...a});d(v(s.status)),j.visit("#decision")}function h(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"text-4xl font-black",children:"Receipt details"}),e.jsx(n,{onChange:t,name:"store",value:a.store,label:"Store Name",errorMessage:"Store Name is required",data:u}),e.jsx(r,{span:"$",onChange:t,name:"retailers_price",value:a.retailers_price,label:"Retailers Price",type:"text",errorMessage:"Retailers Price is required"}),e.jsx(r,{span:"$",onChange:t,name:"discount",value:a.discount,label:"Discount",type:"text",errorMessage:"Discount is required",readOnly:!0}),e.jsx(r,{span:"$",onChange:t,name:"total_price",value:parseFloat(a.retailers_price)-parseFloat(a.discount),label:"Total Price",type:"text",errorMessage:"Total Price is required",readOnly:!0}),e.jsx(n,{onChange:t,name:"refurbished",value:a.refurbished,label:"Refurbished Logo?",errorMessage:"Refurbished is required",data:[{value:"true",name:"Yes"},{value:"false",name:"No"}]}),e.jsx(r,{onChange:t,name:"notes",value:a.notes,label:"Validation Notes",type:"text",errorMessage:"Validation Notes is required"}),e.jsxs("div",{className:"flex flex-col bg-blue-700 text-white p-3 rounded-md gap-4",children:[e.jsx("div",{className:"text-2xl font-bold",children:"Mark this Ticket Valid"}),e.jsx("div",{children:e.jsx("button",{onClick:p,className:"bg-white hover:bg-gray-300 text-blue-700 p-3 rounded-md font-black",children:"MARK VALID"})})]}),e.jsxs("div",{className:"flex flex-col bg-red-600 text-white p-3 rounded-md gap-4",children:[e.jsx("div",{className:"text-2xl font-bold",children:"Mark this Ticket In-Valid"}),e.jsxs("div",{className:"bg-white p-5 rounded-md text-black",children:["REASON:",e.jsx(n,{onChange:t,name:"reason",value:a.reason,errorMessage:"Reason is required",data:[{value:"CA",name:"Canada"},{value:"US",name:"United States"}]})]}),e.jsx("div",{children:e.jsx("button",{onClick:h,className:"bg-white hover:bg-gray-300 text-red-600 p-3 rounded-md font-black",children:"MARK INVALID"})})]})]})})}export{V as default};
