import{r as s,c as j,j as t,H as w}from"./app-BvHbonui.js";import y from"./tickets-table-header-section-BqbxlrHn.js";import{h as x}from"./moment-Cl4UOzQZ.js";import N from"./tickets-search-section-T86bPH9L.js";import b from"./tickets-paginate-section-DeZk_MSU.js";import"./tickets-thunk-BEbYR1R_.js";import"./tickets-service-BHWw0A67.js";import"./internals-service-B9kSbxh_.js";function v({title:r,titleId:a,...n},i){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const L=s.forwardRef(v),k=L;function D(){const{tickets:r}=j(e=>e.tickets),[a,n]=s.useState(!1),[i,d]=s.useState({x:0,y:0});s.useEffect(()=>{if(a){const e=()=>{n(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[a]);const p=e=>{const l=e.target.getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,c=110,f=45,u=l.left+window.pageXOffset+l.width+c<window.innerWidth?l.right+window.pageXOffset:l.left+window.pageXOffset-c,g=l.top+o-f;d({x:u,y:g}),n(!0)},m=()=>{n(!1)};function h(e){w.visit("/administrator/tickets/details/"+e+"#files")}return t.jsx(t.Fragment,{children:t.jsxs("section",{className:" pr-3 py-5 bg-white min-h-screen px-5",children:[t.jsx("div",{className:"sm:flex sm:items-center sm:justify-between",children:t.jsx(y,{})}),t.jsx(N,{}),t.jsx("div",{className:"flex flex-col mt-6",children:t.jsx("div",{children:t.jsx("div",{className:"w-full py-2 ",children:t.jsx("div",{className:"overflow-hidden border border-gray-200  md:rounded-lg",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"py-3.5 px-4 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:t.jsxs("button",{className:"flex items-center gap-x-3 focus:outline-none",children:[t.jsx("span",{children:"ID"}),t.jsxs("svg",{className:"h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"}),t.jsx("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"}),t.jsx("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.3"})]})]})}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Fullname"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Email"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Resolution"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Issue"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Status"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Is Uploaded"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Created At"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Last Updated At"}),t.jsx("th",{scope:"col",className:"px-4 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 ",children:"Action"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200 ",children:r.map((e,l)=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap",children:t.jsx("h2",{className:"font-medium text-gray-800",children:e.id})}),t.jsxs("td",{className:"px-4 py-4 text-sm font-medium whitespace-nowrap",children:[e.fname,"  ",e.lname]}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:e.email}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:e.call_type}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:t.jsx("div",{children:JSON.parse(e.issue).map((o,c)=>t.jsx("div",{className:"flex justify-center items-center m-1 font-medium py-1 px-2 rounded-md text-blue-100 bg-blue-700 border border-blue-700",children:t.jsx("div",{className:"text-xs font-normal leading-none max-w-full flex-initial",children:o})},c))})}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap ",children:e.status==null?t.jsx("div",{className:"inline py-1 font-black text-sm rounded-full text-orange-500 gap-x-2 bg-orange-100/60",children:"OPEN"}):e.status=="CLOSED"?t.jsx("div",{className:"inline py-1 font-black text-sm rounded-full text-red-500 gap-x-2 bg-red-100/60",children:e.status}):t.jsx("div",{className:"inline py-1 font-black text-sm rounded-full text-blue-500 gap-x-2 bg-blue-100/60",children:e.status})}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:e.isUploading=="true"?t.jsx("div",{className:"inline px-3 py-1 text-sm font-black rounded-full text-green-500 gap-x-2 bg-green-100/60",children:"UPLOADED"}):t.jsx("div",{className:"inline px-3 py-1 text-sm font-black rounded-full text-red-500 gap-x-2 bg-red-100/60",children:"PENDING"})}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:x(e.created_at).format("LLL")}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:x(e.updated_at).format("LLL")}),t.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap",children:t.jsxs("button",{onClick:()=>h(e.id),onMouseEnter:o=>p(o),onMouseLeave:()=>m(),children:[t.jsx(k,{className:"h-6 text-blue-500"}),a&&t.jsx("span",{className:"tooltip bg-black text-white text-md rounded-xl p-3 absolute z-50",style:{top:i.y+window.pageYOffset,left:i.x},children:"View Ticket Details"})]})})]},l))})]})})})})}),t.jsx(b,{})]})})}export{D as default};
