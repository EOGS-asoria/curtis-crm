import{c as f,q as m,u as x,r as c,j as t,s as g,M as j,K as k,C as E}from"./app-cd3sQyoO.js";import b from"./page-BZ1gUEf7.js";import C from"./page-BsoRax2m.js";import T from"./page-Cznw4-eu.js";import D from"./page-Bg1O0y5l.js";import R from"./page-D_IbxQuR.js";import v from"./page-CEUgJFn4.js";import N from"./page-CV3T04rK.js";import{g as U}from"./customer-tickets-thunk-C-2xxvE2.js";import{c as S}from"./tickets-service-BHWw0A67.js";import O from"./page-I5AeOvtI.js";import _ from"./page-9tpFLw6w.js";import A from"./page-BYV8zpvt.js";import y from"./page-DXFOYwxo.js";import w from"./page-D9HequA4.js";import I from"./tickets-details-move-assign-components-DB-RfvT1.js";import{I as P}from"./InboxStackIcon-slrSbnXe.js";import{T as M}from"./TicketIcon-CBh04A1z.js";import"./warranty-files-section-Bxswb5w4.js";import"./customer-tickets-bill-of-sale-section-B_jzkSwz.js";import"./loading-CtfLSTHB.js";import"./image-view-DH9_d9K_.js";import"./TrashIcon-B1oxrZtY.js";import"./transition-BID_rVhp.js";import"./dialog-LaFEJGcI.js";import"./customer-tickets-front-of-the-unit-section-BJ1mWmBu.js";import"./customer-tickets-rear-of-the-unit-section-Y1SThNsW.js";import"./customer-tickets-readable-serial-section-8sk-xNNP.js";import"./customer-tickets-defect-issue-section-Cik6eJOt.js";import"./customer-tickets-clear-model-CA6au7DB.js";import"./customer-tickets-parts-model-Dawr1Ui1.js";import"./customer-tickets-receipt-model-BBabNW9K.js";import"./customer-tickets-serial-model-BNiuXuGS.js";import"./content-activities-timeline-section-DNqb8r9L.js";import"./moment-Cl4UOzQZ.js";import"./UserCircleIcon-CoxMEN-J.js";import"./tickets-thunk-Byf1Eu3e.js";import"./content-details-section-BLEMx7ES.js";import"./content-notes-comment-section-B8IUIG9d.js";import"./content-notes-textarea-section-Bq4sUdzY.js";import"./replacement-section-DVS-oTSx.js";import"./input-y6d0YPIw.js";import"./select-CHVhWOG6.js";import"./textarea-8_3zqP-d.js";import"./fedex-rate-service-qYoSmiMQ.js";import"./wysiwyg-oKJngrwF.js";import"./refund-section-Cd3yzR_0.js";import"./repair-section-tfcXdLiv.js";import"./product-search-VFD9NHPx.js";import"./email-template-thunk-DfuYhBsY.js";import"./email-template-service-tk-hiOF7.js";import"./validation-form-section-BVyr9RjT.js";import"./validation-button-section-Bckers1n.js";import"./content-repair-form-section-BZ5QWDNa.js";import"./content-refund-form-section-BuRURKFz.js";import"./content-replacement-form-D5jJVIiy.js";import"./warehouse-received-button-BjSzes1G.js";function V(...i){return i.filter(Boolean).join(" ")}function $t({account:i}){const{ticket:s}=f(e=>e.tickets),{url:a}=m(),n=m(),p=x(),[W,h]=c.useState(1);c.useEffect(()=>{(async()=>{try{const o=await g.dispatch(U(a.split("/")[a.split("/").length-1].split("#")[0])),u=await S(a.split("/")[a.split("/").length-1].split("#")[0]);p(j(u)),p(k(o))}catch(o){console.error("Error fetching data:",o)}})()},[a]);const r=[{title:"Files",components:t.jsx(b,{}),hash:"#files"},...s.isUploading==="true"&&s.status===null?[{title:"Validation",components:t.jsx(N,{}),hash:"#validation"}]:[],{title:"Activities",components:t.jsx(C,{}),hash:"#activities"},...s.isUploading==="true"&&s.status==="RESOURCE"&&(i==null?void 0:i.role_id)!=3?[{title:"Decision Making",components:t.jsx(v,{}),hash:"#decision"}]:[],...s.isUploading==="true"&&(s.status==="WAREHOUSE"||s.status==="CLOSED")&&(i==null?void 0:i.role_id)==3?[{title:"Warehouse",components:t.jsx(w,{}),hash:"#warehouse"}]:[],...s.isUploading==="true"&&s.status==="REPAIR"?[{title:"Repair",components:t.jsx(O,{}),hash:"#repair"}]:[],...s.isUploading==="true"&&s.status==="REFUND"?[{title:"Refund",components:t.jsx(_,{}),hash:"#refund"}]:[],...s.isUploading==="true"&&s.status==="REPLACEMENT"?[{title:"Replacement",components:t.jsx(A,{}),hash:"#replacement"}]:[],...s.isUploading==="true"&&s.status==="VALIDATION"?[{title:"Validation",components:t.jsx(y,{}),hash:"#validation"}]:[],{title:"Update Status",components:t.jsx(T,{}),hash:"#status"},{title:"Details",components:t.jsx(D,{}),hash:"#details"},{title:"Agent Notes",components:t.jsx(R,{}),hash:"#notes"}],d=e=>{h(e),E.visit(r[e].hash)},l="#"+n.url.split("#")[1];return t.jsx("div",{className:" font-sans h-full",children:t.jsx("div",{className:"px-8",children:t.jsxs("div",{className:"w-full ",children:[s.status==="WAREHOUSE"&&t.jsxs("div",{className:"pt-10",children:[" ",t.jsx(I,{ticket:s,name:"MOVE TO RESOURCE",value:"RESOURCE",icon:t.jsx(P,{className:"h-6"}),link:"decision"})]}),t.jsxs("div",{className:`py-3 text-3xl font-black flex gap-3 ${s.status=="CLOSED"?" text-red-600":" text-blue-600"}`,children:[t.jsx(M,{className:"h-9"})," ",s.status??"Open Ticket"," (",s.call_type,")"]}),t.jsx("div",{className:"mb-4 flex space-x-4 p-2 bg-white rounded-md border-blue-500 border-2 ",children:r.map((e,o)=>t.jsx("button",{onClick:()=>d(o),className:`flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300 ${l==e.hash?"bg-blue-600 text-white":"bg-gray-300 hover:bg-blue-200"}`,children:e.title},o))}),r.map((e,o)=>t.jsx("div",{className:V("rounded-xl ",""),children:l==e.hash&&n.url.split("#")[1]&&e.components},o))]})})})}export{$t as default};
