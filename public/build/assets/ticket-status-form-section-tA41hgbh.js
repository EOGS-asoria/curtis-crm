import{r,j as e,s as d,y as f}from"./store-BUZyp9JN.js";import{L as p}from"./loading-bKCq9msr.js";import{S as v}from"./select-DHpdPLmv.js";import{T as x}from"./textarea-C7WOmUtO.js";import{u as S}from"./app-C5UkbEeZ.js";import{u as g}from"./tickets-thunk-C0Nvtoy-.js";import{r as h}from"./routing-BzgBYGmF.js";import"./tickets-service-Dyl0GjaC.js";import"./internals-service-B9kSbxh_.js";function T(){const[t,l]=r.useState({}),[n,a]=r.useState(!1),{ticket:u}=S(s=>s.tickets);function o(s,c){l({...t,[c]:s})}const i=[{value:0,name:""},{value:1,name:"Callback Sucessful - Fixed"},{value:2,name:"Callback Sucessful - Not Fixed"},{value:3,name:"No Answer - End Call"},{value:4,name:"No Answer - Left Voicemail"},{value:5,name:"Email sent"},{value:6,name:"Closed resolved - agent resolution"},{value:7,name:"Closed resolved - customer resolution"},{value:8,name:"Closed for warranty"},{value:9,name:"Closed - parts issue"}];async function m(){if(confirm("Are you sure you want to update the status?")){a(!0);try{await d.dispatch(g(u.id,"CLOSED")),a(!1),f.visit(h("files"))}catch{a(!1)}}}return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(v,{onChange:o,name:"status",value:(t==null?void 0:t.isHasEmail)??"",label:"Status",errorMessage:"",data:i}),e.jsx(x,{required:!0,onChange:o,name:"notes",value:t.notes??" ",label:"Notes",type:"text",errorMessage:"Notes is required"}),e.jsx("button",{onClick:m,className:"p-3 bg-blue-500 hover:bg-blue-600 text-white rounded-md w-52 flex items-center justify-center",children:n?e.jsx("div",{className:"p-1",children:e.jsx(p,{})}):"UPDATE STATUS"})]})}export{T as default};
