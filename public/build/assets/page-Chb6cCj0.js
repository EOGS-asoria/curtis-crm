import{r as n,j as t}from"./store-BpRc176i.js";import{h as g}from"./moment-Cl4UOzQZ.js";import{u as k,a as L}from"./app-DAoa3TuF.js";import{c as v}from"./tickets-service-CnB7UdQj.js";import{s as w}from"./customer-tickets-slice-CSblg_JY.js";import{A as E}from"./agent-layout-DI7w1_F7.js";import S from"./agent-open-cases-list-section-3Vri1OcW.js";import{S as C}from"./skeleton-BsP9-KqK.js";import{C as y}from"./Collapse-CrI2SNbA.js";import{T as l}from"./index-BHogI7dV.js";import"./user-service-BX2CGXJJ.js";import"./Cog8ToothIcon-Dh1cz8TD.js";import"./layout-sidebar-list-component-BzFcd6tN.js";import"./HomeIcon-CbhBLGZM.js";import"./TicketIcon-DGGS-wQ9.js";import"./InboxArrowDownIcon-CY9Hq9x9.js";import"./InboxStackIcon-CSYVwhq7.js";import"./RightOutlined-46hRgOUx.js";import"./useSize-t2wL_pgn.js";import"./motion-D7mPWd1c.js";import"./CloseOutlined-DDcEcr9-.js";import"./index-d3RUOzmp.js";function W({auth:p}){const{tickets:o}=k(s=>s.customer_tickets),[d,f]=n.useState(!0),i=p.user,u=L(),h=window.location.pathname.split("/")[2];return n.useEffect(()=>{async function s(r){const e=await v(window.location.search,h,i.id);console.log("resres",e),u(w(e)),f(!1)}s()},[]),t.jsx(E,{account:i,children:t.jsx("div",{className:"m-3",children:d?t.jsx("div",{children:t.jsx(C,{})}):t.jsx(y,{accordion:!0,items:o==null?void 0:o.map((s,r)=>{var e,a,m,c;return{key:r,label:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{children:((a=(e=s.emails[0])==null?void 0:e.emails[0])==null?void 0:a.from)??"No Emails"}),t.jsxs("div",{children:[s.ticket.status=="CLOSED"?t.jsx(l,{color:"red",children:s.ticket.status}):t.jsx(l,{color:"green",children:s.ticket.status}),g((m=s.emails[0])==null?void 0:m.emails[0].date).format("LLL")]})]}),children:(c=s.emails[0])==null?void 0:c.emails.map((x,j)=>t.jsx(S,{data:x},j))}})})})})}export{W as default};
