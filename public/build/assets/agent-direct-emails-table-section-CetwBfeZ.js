import{r as a,y as h,j as i}from"./store-7_Tbe9LZ.js";import"./main-BdprhpJJ.js";import{u as g}from"./app-BIejhZjT.js";import{d as x}from"./tickets-service-XvAoPFPd.js";import{h as k}from"./moment-Cl4UOzQZ.js";import{T as S}from"./Table-DdS63e9l.js";import"./compact-item-GCobf7m3.js";import"./index-DzD5utOg.js";import"./index-MpBMN5dV.js";import"./index-BCsyHNbj.js";import"./reactNode-B7XFelno.js";import"./Pagination-DJ99_v0W.js";import"./roundedArrow-DX_eZ2jz.js";import"./colors-Ci4VUhTZ.js";import"./collapse-C1MjllT7.js";import"./button-nwSOwh27.js";import"./index-D2ZDrWDd.js";function V(){g(e=>e.users),a.useState(""),a.useState(""),a.useRef(null);const[n,s]=a.useState([]),[r,l]=a.useState(!0),[m,w]=a.useState(10);a.useEffect(()=>{async function e(){const t=await x(window.location.search??"page=1");s(t.result),l(!1)}e()},[]);const d=n.map((e,t)=>({key:t,email:e.from,date:k(e.date).format("LLLL"),link:e.link,id:e.id})),c=[{title:"Email",dataIndex:"email",key:"email"},{title:"Date Completed",dataIndex:"date",key:"date"},{title:"Email Link",dataIndex:"link",key:"link",render:(e,t)=>i.jsx("a",{href:t.link,target:"_blank",children:t.link})},{title:"Action",dataIndex:"overdue_direct_emails",key:"overdue_direct_emails",render:(e,t)=>{const u=t.email,f=/<([^>]+)>/,o=u.match(f);return i.jsx("a",{target:"_blank",href:`${window.location.pathname}/${t.id}?email= ${o?o[1]:""}`,className:"bg-blue-500 hover:bg-blue-600 text-white p-1 rounded-sm px-3",children:"VIEW"})}}],p={showSizeChanger:!1,current:parseInt(window.location.search.split("=")[1]??1),pageSize:m,total:1300,onChange:(e,t)=>{h.visit(window.location.pathname+`?page=${e}`)}};return i.jsx("div",{children:i.jsxs("div",{className:"p-3 rounded-md",children:[i.jsx("div",{className:"flex"}),i.jsx(S,{loading:r,pagination:p,columns:c,dataSource:d})]})})}export{V as default};
