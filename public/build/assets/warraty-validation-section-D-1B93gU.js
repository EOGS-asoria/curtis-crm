import{c as g,u as b,r as n,j as e,M as v,L as j}from"./app-B7mB2LSM.js";import{I as i}from"./input-CpcX51qb.js";import{S as l}from"./select-B3DLpcF-.js";import{s as N}from"./receipt-service-BGhb6JnK.js";import{c as k}from"./product-search-D02tyvLD.js";function V(){const{ticket:r}=g(t=>t.tickets),u=b(),[m,x]=n.useState([]),[a,o]=n.useState({store:"",retailers_price:"0",discount:"0",total_price:"0",refurbished:"true",notes:null});n.useEffect(()=>{async function t(c){const f=await k();x(f.map(d=>({name:d,value:d}))),r!=null&&r.receipt&&o(r.receipt)}t()},[]);function s(t,c){o({...a,[c]:t})}async function p(){const t=await N({...r,...a});u(v(t.status)),j.visit("#decision")}function h(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"text-4xl font-black",children:"Receipt details"}),e.jsx(l,{onChange:s,name:"store",value:a.store,label:"Store Name",errorMessage:"Store Name is required",data:m}),e.jsx(i,{span:"$",onChange:s,name:"retailers_price",value:a.retailers_price,label:"Retailers Price",type:"text",errorMessage:"Retailers Price is required"}),e.jsx(i,{span:"$",onChange:s,name:"discount",value:a.discount,label:"Discount",type:"text",errorMessage:"Discount is required",readOnly:!0}),e.jsx(i,{span:"$",onChange:s,name:"total_price",value:parseFloat(a.retailers_price)-parseFloat(a.discount),label:"Total Price",type:"text",errorMessage:"Total Price is required",readOnly:!0}),e.jsx(l,{onChange:s,name:"refurbished",value:a.refurbished,label:"Refurbished Logo?",errorMessage:"Refurbished is required",data:[{value:"true",name:"Yes"},{value:"false",name:"No"}]}),e.jsx(i,{onChange:s,name:"notes",value:a.notes,label:"Validation Notes",type:"text",errorMessage:"Validation Notes is required"}),e.jsxs("div",{className:"flex flex-col bg-blue-700 text-white p-3 rounded-md gap-4",children:[e.jsx("div",{className:"text-2xl font-bold",children:"Mark this Ticket Valid"}),e.jsx("div",{children:e.jsx("button",{onClick:p,className:"bg-white hover:bg-gray-300 text-blue-700 p-3 rounded-md font-black",children:"MARK VALID"})})]}),e.jsxs("div",{className:"flex flex-col bg-red-600 text-white p-3 rounded-md gap-4",children:[e.jsx("div",{className:"text-2xl font-bold",children:"Mark this Ticket In-Valid"}),e.jsxs("div",{className:"bg-white p-5 rounded-md text-black",children:["REASON:",e.jsx(l,{onChange:s,name:"reason",value:a.reason,errorMessage:"Reason is required",data:[{value:"CA",name:"Canada"},{value:"US",name:"United States"}]})]}),e.jsx("div",{children:e.jsx("button",{onClick:h,className:"bg-white hover:bg-gray-300 text-red-600 p-3 rounded-md font-black",children:"MARK INVALID"})})]})]})})}export{V as default};
