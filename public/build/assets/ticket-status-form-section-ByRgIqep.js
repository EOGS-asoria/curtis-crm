import{r,c as d,j as e,s as f,K as p}from"./app-CohGRQDa.js";import{L as v}from"./loading-0AGuwhjL.js";import{S as x}from"./select-BAErNvUi.js";import{T as S}from"./textarea-DWhFaHNO.js";import{u as g}from"./tickets-thunk-ob5kRfQG.js";import"./tickets-service-bhpJOmPK.js";import"./internals-service-B9kSbxh_.js";function w(){const[s,l]=r.useState({}),[n,a]=r.useState(!1),{ticket:u}=d(t=>t.tickets);function o(t,c){l({...s,[c]:t})}const i=[{value:0,name:""},{value:1,name:"Callback Sucessful - Fixed"},{value:2,name:"Callback Sucessful - Not Fixed"},{value:3,name:"No Answer - End Call"},{value:4,name:"No Answer - Left Voicemail"},{value:5,name:"Email sent"},{value:6,name:"Closed resolved - agent resolution"},{value:7,name:"Closed resolved - customer resolution"},{value:8,name:"Closed for warranty"},{value:9,name:"Closed - parts issue"}];async function m(){if(confirm("Are you sure you want to update the status?")){a(!0);try{await f.dispatch(g(u.id,"CLOSED")),a(!1),p.visit("#files")}catch{a(!1)}}}return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(x,{onChange:o,name:"status",value:(s==null?void 0:s.isHasEmail)??"",label:"Status",errorMessage:"",data:i}),e.jsx(S,{required:!0,onChange:o,name:"notes",value:s.notes??" ",label:"Notes",type:"text",errorMessage:"Notes is required"}),e.jsx("button",{onClick:m,className:"p-3 bg-blue-500 hover:bg-blue-600 text-white rounded-md w-52 flex items-center justify-center",children:n?e.jsx("div",{className:"p-1",children:e.jsx(v,{})}):"UPDATE STATUS"})]})}export{w as default};
