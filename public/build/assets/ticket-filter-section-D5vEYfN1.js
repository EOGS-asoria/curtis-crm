import{r as p,j as l,y as h}from"./store-Lwl4u78n.js";import{u as L,a as I}from"./app-CTLslKYS.js";import{h as f}from"./moment-Cl4UOzQZ.js";import{d as v,D as O}from"./index-BctPnpYm.js";import{S as u}from"./index-hlkmW9Xb.js";import{S as c}from"./index-DKul99Sn.js";import{B as g}from"./button-B7Kagl8f.js";import{D as P}from"./DeleteOutlined-CWCgpcXe.js";import{S as _}from"./useIcons-CePs12Sv.js";import"./compact-item-D_Bcf8Fn.js";import"./index-DGqB7BCZ.js";import"./index-Dys9a2jk.js";import"./roundedArrow-Cnf8y9_C.js";import"./motion-L0wigdRl.js";import"./index-BPYLm2eN.js";import"./reactNode-Cr75Gm-X.js";function $(){const{RangePicker:x}=O,{products:n}=L(e=>e.ticket_form),[d,r]=p.useState(!1);I();const t=new URLSearchParams(window.location.search),S=t.get("call_type"),o=t.get("model"),A=t.get("start"),D=t.get("end"),R=t.get("status"),[a,s]=p.useState({call_type:S??null,start:A??f().format("YYYY-MM-DD"),end:D??f().format("YYYY-MM-DD"),model:(o==null?void 0:o.split(","))??null,status:R??null}),j=e=>{const i=e[0].format("YYYY-MM-DD"),M=e[1].format("YYYY-MM-DD");s({...a,start:i,end:M})};function y(e){s({...a,model:e})}function C(e){s({...a,call_type:e})}function Y(e){s({...a,status:e})}const E=[{value:"CF-Warranty Claim"},{value:"Parts"},{value:"TS-Tech Support"},{value:"GENERAL INQUIRY"},{value:"OTHERS"}],w=[{value:"CLOSED"},{value:"WARRANTY VALIDATION"},{value:"PARTS VALIDATION"},{value:"US WAREHOUSE"},{value:"CA WAREHOUSE"},{value:"REPAIR"},{value:"AVAILABILITY"},{value:"INTERNALS"},{value:"CALLBACK"},{value:"REFUND"},{value:"REPLACEMENT"},{value:"REPLACEMENT PARTS"},{value:"TECH VALIDATION"},{value:"WEB FORM"},{value:"AGENT FORM"}],N=n==null?void 0:n.slice(2).map(e=>({value:e[1]}));async function T(){r(!0);try{h.visit(window.location.pathname+"?page=1&&start="+a.start+"&end="+a.end+"&call_type="+a.call_type+"&model="+a.model+"&status="+a.status),r(!1)}catch{r(!1)}}const m="YYYY/MM/DD";return l.jsxs("div",{className:"flex gap-4 w-full",children:[l.jsx("div",{className:"w-full",children:l.jsx(x,{defaultValue:[v(a.start,m),v(a.end,m)],onChange:j,size:"large"})}),l.jsx("div",{className:"w-full",children:l.jsx(u,{maxTagCount:"responsive",mode:"multiple",allowClear:!0,size:"large",style:{width:"100%"},showSearch:!0,placeholder:"Select Model #",defaultValue:a.model=="null"||a.model=="undefined"?null:a.model,onChange:y,options:N.sort((e,i)=>e.length-i.length),optionRender:e=>l.jsx(c,{children:l.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),l.jsx("div",{className:"w-full",children:l.jsx(u,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.call_type=="null"||a.call_type=="undefined"?null:a.call_type,placeholder:"Based On",onChange:C,options:E,optionRender:e=>l.jsx(c,{children:l.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),l.jsx("div",{className:"w-full",children:l.jsx(u,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.status=="null"||a.status=="undefined"?null:a.status,placeholder:"Status",onChange:Y,options:w,optionRender:e=>l.jsx(c,{children:l.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),l.jsxs("div",{className:"w-full flex gap-3",children:[l.jsx(g,{loading:d,onClick:T,type:"primary",size:"large",icon:l.jsx(_,{}),children:"Search"}),l.jsx(g,{loading:d,onClick:()=>h.visit(window.location.pathname+"?page=1"),type:"primary",danger:!0,size:"large",icon:l.jsx(P,{}),children:"Reset"})]})]})}export{$ as default};
