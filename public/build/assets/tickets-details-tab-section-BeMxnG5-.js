import{c as f,q as m,u as x,r as c,j as t,s as g,N as j,L as k,D as E}from"./app-h5Q7DzWa.js";import b from"./page-BZ_TwdKe.js";import C from"./page-CxKn9FS4.js";import D from"./page-CxSDMRK3.js";import R from"./page-DS7LGbCQ.js";import T from"./page-dG2CDNWN.js";import N from"./page-BS5h5k4O.js";import v from"./page-CQTi_IUc.js";import{g as S}from"./customer-tickets-thunk-Dq0aAFEq.js";import{c as U}from"./tickets-service-BHWw0A67.js";import O from"./page--qFWSDwb.js";import _ from"./page-DnFc7PB0.js";import y from"./page-Dxh1OFUQ.js";import A from"./page-DkvRVjPS.js";import w from"./tickets-details-move-assign-components-BCBIItR2.js";import{I as P}from"./InboxStackIcon-C_eyawh-.js";import{T as I}from"./TicketIcon-DYtCnEGI.js";import"./warranty-files-section-Dp9UDj0w.js";import"./customer-tickets-bill-of-sale-section-znoR_aIs.js";import"./loading-ChNqCSgZ.js";import"./image-view-Bh_YhVP1.js";import"./TrashIcon-BitnL_SD.js";import"./transition-rHMjY818.js";import"./dialog-CMFZKaoS.js";import"./customer-tickets-front-of-the-unit-section-j4gyDOEm.js";import"./customer-tickets-rear-of-the-unit-section-Cx9rmybs.js";import"./customer-tickets-readable-serial-section-FEF3pK5L.js";import"./customer-tickets-defect-issue-section-CdpErzP-.js";import"./customer-tickets-clear-model-UNAkgXHG.js";import"./customer-tickets-parts-model-ulk48F5L.js";import"./customer-tickets-receipt-model-CNvk739K.js";import"./customer-tickets-serial-model-_Cr4g8Qd.js";import"./content-activities-timeline-section-BDMnwk8a.js";import"./moment-Cl4UOzQZ.js";import"./UserCircleIcon-BFV3PgpB.js";import"./tickets-thunk-Bp0TtVsx.js";import"./content-details-section-BCP52m0z.js";import"./content-notes-comment-section-sZrnkTjI.js";import"./content-notes-textarea-section-DWSQnlxh.js";import"./replacement-section-wlAHMCGL.js";import"./input-11s58YEr.js";import"./select-BqJS-C7B.js";import"./textarea-BZ4uswTa.js";import"./fedex-rate-service-qYoSmiMQ.js";import"./wysiwyg-BHDa4PXD.js";import"./refund-section-cekmqn3W.js";import"./repair-section-DttC9QBA.js";import"./product-search-VFD9NHPx.js";import"./email-template-thunk-DJbCnc2H.js";import"./email-template-service-CBIciVYj.js";import"./validation-form-section-BqJVT49k.js";import"./validation-button-section-B9K-_GJm.js";import"./content-repair-form-section-DTYngzQh.js";import"./content-refund-form-section-Bs6xkFfp.js";import"./content-replacement-form-BBz8H9th.js";import"./warehouse-received-button-Dq5PE7ZN.js";function M(...i){return i.filter(Boolean).join(" ")}function Vt({account:i}){const{ticket:s}=f(e=>e.tickets),{url:a}=m(),n=m(),p=x(),[F,h]=c.useState(1);c.useEffect(()=>{(async()=>{try{const o=await g.dispatch(S(a.split("/")[a.split("/").length-1].split("#")[0])),u=await U(a.split("/")[a.split("/").length-1].split("#")[0]);p(j(u)),p(k(o))}catch(o){console.error("Error fetching data:",o)}})()},[a]);const r=[{title:"Files",components:t.jsx(b,{}),hash:"#files"},...s.isUploading==="true"&&s.status===null?[{title:"Validation",components:t.jsx(v,{}),hash:"#validation"}]:[],{title:"Activities",components:t.jsx(C,{}),hash:"#activities"},...s.isUploading==="true"&&s.status==="RESOURCE"&&(i==null?void 0:i.role_id)!=3?[{title:"Decision Making",components:t.jsx(N,{}),hash:"#decision"}]:[],...s.isUploading==="true"&&(s.status==="WAREHOUSE"||s.status==="CLOSED")&&(i==null?void 0:i.role_id)==3?[{title:"Warehouse",components:t.jsx(A,{}),hash:"#warehouse"}]:[],...s.isUploading==="true"&&s.status==="REPAIR"?[{title:"Repair",components:t.jsx(O,{}),hash:"#repair"}]:[],...s.isUploading==="true"&&s.status==="REFUND"?[{title:"Refund",components:t.jsx(_,{}),hash:"#refund"}]:[],...s.isUploading==="true"&&s.status==="REPLACEMENT"?[{title:"Replacement",components:t.jsx(y,{}),hash:"#replacement"}]:[],{title:"Update Status",components:t.jsx(D,{}),hash:"#status"},{title:"Details",components:t.jsx(R,{}),hash:"#details"},{title:"Agent Notes",components:t.jsx(T,{}),hash:"#notes"}],d=e=>{h(e),E.visit(r[e].hash)},l="#"+n.url.split("#")[1];return t.jsx("div",{className:" font-sans h-full",children:t.jsx("div",{className:"px-8",children:t.jsxs("div",{className:"w-full ",children:[s.status==="WAREHOUSE"&&t.jsxs("div",{className:"pt-10",children:[" ",t.jsx(w,{ticket:s,name:"MOVE TO RESOURCE",value:"RESOURCE",icon:t.jsx(P,{className:"h-6"}),link:"decision"})]}),t.jsxs("div",{className:`py-3 text-3xl font-black flex gap-3 ${s.status=="CLOSED"?" text-red-600":" text-blue-600"}`,children:[t.jsx(I,{className:"h-9"})," ",s.status??"Open Ticket"," (",s.call_type,")"]}),t.jsx("div",{className:"mb-4 flex space-x-4 p-2 bg-white rounded-md border-blue-500 border-2 ",children:r.map((e,o)=>t.jsx("button",{onClick:()=>d(o),className:`flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300 ${l==e.hash?"bg-blue-600 text-white":"bg-gray-300 hover:bg-blue-200"}`,children:e.title},o))}),r.map((e,o)=>t.jsx("div",{className:M("rounded-xl ",""),children:l==e.hash&&n.url.split("#")[1]&&e.components},o))]})})})}export{Vt as default};
