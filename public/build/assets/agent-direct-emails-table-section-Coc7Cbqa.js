import{r as e,y as k,j as i}from"./page-CweAZ6u7.js";import"./main-Dx-JgCTH.js";import{u as S}from"./app-C6h2GODW.js";import{i as b}from"./tickets-service-De4luahQ.js";import{h as w}from"./page-CTYwbZqa.js";import{T as _}from"./Table-DniM2ktB.js";import"./index-Dm0ZtCym.js";import"./asyncToGenerator-BuJCPQbh.js";import"./compact-item-CHBqaovt.js";import"./index-BBUFz-fT.js";import"./useZIndex-CjGH_iRa.js";import"./addEventListener-wJ6H4mar.js";import"./motion-DJ7hMwu8.js";import"./roundedArrow-BFLUJwxV.js";import"./reactNode-BWNDasVd.js";import"./zoom-C5pEnEmW.js";import"./colors-Df3uN78M.js";import"./index-BsoQnBFX.js";import"./KeyCode-DNlgD2sM.js";import"./useIcons-DnjaHSn_.js";import"./index-DHBa1jUv.js";import"./render-Btzrk6Bh.js";import"./useForceUpdate-Bx3W7tDo.js";import"./collapse-C1MjllT7.js";import"./button-1iq2fvtm.js";import"./index-Cp2esF7b.js";import"./Pagination-DJ7OGbXG.js";import"./index-DSbbDzQi.js";function Y({account:s}){S(a=>a.users),e.useState(""),e.useState(""),e.useRef(null);const[m,l]=e.useState([]),[p,r]=e.useState(!0),[d,j]=e.useState(10),[u,c]=e.useState(0);e.useEffect(()=>{async function a(){const t=await b(s.id,window.location.search??"page=1");l(t.result.data),c(t.result.total),r(!1)}a()},[]);const h=m.map((a,t)=>({key:t,email:a.email,date:w(a.date).format("LLLL"),link:a.threadId,id:a.id})),g=[{title:"Email",dataIndex:"email",key:"email"},{title:"Date Completed",dataIndex:"date",key:"date"},{title:"Email Link",dataIndex:"link",key:"link",render:(a,t)=>i.jsx("a",{href:"https://mail.google.com/mail/u/0/#inbox/"+(t==null?void 0:t.link),target:"_blank",children:"https://mail.google.com/mail/u/0/#inbox/"+(t==null?void 0:t.link)})},{title:"Action",dataIndex:"overdue_direct_emails",key:"overdue_direct_emails",render:(a,t)=>{const o=t==null?void 0:t.email,f=/<([^>]+)>/,n=o==null?void 0:o.match(f);return i.jsx("a",{target:"_blank",href:`${window.location.pathname}/${t==null?void 0:t.id}?email= ${n?n[1]:""}`,className:"bg-blue-500 hover:bg-blue-600 text-white p-1 rounded-sm px-3",children:"VIEW"})}}],x={showSizeChanger:!1,current:parseInt(window.location.search.split("=")[1]??1),pageSize:d,total:u,onChange:(a,t)=>{k.visit(window.location.pathname+`?page=${a}`)}};return i.jsx("div",{children:i.jsxs("div",{className:"p-3 rounded-md",children:[i.jsx("div",{className:"flex"}),i.jsx(_,{loading:p,pagination:x,columns:g,dataSource:h})]})})}export{Y as default};
