import{r,c as d,j as e,s as f,K as p}from"./app-CXH6-TpI.js";import{L as v}from"./loading-CS8KoeSP.js";import{S as x}from"./select-C5-W46uC.js";import{T as S}from"./textarea-ConiL9yw.js";import{u as g}from"./tickets-thunk-_fduy9S9.js";import{r as h}from"./routing-BzgBYGmF.js";import"./tickets-service-xA-qvJdM.js";import"./internals-service-B9kSbxh_.js";function L(){const[t,l]=r.useState({}),[n,a]=r.useState(!1),{ticket:u}=d(s=>s.tickets);function o(s,c){l({...t,[c]:s})}const i=[{value:0,name:""},{value:1,name:"Callback Sucessful - Fixed"},{value:2,name:"Callback Sucessful - Not Fixed"},{value:3,name:"No Answer - End Call"},{value:4,name:"No Answer - Left Voicemail"},{value:5,name:"Email sent"},{value:6,name:"Closed resolved - agent resolution"},{value:7,name:"Closed resolved - customer resolution"},{value:8,name:"Closed for warranty"},{value:9,name:"Closed - parts issue"}];async function m(){if(confirm("Are you sure you want to update the status?")){a(!0);try{await f.dispatch(g(u.id,"CLOSED")),a(!1),p.visit(h("files"))}catch{a(!1)}}}return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(x,{onChange:o,name:"status",value:(t==null?void 0:t.isHasEmail)??"",label:"Status",errorMessage:"",data:i}),e.jsx(S,{required:!0,onChange:o,name:"notes",value:t.notes??" ",label:"Notes",type:"text",errorMessage:"Notes is required"}),e.jsx("button",{onClick:m,className:"p-3 bg-blue-500 hover:bg-blue-600 text-white rounded-md w-52 flex items-center justify-center",children:n?e.jsx("div",{className:"p-1",children:e.jsx(v,{})}):"UPDATE STATUS"})]})}export{L as default};
