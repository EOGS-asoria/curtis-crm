import{r as o,j as t,y as v}from"./store-7_Tbe9LZ.js";import{u as O,a as I}from"./app-BvIHUOCp.js";import{h as f}from"./moment-Cl4UOzQZ.js";import{d as g,D as L}from"./index-C9_KlAyv.js";import{S as d}from"./index-MpBMN5dV.js";import{S as h}from"./index-D2ZDrWDd.js";import{B as x}from"./button-nwSOwh27.js";import{A as _,_ as P}from"./compact-item-GCobf7m3.js";import{S as z}from"./index-DzD5utOg.js";import"./roundedArrow-DX_eZ2jz.js";import"./index-BCsyHNbj.js";import"./reactNode-B7XFelno.js";var k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const V=k;var B=function(l,n){return o.createElement(_,P({},l,{ref:n,icon:V}))},H=o.forwardRef(B);const F=H;function ae(){const{RangePicker:m}=L,{products:l}=O(e=>e.ticket_form),[n,c]=o.useState(!1);I();const s=new URLSearchParams(window.location.search),D=s.get("call_type"),i=s.get("model"),S=s.get("start"),A=s.get("end"),j=s.get("status"),[a,r]=o.useState({call_type:D??null,start:S??f().format("YYYY-MM-DD"),end:A??f().format("YYYY-MM-DD"),model:(i==null?void 0:i.split(","))??null,status:j??null}),w=e=>{const u=e[0].format("YYYY-MM-DD"),N=e[1].format("YYYY-MM-DD");r({...a,start:u,end:N})};function y(e){r({...a,model:e})}function C(e){r({...a,call_type:e})}function R(e){r({...a,status:e})}const Y=[{value:"CF-Warranty Claim"},{value:"Parts"},{value:"TS-Tech Support"}],E=[{value:"CLOSED"},{value:"WARRANTY VALIDATION"},{value:"PARTS VALIDATION"},{value:"US WAREHOUSE"},{value:"CA WAREHOUSE"},{value:"REPAIR"},{value:"AVAILABILITY"},{value:"INTERNALS"},{value:"CALLBACK"},{value:"REFUND"},{value:"REPLACEMENT"},{value:"REPLACEMENT PARTS"},{value:"TECH VALIDATION"},{value:"WEB FORM"},{value:"AGENT FORM"}],M=l==null?void 0:l.slice(2).map(e=>({value:e[1]}));async function T(){c(!0);try{v.visit(window.location.pathname+"?page=1&&start="+a.start+"&end="+a.end+"&call_type="+a.call_type+"&model="+a.model+"&status="+a.status),c(!1)}catch{c(!1)}}const p="YYYY/MM/DD";return t.jsxs("div",{className:"flex gap-4 w-full",children:[t.jsx("div",{className:"w-full",children:t.jsx(m,{defaultValue:[g(a.start,p),g(a.end,p)],onChange:w,size:"large"})}),t.jsx("div",{className:"w-full",children:t.jsx(d,{maxTagCount:"responsive",mode:"multiple",allowClear:!0,size:"large",style:{width:"100%"},showSearch:!0,placeholder:"Select Model #",defaultValue:a.model=="null"||a.model=="undefined"?null:a.model,onChange:y,options:M.sort((e,u)=>e.length-u.length),optionRender:e=>t.jsx(h,{children:t.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),t.jsx("div",{className:"w-full",children:t.jsx(d,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.call_type=="null"||a.call_type=="undefined"?null:a.call_type,placeholder:"Based On",onChange:C,options:Y,optionRender:e=>t.jsx(h,{children:t.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),t.jsx("div",{className:"w-full",children:t.jsx(d,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.status=="null"||a.status=="undefined"?null:a.status,placeholder:"Status",onChange:R,options:E,optionRender:e=>t.jsx(h,{children:t.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),t.jsxs("div",{className:"w-full flex gap-3",children:[t.jsx(x,{loading:n,onClick:T,type:"primary",size:"large",icon:t.jsx(z,{}),children:"Search"}),t.jsx(x,{loading:n,onClick:()=>v.visit(window.location.pathname+"?page=1"),type:"primary",danger:!0,size:"large",icon:t.jsx(F,{}),children:"Reset"})]})]})}export{ae as default};
