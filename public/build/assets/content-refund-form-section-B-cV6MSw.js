import{r as o,c as l,u as g,j as t,M as h,L as x}from"./app-B7mB2LSM.js";import{I as a}from"./input-CpcX51qb.js";import{T as f}from"./textarea-CMQBWZO2.js";import{p as q}from"./refund-service-CBZ3piz4.js";function v(){const[e,i]=o.useState({}),{ticket:u}=l(r=>r.tickets),{user:d}=l(r=>r.app),p=g(),[C,n]=o.useState(!1);o.useEffect(()=>{i({...u.decision_making??{}})},[u]);function s(r,c){c=="estimated_cost"?i({...e,estimated_cost:r.replace(/[^0-9.]/g,"")}):i({...e,[c]:r})}async function m(){if(confirm("Are you sure you want to shipped the ticket?")){n(!0);try{const r=await q({...e,account:d,status:"PROCESSED TICKET"});p(h(r.status)),n(!1),x.visit("#files")}catch{n(!1)}}}return t.jsxs("div",{className:"flex flex-col gap-8 my-12",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[t.jsx(a,{onChange:s,name:"retailers_price",span:"$",required:!0,value:String(e.retailers_price)??" ",label:"Retailer's Price",type:"number",errorMessage:"Retailers Price is required"}),t.jsx(a,{onChange:s,name:"discount",span:"$",required:!0,value:String(e.discount)??" ",label:"discount",type:"text",errorMessage:"Discount is required"}),t.jsx(a,{onChange:s,name:"total_price",span:"$",required:!0,value:String(parseFloat(e==null?void 0:e.retailers_price)-parseFloat((e==null?void 0:e.discount)??"0")),label:"Price After Discount",type:"text",errorMessage:"Price After Discount is required"}),t.jsx(a,{onChange:s,name:"repair_cost",span:"$",required:!0,value:String(e.repair_cost??"0"),label:"Estimated Cost of Refund",type:"text",errorMessage:"Estimated Cost of Refund is required"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(a,{onChange:s,name:"cheque_no",required:!0,value:e.cheque_no??"0",label:"Cheque Number",type:"text",errorMessage:"Cheque Number is required"}),t.jsx(a,{onChange:s,name:"cheque_amount",span:"$",required:!0,value:e.cheque_amount??"0",label:"Cheque Amount",type:"text",errorMessage:"Cheque Amount is required"}),t.jsx("div",{className:" text-red-500",children:"Resource Notes: Refund is cheaper than replacement."})]}),t.jsx(f,{required:!0,onChange:s,name:"notes",value:e.notes??" ",label:"Resource Notes:",type:"text",errorMessage:"notes is required"}),t.jsx("button",{onClick:m,className:" rounded-sm bg-green-600 text-white text-bold hover:bg-green-700 flex items-center justify-center p-2.5",children:"CHECKQUE SHIPPED"})]})}export{v as default};
