import{r as p,j as t}from"./page-Z5sU5TGy.js";import{w as m,p as u}from"./initial-templates-PKQd-G1K.js";import{L as d}from"./loading-7kwc7MQc.js";import{r as f}from"./tickets-service-DImta3VT.js";import{u as y}from"./app-BjYu0rwf.js";import{s as x}from"./index-DfOgu_RK.js";import"./index-DsXjZlsd.js";import"./asyncToGenerator-BJENzcOk.js";import"./render-CFqj6aJG.js";import"./InfoCircleFilled-D0EJPWmB.js";import"./pickAttrs-5uV3RKfV.js";import"./KeyCode-DNlgD2sM.js";import"./useZIndex-DeuWXQgn.js";function M(){const[r,s]=p.useState(!1),{ticket:e}=y(a=>a.tickets),[i,o]=x.useMessage(),n=m(e),c=u(e);async function l(a){s(!0);try{await f({ticket_id:e.id,call_type:e.call_type,body:e.call_type=="Parts"?c:n,subject:e.ticket_id,recipient:e.email}),s(!1),i.open({type:"success",content:"Sent Initial Email Successfully!"})}catch{s(!1),i.open({type:"error",content:"This is an error message"})}}return t.jsxs(t.Fragment,{children:[o,t.jsx("button",{disabled:r,onClick:l,className:"bg-purple-500 p-2 text-white  hover:bg-purple-600 flex items-center justify-center w-64",children:r?t.jsx(d,{}):t.jsx("div",{className:"p-1 w-full flex items-center justify-center",children:"RESEND INITIAL EMAIL"})})]})}export{M as default};
