import{c as m,q as c,u as g,r as h,j as s,s as j,M as T,T as v,K as C}from"./app-CTgqlT5Q.js";import N from"./page-Dd9WVjBU.js";import A from"./page-Bq4nzDXl.js";import{g as D}from"./tickets-service-bhpJOmPK.js";import E from"./page-Hgsj_BfG.js";import y from"./page-B9lBg9ot.js";import"./wysiwyg-mI1mSdSJ.js";import{S}from"./skeleton-BcUQdi9K.js";import{g as I}from"./customer-tickets-thunk-DjHiLKH-.js";import"./moment-Cl4UOzQZ.js";import _ from"./tickets-details-move-assign-components-DDXqWdLL.js";import L from"./page-BBIgvRku.js";import O from"./page-DIveIdDj.js";import R from"./page-3FZz4Ayh.js";import{I as k}from"./InboxStackIcon-BCt7Hvfu.js";import{T as w}from"./TicketIcon-BLQuh4sy.js";import"./warranty-files-section-pHxipaPg.js";import"./customer-tickets-bill-of-sale-section-n2VCsa2S.js";import"./loading-BxdUjVJo.js";import"./image-view-D8KuY0a0.js";import"./TrashIcon-BEFD6CHD.js";import"./transition-W467s3t5.js";import"./dialog-BPRfBmtQ.js";import"./files-service-BMCeCYzx.js";import"./customer-tickets-front-of-the-unit-section-JE-9fWc_.js";import"./customer-tickets-rear-of-the-unit-section-twu9rr0e.js";import"./customer-tickets-readable-serial-section-CfYqk27z.js";import"./customer-tickets-defect-issue-section-ypx5-NYv.js";import"./customer-tickets-clear-model-Di196NUU.js";import"./customer-tickets-parts-model-BOZQu0KA.js";import"./customer-tickets-receipt-model-DF9R6LyK.js";import"./customer-tickets-serial-model-CJwWifWH.js";import"./content-activities-timeline-section-igyom5jf.js";import"./content-activities-warranty-validation-components-DWV-j55k.js";import"./modal-CKYGm_ta.js";import"./content-activities-decision-making-components-DhU82Sb0.js";import"./content-activities-repair-components-CV8vxF9F.js";import"./content-activities-refund-components-9Uvs3eZD.js";import"./content-activities-replacement-components-DT-reecq.js";import"./content-activities-parts-validation-components-SFr53lM-.js";import"./content-activities-internals-components-DCBqwRMy.js";import"./content-activities-replacement-parts-components-Dla1rEXn.js";import"./content-activities-availability-components-Cv8g1g5a.js";import"./content-activities-closed-components-B0rkFl2j.js";import"./UserCircleIcon-CiRCyBLM.js";import"./tickets-thunk-BFOeVALj.js";import"./internals-service-B9kSbxh_.js";import"./content-details-section-B3xJ8xAi.js";import"./reason-to-close-ydVEreYq.js";import"./select-DPPnEGWz.js";import"./content-notes-comment-section-D3tl96ca.js";import"./content-notes-textarea-section-CwrMbuwG.js";import"./internals-availability-section-C_1mYaMi.js";import"./input-aze6BNxa.js";import"./QueueListIcon-BgRINHaU.js";import"./availability-section-ClsH_QAs.js";import"./textarea-BQfAhKbM.js";import"./email-template-service-CLGa91WC.js";import"./email-template-thunk-DbtXW8aL.js";import"./call-back-form-section-BwN104BZ.js";function Vt(){const{ticket:t}=m(o=>o.tickets),{user:u}=m(o=>o.app),{url:e}=c(),r=c(),l=g(),[d,n]=h.useState(!0);function f(...o){return o.filter(Boolean).join(" ")}h.useEffect(()=>{(async()=>{try{const i=await j.dispatch(I(e.split("/")[e.split("/").length-1].split("#")[0])),b=await D(e.split("/")[e.split("/").length-1].split("#")[0]);l(T(b)),l(v(i)),n(!1)}catch(i){n(!1),console.error("Error fetching data:",i)}})()},[e]);const a=[{title:"Files",components:s.jsx(N,{}),hash:"#files"},...(t==null?void 0:t.isUploading)==="true"&&(t==null?void 0:t.status)==="AVAILABILITY"?[{title:"Availability",components:s.jsx(O,{}),hash:"#availability"}]:[],...(t==null?void 0:t.isUploading)==="true"&&(t==null?void 0:t.status)==="INTERNALS"?[{title:"Internals",components:s.jsx(L,{}),hash:"#internals"}]:[],...(t==null?void 0:t.isUploading)==="true"&&(t==null?void 0:t.status)==="CALLBACK"?[{title:"Callback",components:s.jsx(R,{}),hash:"#callback"}]:[],{title:"Activities",components:s.jsx(A,{}),hash:"#activities"},{title:"Details",components:s.jsx(E,{}),hash:"#details"},{title:"Agent Notes",components:s.jsx(y,{}),hash:"#notes"}],x=o=>{C.visit(a[o].hash)},p="#"+r.url.split("#")[1];return s.jsxs("div",{className:" font-sans h-full",children:["sss",s.jsx("div",{className:"px-8",children:s.jsxs("div",{className:"w-full ",children:[u.role_id==3&&(t==null?void 0:t.status)==="WAREHOUSE"&&s.jsxs("div",{className:"pt-10",children:[" ",s.jsx(_,{ticket:t,name:"MOVE TO RESOURCE",value:"RESOURCE",icon:s.jsx(k,{className:"h-6"}),link:"decision"})]}),s.jsxs("div",{className:`py-3 text-3xl font-black flex gap-3 ${(t==null?void 0:t.status)=="CLOSED"?" text-red-600":" text-blue-600"}`,children:[s.jsx(w,{className:"h-9"})," ",(t==null?void 0:t.status)??"Open Ticket"," (",t==null?void 0:t.call_type,")"]}),s.jsx("div",{className:"mb-4 flex space-x-4 p-2 bg-white rounded-md border-blue-500 border-2 ",children:a.map((o,i)=>s.jsx("button",{onClick:()=>x(i),className:`flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300 ${p==o.hash?"bg-blue-600 text-white":"bg-gray-300 hover:bg-blue-200"}`,children:o.title},i))}),d?s.jsx(S,{}):a.map((o,i)=>s.jsx("div",{className:f("rounded-xl ",""),children:p==o.hash&&r.url.split("#")[1]&&o.components},i))]})})]})}export{Vt as default};
