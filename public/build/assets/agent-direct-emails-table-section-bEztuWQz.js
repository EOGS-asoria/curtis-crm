import{r as e,y as x,j as i}from"./store-0Qzhg5Cj.js";import"./main-CmBxoAqt.js";import{u as f}from"./app-B1H6j9Oq.js";import{d as k}from"./tickets-service-Bb19xu0O.js";import{h as w}from"./moment-Cl4UOzQZ.js";import{T as b}from"./Table-7NW2AzRm.js";import"./compact-item-ChDpuMA4.js";import"./index-B7yFuZzI.js";import"./addEventListener-L-2h-jA1.js";import"./motion-L0wigdRl.js";import"./roundedArrow-DBMe4KH7.js";import"./reactNode-DWH_taMQ.js";import"./zoom-B5xuVmsw.js";import"./colors-mX6ZPbmZ.js";import"./index-B-Pf3FXT.js";import"./useIcons-7TvxhsOb.js";import"./index-B3DuilCu.js";import"./useForceUpdate-BzbQhiNb.js";import"./collapse-C1MjllT7.js";import"./button-CssXxmN1.js";import"./index-lvoqmN3j.js";import"./Pagination-D0GUK1xJ.js";import"./index-ONzzmRiI.js";function J({account:l}){f(a=>a.users),e.useState(""),e.useState(""),e.useRef(null);const[m,p]=e.useState([]),[r,d]=e.useState(!0),[o,S]=e.useState(10);e.useEffect(()=>{async function a(){const t=await k(l.id,window.location.search??"page=1");p(t.result.data),d(!1)}a()},[]);const u=m.map((a,t)=>({key:t,email:a.email,date:w(a.date).format("LLLL"),link:a.threadId,id:a.id})),c=[{title:"Email",dataIndex:"email",key:"email"},{title:"Date Completed",dataIndex:"date",key:"date"},{title:"Email Link",dataIndex:"link",key:"link",render:(a,t)=>i.jsx("a",{href:"https://mail.google.com/mail/u/0/#inbox/"+(t==null?void 0:t.link),target:"_blank",children:"https://mail.google.com/mail/u/0/#inbox/"+(t==null?void 0:t.link)})},{title:"Action",dataIndex:"overdue_direct_emails",key:"overdue_direct_emails",render:(a,t)=>{const n=t==null?void 0:t.email,g=/<([^>]+)>/,s=n==null?void 0:n.match(g);return i.jsx("a",{target:"_blank",href:`${window.location.pathname}/${t==null?void 0:t.id}?email= ${s?s[1]:""}`,className:"bg-blue-500 hover:bg-blue-600 text-white p-1 rounded-sm px-3",children:"VIEW"})}}],h={showSizeChanger:!1,current:parseInt(window.location.search.split("=")[1]??1),pageSize:o,total:parseInt(window.location.search.split("=")[1]??1)*o,onChange:(a,t)=>{x.visit(window.location.pathname+`?page=${a}`)}};return i.jsx("div",{children:i.jsxs("div",{className:"p-3 rounded-md",children:[i.jsx("div",{className:"flex"}),i.jsx(b,{loading:r,pagination:h,columns:c,dataSource:u})]})})}export{J as default};
