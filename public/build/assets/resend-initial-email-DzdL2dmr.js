import{r as p,j as t}from"./page-Cja0WINH.js";import{w as m,p as u}from"./initial-templates-PKQd-G1K.js";import{L as d}from"./loading-DLb8OTQo.js";import{r as f}from"./tickets-service-B0HV_HJ4.js";import{u as y}from"./app-8Z5uU17e.js";import{s as x}from"./index-CHyA3_Zg.js";import"./index-2XY07wE6.js";import"./asyncToGenerator-BBnVhYbp.js";import"./render-CbybdLmA.js";import"./InfoCircleFilled-CdRlv3KX.js";import"./pickAttrs-DrY3mkHu.js";import"./KeyCode-DNlgD2sM.js";import"./useZIndex-u452yQPw.js";function M(){const[r,s]=p.useState(!1),{ticket:e}=y(a=>a.tickets),[i,o]=x.useMessage(),n=m(e),c=u(e);async function l(a){s(!0);try{await f({ticket_id:e.id,call_type:e.call_type,body:e.call_type=="Parts"?c:n,subject:e.ticket_id,recipient:e.email}),s(!1),i.open({type:"success",content:"Sent Initial Email Successfully!"})}catch{s(!1),i.open({type:"error",content:"This is an error message"})}}return t.jsxs(t.Fragment,{children:[o,t.jsx("button",{disabled:r,onClick:l,className:"bg-purple-500 p-2 text-white  hover:bg-purple-600 flex items-center justify-center w-64",children:r?t.jsx(d,{}):t.jsx("div",{className:"p-1 w-full flex items-center justify-center",children:"RESEND INITIAL EMAIL"})})]})}export{M as default};
