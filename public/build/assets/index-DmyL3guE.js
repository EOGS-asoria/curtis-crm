import{r as i,G as b}from"./page-Z5sU5TGy.js";import{R as pe}from"./RightOutlined-Bn4uxMoz.js";import{w as me,B as ie,D as le,q as fe,s as ve,f as k,d as ge,k as be,g as Ce,m as we,r as $e,E as te,u as H,C as se,n as ye,t as he,F as Oe}from"./asyncToGenerator-BJENzcOk.js";import{T as Pe,u as Se}from"./index-Np5Xlh8D.js";import{K as de}from"./KeyCode-DNlgD2sM.js";import{o as xe,b as Re}from"./compact-item-DmLY0or-.js";import{u as Ee,a as Ne,z as Ae}from"./useZIndex-DeuWXQgn.js";import{c as Me,d as Te,e as Ie}from"./index-DF7IHdGM.js";import{i as ne,g as je}from"./PurePanel-BftEsGy5.js";import{c as ze,B as re}from"./button-sz7DFPbO.js";import{M as De,O as Be,R as Le}from"./index-7AJWzNgI.js";import{s as Ve,a as _e,b as Fe,c as He,i as ae}from"./Overflow-BdVxWPdO.js";import{i as We}from"./zoom-B0JxPQEt.js";import{g as Xe}from"./roundedArrow-EA4p3wt1.js";import{S as ke}from"./index-AyKNPs_p.js";var Ue=de.ESC,qe=de.TAB;function Ke(e){var n=e.visible,t=e.triggerRef,r=e.onVisibleChange,l=e.autoFocus,a=e.overlayRef,o=i.useRef(!1),s=function(){if(n){var c,d;(c=t.current)===null||c===void 0||(d=c.focus)===null||d===void 0||d.call(c),r==null||r(!1)}},p=function(){var c;return(c=a.current)!==null&&c!==void 0&&c.focus?(a.current.focus(),o.current=!0,!0):!1},w=function(c){switch(c.keyCode){case Ue:s();break;case qe:{var d=!1;o.current||(d=p()),d?c.preventDefault():s();break}}};i.useEffect(function(){return n?(window.addEventListener("keydown",w),l&&me(p,3),function(){window.removeEventListener("keydown",w),o.current=!1}):function(){o.current=!1}},[n])}var Ge=i.forwardRef(function(e,n){var t=e.overlay,r=e.arrow,l=e.prefixCls,a=i.useMemo(function(){var s;return typeof t=="function"?s=t():s=t,s},[t]),o=ie(n,a==null?void 0:a.ref);return b.createElement(b.Fragment,null,r&&b.createElement("div",{className:"".concat(l,"-arrow")}),b.cloneElement(a,{ref:le(a)?o:void 0}))}),W={adjustX:1,adjustY:1},X=[0,0],Ye={topLeft:{points:["bl","tl"],overflow:W,offset:[0,-4],targetOffset:X},top:{points:["bc","tc"],overflow:W,offset:[0,-4],targetOffset:X},topRight:{points:["br","tr"],overflow:W,offset:[0,-4],targetOffset:X},bottomLeft:{points:["tl","bl"],overflow:W,offset:[0,4],targetOffset:X},bottom:{points:["tc","bc"],overflow:W,offset:[0,4],targetOffset:X},bottomRight:{points:["tr","br"],overflow:W,offset:[0,4],targetOffset:X}},Ze=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Je(e,n){var t,r=e.arrow,l=r===void 0?!1:r,a=e.prefixCls,o=a===void 0?"rc-dropdown":a,s=e.transitionName,p=e.animation,w=e.align,C=e.placement,c=C===void 0?"bottomLeft":C,d=e.placements,$=d===void 0?Ye:d,m=e.getPopupContainer,y=e.showAction,T=e.hideAction,U=e.overlayClassName,q=e.overlayStyle,K=e.visible,f=e.trigger,N=f===void 0?["hover"]:f,I=e.autoFocus,B=e.overlay,h=e.children,O=e.onVisibleChange,P=fe(e,Ze),G=b.useState(),L=ve(G,2),v=L[0],A=L[1],j="visible"in e?K:v,V=b.useRef(null),z=b.useRef(null),S=b.useRef(null);b.useImperativeHandle(n,function(){return V.current});var M=function(g){A(g),O==null||O(g)};Ke({visible:j,triggerRef:S,onVisibleChange:M,autoFocus:I,overlayRef:z});var x=function(g){var F=e.onOverlayClick;A(!1),F&&F(g)},R=function(){return b.createElement(Ge,{ref:z,overlay:B,prefixCls:o,arrow:l})},Y=function(){return typeof B=="function"?R:R()},Z=function(){var g=e.minOverlayWidthMatchTrigger,F=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?g:!F},_=function(){var g=e.openClassName;return g!==void 0?g:"".concat(o,"-open")},J=b.cloneElement(h,{className:k((t=h.props)===null||t===void 0?void 0:t.className,j&&_()),ref:le(h)?ie(S,h.ref):void 0}),D=T;return!D&&N.indexOf("contextMenu")!==-1&&(D=["click"]),b.createElement(Pe,ge({builtinPlacements:$},P,{prefixCls:o,ref:V,popupClassName:k(U,be({},"".concat(o,"-show-arrow"),l)),popupStyle:q,action:N,showAction:y,hideAction:D,popupPlacement:c,popupAlign:w,popupTransitionName:s,popupAnimation:p,popupVisible:j,stretch:Z()?"minWidth":"",popup:Y(),onPopupVisibleChange:M,onPopupClick:x,getPopupContainer:m}),J)}const Qe=b.forwardRef(Je),eo=e=>{const{componentCls:n,menuCls:t,colorError:r,colorTextLightSolid:l}=e,a=`${t}-item`;return{[`${n}, ${n}-menu-submenu`]:{[`${t} ${a}`]:{[`&${a}-danger:not(${a}-disabled)`]:{color:r,"&:hover":{color:l,backgroundColor:r}}}}}},oo=e=>{const{componentCls:n,menuCls:t,zIndexPopup:r,dropdownArrowDistance:l,sizePopupArrow:a,antCls:o,iconCls:s,motionDurationMid:p,paddingBlock:w,fontSize:C,dropdownEdgeChildPadding:c,colorTextDisabled:d,fontSizeIcon:$,controlPaddingHorizontal:m,colorBgElevated:y}=e;return[{[n]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(l).equal(),zIndex:-9999,opacity:1e-4,content:'""'},[`&-trigger${o}-btn`]:{[`& > ${s}-down, & > ${o}-btn-icon > ${s}-down`]:{fontSize:$}},[`${n}-wrap`]:{position:"relative",[`${o}-btn > ${s}-down`]:{fontSize:$},[`${s}-down::before`]:{transition:`transform ${p}`}},[`${n}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${o}-slide-down-enter${o}-slide-down-enter-active${n}-placement-bottomLeft,
          &${o}-slide-down-appear${o}-slide-down-appear-active${n}-placement-bottomLeft,
          &${o}-slide-down-enter${o}-slide-down-enter-active${n}-placement-bottom,
          &${o}-slide-down-appear${o}-slide-down-appear-active${n}-placement-bottom,
          &${o}-slide-down-enter${o}-slide-down-enter-active${n}-placement-bottomRight,
          &${o}-slide-down-appear${o}-slide-down-appear-active${n}-placement-bottomRight`]:{animationName:Ve},[`&${o}-slide-up-enter${o}-slide-up-enter-active${n}-placement-topLeft,
          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-placement-topLeft,
          &${o}-slide-up-enter${o}-slide-up-enter-active${n}-placement-top,
          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-placement-top,
          &${o}-slide-up-enter${o}-slide-up-enter-active${n}-placement-topRight,
          &${o}-slide-up-appear${o}-slide-up-appear-active${n}-placement-topRight`]:{animationName:_e},[`&${o}-slide-down-leave${o}-slide-down-leave-active${n}-placement-bottomLeft,
          &${o}-slide-down-leave${o}-slide-down-leave-active${n}-placement-bottom,
          &${o}-slide-down-leave${o}-slide-down-leave-active${n}-placement-bottomRight`]:{animationName:Fe},[`&${o}-slide-up-leave${o}-slide-up-leave-active${n}-placement-topLeft,
          &${o}-slide-up-leave${o}-slide-up-leave-active${n}-placement-top,
          &${o}-slide-up-leave${o}-slide-up-leave-active${n}-placement-topRight`]:{animationName:He}}},Me(e,y,{arrowPlacement:{top:!0,bottom:!0}}),{[`${n} ${t}`]:{position:"relative",margin:0},[`${t}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${n}, ${n}-menu-submenu`]:Object.assign(Object.assign({},$e(e)),{[t]:Object.assign(Object.assign({padding:c,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},te(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${t}-item-group-title`]:{padding:`${H(w)} ${H(m)}`,color:e.colorTextDescription,transition:`all ${p}`},[`${t}-item`]:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap"},[`${t}-item-icon`]:{minWidth:C,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${t}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${p}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${t}-item, ${t}-submenu-title`]:Object.assign(Object.assign({clear:"both",margin:0,padding:`${H(w)} ${H(m)}`,color:e.colorText,fontWeight:"normal",fontSize:C,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${p}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},te(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:d,cursor:"not-allowed","&:hover":{color:d,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${H(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${n}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${n}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:$,fontStyle:"normal"}}}),[`${t}-item-group-list`]:{margin:`0 ${H(e.marginXS)}`,padding:0,listStyle:"none"},[`${t}-submenu-title`]:{paddingInlineEnd:e.calc(m).add(e.fontSizeSM).equal()},[`${t}-submenu-vertical`]:{position:"relative"},[`${t}-submenu${t}-submenu-disabled ${n}-menu-submenu-title`]:{[`&, ${n}-menu-submenu-arrow-icon`]:{color:d,backgroundColor:y,cursor:"not-allowed"}},[`${t}-submenu-selected ${n}-menu-submenu-title`]:{color:e.colorPrimary}})})},[ae(e,"slide-up"),ae(e,"slide-down"),ne(e,"move-up"),ne(e,"move-down"),We(e,"zoom-big")]]},to=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},Te({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),Xe(e)),no=Ce("Dropdown",e=>{const{marginXXS:n,sizePopupArrow:t,paddingXXS:r,componentCls:l}=e,a=we(e,{menuCls:`${l}-menu`,dropdownArrowDistance:e.calc(t).div(2).add(n).equal(),dropdownEdgeChildPadding:r});return[oo(a),eo(a)]},to,{resetStyle:!1}),Q=e=>{var n;const{menu:t,arrow:r,prefixCls:l,children:a,trigger:o,disabled:s,dropdownRender:p,getPopupContainer:w,overlayClassName:C,rootClassName:c,overlayStyle:d,open:$,onOpenChange:m,visible:y,onVisibleChange:T,mouseEnterDelay:U=.15,mouseLeaveDelay:q=.1,autoAdjustOverflow:K=!0,placement:f="",overlay:N,transitionName:I}=e,{getPopupContainer:B,getPrefixCls:h,direction:O,dropdown:P}=i.useContext(se);Oe();const G=i.useMemo(()=>{const u=h();return I!==void 0?I:f.includes("top")?`${u}-slide-down`:`${u}-slide-up`},[h,f,I]),L=i.useMemo(()=>f?f.includes("Center")?f.slice(0,f.indexOf("Center")):f:O==="rtl"?"bottomRight":"bottomLeft",[f,O]),v=h("dropdown",l),A=Ee(v),[j,V,z]=no(v,A),[,S]=ye(),M=i.Children.only(a),x=ze(M,{className:k(`${v}-trigger`,{[`${v}-rtl`]:O==="rtl"},M.props.className),disabled:(n=M.props.disabled)!==null&&n!==void 0?n:s}),R=s?[]:o,Y=!!(R!=null&&R.includes("contextMenu")),[Z,_]=Se(!1,{value:$??y}),J=he(u=>{m==null||m(u,{source:"trigger"}),T==null||T(u),_(u)}),D=k(C,c,V,z,A,P==null?void 0:P.className,{[`${v}-rtl`]:O==="rtl"}),E=Ie({arrowPointAtCenter:typeof r=="object"&&r.pointAtCenter,autoAdjustOverflow:K,offset:S.marginXXS,arrowWidth:r?S.sizePopupArrow:0,borderRadius:S.borderRadius}),g=i.useCallback(()=>{t!=null&&t.selectable&&(t!=null&&t.multiple)||(m==null||m(!1,{source:"menu"}),_(!1))},[t==null?void 0:t.selectable,t==null?void 0:t.multiple]),F=()=>{let u;return t!=null&&t.items?u=i.createElement(De,Object.assign({},t)):typeof N=="function"?u=N():u=N,p&&(u=p(u)),u=i.Children.only(typeof u=="string"?i.createElement("span",null,u):u),i.createElement(Be,{prefixCls:`${v}-menu`,rootClassName:k(z,A),expandIcon:i.createElement("span",{className:`${v}-menu-submenu-arrow`},i.createElement(pe,{className:`${v}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:g,validator:co=>{}},u)},[oe,ue]=Ne("Dropdown",d==null?void 0:d.zIndex);let ee=i.createElement(Qe,Object.assign({alignPoint:Y},xe(e,["rootClassName"]),{mouseEnterDelay:U,mouseLeaveDelay:q,visible:Z,builtinPlacements:E,arrow:!!r,overlayClassName:D,prefixCls:v,getPopupContainer:w||B,transitionName:G,trigger:R,overlay:F,placement:L,onVisibleChange:J,overlayStyle:Object.assign(Object.assign(Object.assign({},P==null?void 0:P.style),d),{zIndex:oe})}),x);return oe&&(ee=i.createElement(Ae.Provider,{value:ue},ee)),j(ee)};function ro(e){return Object.assign(Object.assign({},e),{align:{overflow:{adjustX:!1,adjustY:!1}}})}const ao=je(Q,"dropdown",e=>e,ro),io=e=>i.createElement(ao,Object.assign({},e),i.createElement("span",null));Q._InternalPanelDoNotUseOrYouWillBeFired=io;var lo=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)n.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]]);return t};const ce=e=>{const{getPopupContainer:n,getPrefixCls:t,direction:r}=i.useContext(se),{prefixCls:l,type:a="default",danger:o,disabled:s,loading:p,onClick:w,htmlType:C,children:c,className:d,menu:$,arrow:m,autoFocus:y,overlay:T,trigger:U,align:q,open:K,onOpenChange:f,placement:N,getPopupContainer:I,href:B,icon:h=i.createElement(Le,null),title:O,buttonsRender:P=g=>g,mouseEnterDelay:G,mouseLeaveDelay:L,overlayClassName:v,overlayStyle:A,destroyPopupOnHide:j,dropdownRender:V}=e,z=lo(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),S=t("dropdown",l),M=`${S}-button`,x={menu:$,arrow:m,autoFocus:y,align:q,disabled:s,trigger:s?[]:U,onOpenChange:f,getPopupContainer:I||n,mouseEnterDelay:G,mouseLeaveDelay:L,overlayClassName:v,overlayStyle:A,destroyPopupOnHide:j,dropdownRender:V},{compactSize:R,compactItemClassnames:Y}=Re(S,r),Z=k(M,Y,d);"overlay"in e&&(x.overlay=T),"open"in e&&(x.open=K),"placement"in e?x.placement=N:x.placement=r==="rtl"?"bottomLeft":"bottomRight";const _=i.createElement(re,{type:a,danger:o,disabled:s,loading:p,onClick:w,htmlType:C,href:B,title:O},c),J=i.createElement(re,{type:a,danger:o,icon:h}),[D,E]=P([_,J]);return i.createElement(ke.Compact,Object.assign({className:Z,size:R,block:!0},z),D,i.createElement(Q,Object.assign({},x),E))};ce.__ANT_BUTTON=!0;const so=Q;so.Button=ce;export{so as D};
