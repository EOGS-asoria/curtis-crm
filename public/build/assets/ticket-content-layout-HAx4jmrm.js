import{r as p,s as f,j as e,q as V,z as B,A as H,y as Y}from"./store-BiYASIpe.js";import q from"./content-activities-timeline-section-B1tyNUAd.js";import{b as K,c as G,d as j}from"./tickets-thunk-Cx0Idmsd.js";import{u as _,a as C}from"./app-Dtz-uFRA.js";import{A as a}from"./administrator-layout-DNSVRYUg.js";import J from"./ticket-status-form-section-BzeZQ-QZ.js";import{W as r}from"./warehouse-layout-D3ZyiGzb.js";import{A as i}from"./asc-layout-Cxq8DasP.js";import{A as c}from"./agent-layout-LRztGI9J.js";import{C as l}from"./curtis-layout-CedhYUdi.js";import Q from"./content-details-section-OQ72PQGM.js";import X from"./content-notes-comment-section-BTAzZif5.js";import Z from"./content-notes-textarea-section-BULd9wbq.js";import"./quill.snow-C3LYc13O.js";import{S as x}from"./skeleton-DmUk2QMo.js";import{g as S}from"./email-template-thunk-Bo1pDMUN.js";import tt from"./decision-making-section-iAjrrnZA.js";import et from"./validation-form-section-C-XyljZs.js";import{g as ot}from"./customer-tickets-thunk-BZBbkGqG.js";import{g as st}from"./tickets-service-CJHvwIki.js";import nt from"./content-repair-form-section-MeZ8tmdi.js";import at from"./content-refund-form-section-BQzP7Rz_.js";import rt from"./content-replacement-form-BgOHOCaD.js";import it from"./warraty-validation-section-DqOIwccl.js";import ct from"./warehouse-received-button-BWs2CPyP.js";import lt from"./internals-availability-section-CRVyw5EE.js";import ut from"./availability-section-H6nRXRm0.js";import dt from"./call-back-form-section-DWnyAk11.js";import pt from"./content-replacement-warranty-form-C0kRthjx.js";import ft from"./tickets-details-move-assign-section_-DThF1zds.js";import{T as mt}from"./TicketIcon-CgTqx2rR.js";function O({auth:o}){const{ticket:t}=_(d=>d.customer_tickets);p.useEffect(()=>{f.dispatch(K())},[t.id]);const s=o.user.role_id,u=s==1?a:s==3?r:s==4?i:s==5?c:l;return e.jsx(u,{account:o.user,children:e.jsx(n,{children:e.jsx(q,{})})})}const Yt=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"}));function v({auth:o}){const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(J,{})})})}const qt=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));function A({auth:o}){const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(Q,{})})})}const Kt=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));function L({auth:o}){const{ticket:t}=_(d=>d.customer_tickets);p.useEffect(()=>{f.dispatch(G())},[t.id]);const s=o.user.role_id,u=s==1?a:s==3?r:s==4?i:s==5?c:l;return e.jsx(u,{account:o.user,children:e.jsxs(n,{children:[e.jsx(Z,{}),e.jsx(X,{})]})})}const Gt=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));function M({auth:o}){_(g=>g.tickets),C();const[t,s]=p.useState(!0);async function u(){s(!1)}p.useEffect(()=>{f.dispatch(S()),u()},[]);const d=o.user.role_id,h=d==1?a:d==3?r:d==4?i:d==5?c:l;return e.jsx(h,{account:o.user,children:e.jsx(n,{children:t?e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{})]}):!t&&e.jsx(e.Fragment,{children:e.jsx(tt,{})})})})}const Jt=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));function P({auth:o}){p.useEffect(()=>{f.dispatch(S())},[]);const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(et,{})})})}const Qt=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));function E({auth:o}){const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(nt,{})})})}const Xt=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));function R({auth:o}){const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(at,{})})})}const Zt=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));function k({auth:o}){p.useEffect(()=>{f.dispatch(j())},[]);const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(rt,{})})})}const te=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));function N({auth:o}){const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(it,{})})})}const ee=Object.freeze(Object.defineProperty({__proto__:null,default:N},Symbol.toStringTag,{value:"Module"}));function D({auth:o}){const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(ct,{})})})}const oe=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));function z({auth:o}){p.useEffect(()=>{f.dispatch(j())},[]);const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(lt,{})})})}const se=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));function U({auth:o}){const{ticket:t}=_(d=>d.tickets);p.useEffect(()=>{f.dispatch(j()),f.dispatch(S())},[t]);const s=o.user.role_id,u=s==1?a:s==3?r:s==4?i:s==5?c:l;return e.jsx(u,{account:o.user,children:e.jsx(n,{children:e.jsx(ut,{})})})}const ne=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"}));function I({auth:o}){p.useEffect(()=>{f.dispatch(j())},[]);const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(dt,{})})})}const ae=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));function $({auth:o}){p.useEffect(()=>{f.dispatch(j())},[]);const t=o.user.role_id,s=t==1?a:t==3?r:t==4?i:t==5?c:l;return e.jsx(s,{account:o.user,children:e.jsx(n,{children:e.jsx(pt,{})})})}const re=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));function n({children:o}){const{ticket:t}=_(m=>m.tickets),{user:s}=_(m=>m.app),{url:u}=V(),d=C(),[h,g]=p.useState(!0);p.useEffect(()=>{async function m(y){try{const b=await f.dispatch(ot(u.split("/")[u.split("/").length-2].split("#")[0])),w=await st(u.split("/")[u.split("/").length-2].split("#")[0]);d(B(w)),d(H(b)),g(!1)}catch(b){g(!1),console.error("Error fetching data:",b)}}m()},[u]);const T=[...t.call_type!="TS-Tech Support"?[{title:"Files",hash:"files"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.call_type==="CF-Warranty Claim"&&t.status=="WARRANTY VALIDATION"?[{title:"Warranty Validation",components:e.jsx(N,{}),hash:"warranty_validation"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.call_type==="Parts"&&t.status==="PARTS VALIDATION"?[{title:"Parts Validation",components:e.jsx(P,{}),hash:"parts_validation"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="RESOURCE"?[{title:"Decision Making",components:e.jsx(M,{}),hash:"decision"}]:[],...(t==null?void 0:t.isUploading)==="true"&&(t.status==="CA WAREHOUSE"||t.status==="US WAREHOUSE"||t.status==="CLOSED")?[{title:t.country+" Warehouse",components:e.jsx(D,{}),hash:"warehouse"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REPAIR"?[{title:"Repair",components:e.jsx(E,{}),hash:"repair"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="AVAILABILITY"?[{title:"Availability",components:e.jsx(U,{}),hash:"availability"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="INTERNALS"?[{title:"Internals",components:e.jsx(z,{}),hash:"internals"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="CALLBACK"?[{title:"Callback",components:e.jsx(I,{}),hash:"callback"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REFUND"?[{title:"Refund",components:e.jsx(R,{}),hash:"refund"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REPLACEMENT"?[{title:"Replacement",components:e.jsx($,{}),hash:"replacement"}]:[],...(t==null?void 0:t.isUploading)==="true"&&t.status==="REPLACEMENT PARTS"?[{title:"Replacement Parts",components:e.jsx(k,{}),hash:"replacement_parts"}]:[],...t.call_type=="TS-Tech Support"&&t.status==="TECH VALIDATION"?[{title:"Update Status",components:e.jsx(v,{}),hash:"status"}]:[],{title:"Activities",components:e.jsx(O,{}),hash:"activities"},{title:"Details",components:e.jsx(A,{}),hash:"details"},{title:"Agent Notes",components:e.jsx(L,{}),hash:"notes"}],W=m=>{Y.visit(T[m].hash)},F=window.location.pathname.split("/")[5];return e.jsxs("div",{className:" font-sans h-full",children:[s.agent_type!=="CSR"&&e.jsx(ft,{}),e.jsx("div",{className:"px-8",children:e.jsxs("div",{className:"w-full ",children:[e.jsxs("div",{className:`py-3 text-3xl font-black flex gap-3 ${t.status=="CLOSED"?" text-red-600":" text-blue-600"}`,children:[e.jsx(mt,{className:"h-9"})," ",t.status??"Open Ticket"," (",t.call_type,")"]}),e.jsx("div",{className:"mb-4 flex space-x-4 p-2 bg-white rounded-md border-blue-500 border-2 ",children:!h&&T.map((m,y)=>e.jsx("button",{onClick:()=>W(y),className:`flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300 ${F==m.hash?"bg-blue-600 text-white":"bg-gray-300 hover:bg-blue-200"}`,children:m.title},y))}),e.jsx("div",{className:"my-8",children:h?e.jsx(x,{}):o})]})})]})}const ie=Object.freeze(Object.defineProperty({__proto__:null,default:n},Symbol.toStringTag,{value:"Module"}));export{n as T,qt as a,Kt as b,Gt as c,Jt as d,Qt as e,Xt as f,Zt as g,te as h,ee as i,oe as j,se as k,ne as l,ae as m,re as n,Yt as p,ie as t};
