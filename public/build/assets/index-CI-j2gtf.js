import{A as Ce,_ as ie,z as se,an as nr,w as or,i as re,B as Z,f as G,p as gt,D as Re,b as Oe,l as Ee,g as vt,m as Ze,T as Te,af as ht,u as le,d as Ae,$ as lt,V as ar,ao as ct,r as jt,o as ir,E as sr,a0 as kt,a1 as _t,a2 as zt,aj as fe,a3 as At,j as lr,k as bt,c as Ft,ap as Ct,aq as cr,L as yt,J as ur}from"./compact-item-PVVCWA33.js";import{r as s,m as be,P as St}from"./store-CorJ7S5Q.js";import{g as Xt,a as _e,b as dr,E as Ut,T as Bt}from"./addEventListener-DpEWNk2R.js";import{P as fr,u as Ge,C as Ht,d as Wt,b as Vt,K as ut,e as mr,h as pr,p as gr,c as vr}from"./index-B0_OPhdT.js";import{D as hr,g as wr,i as qt,C as br}from"./index-CHfOMkTP.js";import{K as dt,g as Ke,i as Cr}from"./motion-L0wigdRl.js";import{L as yr,R as Sr,u as $r}from"./useForceUpdate-VXAcl-Za.js";import{i as xr}from"./zoom-B1l6vkCP.js";import{g as Ir}from"./collapse-C1MjllT7.js";import{c as $t}from"./reactNode-3bav4zo4.js";import{B as xt}from"./button-Bob1Tl1g.js";import{D as Er}from"./DeleteOutlined-Bx_9Kl_i.js";var Or={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const Pr=Or;var Rr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Pr}))},Mr=s.forwardRef(Rr);const Nr=Mr;var Lr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"};const Tr=Lr;var Dr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Tr}))},jr=s.forwardRef(Dr);const kr=jr;var _r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const zr=_r;var Ar=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:zr}))},Fr=s.forwardRef(Ar);const Xr=Fr;var Ur={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"};const Br=Ur;var Hr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Br}))},Wr=s.forwardRef(Hr);const Vr=Wr;var qr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Yr=qr;var Zr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Yr}))},Gr=s.forwardRef(Zr);const wa=Gr;var Kr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Jr=Kr;var Qr=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:Jr}))},en=s.forwardRef(Qr);const tn=en;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const nn=rn;var on=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:nn}))},an=s.forwardRef(on);const sn=an;var ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const cn=ln;var un=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:cn}))},dn=s.forwardRef(un);const It=dn;var fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const mn=fn;var pn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:mn}))},gn=s.forwardRef(pn);const vn=gn;var hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const wn=hn;var bn=function(t,r){return s.createElement(Ce,ie({},t,{ref:r,icon:wn}))},Cn=s.forwardRef(bn);const yn=Cn;var ft=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],We=s.createContext(null),Et=0;function Sn(e,t){var r=s.useState(function(){return Et+=1,String(Et)}),n=se(r,1),a=n[0],i=s.useContext(We),l={data:t,canPreview:e};return s.useEffect(function(){if(i)return i.register(a,l)},[]),s.useEffect(function(){i&&i.register(a,l)},[e,t]),a}function $n(e){return new Promise(function(t){var r=document.createElement("img");r.onerror=function(){return t(!1)},r.onload=function(){return t(!0)},r.src=e})}function Yt(e){var t=e.src,r=e.isCustomPlaceholder,n=e.fallback,a=s.useState(r?"loading":"normal"),i=se(a,2),l=i[0],o=i[1],c=s.useRef(!1),u=l==="error";s.useEffect(function(){var v=!0;return $n(t).then(function(g){!g&&v&&o("error")}),function(){v=!1}},[t]),s.useEffect(function(){r&&!c.current?o("loading"):u&&o("normal")},[t]);var d=function(){o("normal")},f=function(g){c.current=!1,l==="loading"&&g!==null&&g!==void 0&&g.complete&&(g.naturalWidth||g.naturalHeight)&&(c.current=!0,d())},p=u&&n?{src:n}:{onLoad:d,src:t};return[f,p,l]}var Ve={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function xn(e,t,r,n){var a=s.useRef(null),i=s.useRef([]),l=s.useState(Ve),o=se(l,2),c=o[0],u=o[1],d=function(g){u(Ve),n&&!nr(Ve,c)&&n({transform:Ve,action:g})},f=function(g,b){a.current===null&&(i.current=[],a.current=or(function(){u(function(h){var S=h;return i.current.forEach(function(I){S=re(re({},S),I)}),a.current=null,n==null||n({transform:S,action:b}),S})})),i.current.push(re(re({},c),g))},p=function(g,b,h,S,I){var P=e.current,w=P.width,m=P.height,x=P.offsetWidth,C=P.offsetHeight,y=P.offsetLeft,R=P.offsetTop,E=g,O=c.scale*g;O>r?(O=r,E=r/c.scale):O<t&&(O=I?O:t,E=O/c.scale);var A=h??innerWidth/2,k=S??innerHeight/2,M=E-1,H=M*w*.5,_=M*m*.5,T=M*(A-c.x-y),K=M*(k-c.y-R),ne=c.x-(T-H),oe=c.y-(K-_);if(g<1&&O===1){var Y=x*O,J=C*O,$=Xt(),D=$.width,W=$.height;Y<=D&&J<=W&&(ne=0,oe=0)}f({x:ne,y:oe,scale:O},b)};return{transform:c,resetTransform:d,updateTransform:f,dispatchZoomChange:p}}function Ot(e,t,r,n){var a=t+r,i=(r-n)/2;if(r>n){if(t>0)return Z({},e,i);if(t<0&&a<n)return Z({},e,-i)}else if(t<0||a>n)return Z({},e,t<0?i:-i);return{}}function Zt(e,t,r,n){var a=Xt(),i=a.width,l=a.height,o=null;return e<=i&&t<=l?o={x:0,y:0}:(e>i||t>l)&&(o=re(re({},Ot("x",r,e,i)),Ot("y",n,t,l))),o}var ze=1,In=1;function En(e,t,r,n,a,i,l){var o=a.rotate,c=a.scale,u=a.x,d=a.y,f=s.useState(!1),p=se(f,2),v=p[0],g=p[1],b=s.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),h=function(m){!t||m.button!==0||(m.preventDefault(),m.stopPropagation(),b.current={diffX:m.pageX-u,diffY:m.pageY-d,transformX:u,transformY:d},g(!0))},S=function(m){r&&v&&i({x:m.pageX-b.current.diffX,y:m.pageY-b.current.diffY},"move")},I=function(){if(r&&v){g(!1);var m=b.current,x=m.transformX,C=m.transformY,y=u!==x&&d!==C;if(!y)return;var R=e.current.offsetWidth*c,E=e.current.offsetHeight*c,O=e.current.getBoundingClientRect(),A=O.left,k=O.top,M=o%180!==0,H=Zt(M?E:R,M?R:E,A,k);H&&i(re({},H),"dragRebound")}},P=function(m){if(!(!r||m.deltaY==0)){var x=Math.abs(m.deltaY/100),C=Math.min(x,In),y=ze+C*n;m.deltaY>0&&(y=ze/y),l(y,"wheel",m.clientX,m.clientY)}};return s.useEffect(function(){var w,m,x,C;if(t){x=_e(window,"mouseup",I,!1),C=_e(window,"mousemove",S,!1);try{window.top!==window.self&&(w=_e(window.top,"mouseup",I,!1),m=_e(window.top,"mousemove",S,!1))}catch{}}return function(){var y,R,E,O;(y=x)===null||y===void 0||y.remove(),(R=C)===null||R===void 0||R.remove(),(E=w)===null||E===void 0||E.remove(),(O=m)===null||O===void 0||O.remove()}},[r,v,u,d,o,t]),{isMoving:v,onMouseDown:h,onMouseMove:S,onMouseUp:I,onWheel:P}}function Je(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.hypot(r,n)}function On(e,t,r,n){var a=Je(e,r),i=Je(t,n);if(a===0&&i===0)return[e.x,e.y];var l=a/(a+i),o=e.x+l*(t.x-e.x),c=e.y+l*(t.y-e.y);return[o,c]}function Pn(e,t,r,n,a,i,l){var o=a.rotate,c=a.scale,u=a.x,d=a.y,f=s.useState(!1),p=se(f,2),v=p[0],g=p[1],b=s.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),h=function(m){b.current=re(re({},b.current),m)},S=function(m){if(t){m.stopPropagation(),g(!0);var x=m.touches,C=x===void 0?[]:x;C.length>1?h({point1:{x:C[0].clientX,y:C[0].clientY},point2:{x:C[1].clientX,y:C[1].clientY},eventType:"touchZoom"}):h({point1:{x:C[0].clientX-u,y:C[0].clientY-d},eventType:"move"})}},I=function(m){var x=m.touches,C=x===void 0?[]:x,y=b.current,R=y.point1,E=y.point2,O=y.eventType;if(C.length>1&&O==="touchZoom"){var A={x:C[0].clientX,y:C[0].clientY},k={x:C[1].clientX,y:C[1].clientY},M=On(R,E,A,k),H=se(M,2),_=H[0],T=H[1],K=Je(A,k)/Je(R,E);l(K,"touchZoom",_,T,!0),h({point1:A,point2:k,eventType:"touchZoom"})}else O==="move"&&(i({x:C[0].clientX-R.x,y:C[0].clientY-R.y},"move"),h({eventType:"move"}))},P=function(){if(r){if(v&&g(!1),h({eventType:"none"}),n>c)return i({x:0,y:0,scale:n},"touchZoom");var m=e.current.offsetWidth*c,x=e.current.offsetHeight*c,C=e.current.getBoundingClientRect(),y=C.left,R=C.top,E=o%180!==0,O=Zt(E?x:m,E?m:x,y,R);O&&i(re({},O),"dragRebound")}};return s.useEffect(function(){var w;return r&&t&&(w=_e(window,"touchmove",function(m){return m.preventDefault()},{passive:!1})),function(){var m;(m=w)===null||m===void 0||m.remove()}},[r,t]),{isTouching:v,onTouchStart:S,onTouchMove:I,onTouchEnd:P}}var Rn=function(t){var r=t.visible,n=t.maskTransitionName,a=t.getContainer,i=t.prefixCls,l=t.rootClassName,o=t.icons,c=t.countRender,u=t.showSwitch,d=t.showProgress,f=t.current,p=t.transform,v=t.count,g=t.scale,b=t.minScale,h=t.maxScale,S=t.closeIcon,I=t.onSwitchLeft,P=t.onSwitchRight,w=t.onClose,m=t.onZoomIn,x=t.onZoomOut,C=t.onRotateRight,y=t.onRotateLeft,R=t.onFlipX,E=t.onFlipY,O=t.toolbarRender,A=t.zIndex,k=s.useContext(We),M=o.rotateLeft,H=o.rotateRight,_=o.zoomIn,T=o.zoomOut,K=o.close,ne=o.left,oe=o.right,Y=o.flipX,J=o.flipY,$="".concat(i,"-operations-operation");s.useEffect(function(){var z=function(X){X.keyCode===dt.ESC&&w()};return r&&window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[r]);var D=[{icon:J,onClick:E,type:"flipY"},{icon:Y,onClick:R,type:"flipX"},{icon:M,onClick:y,type:"rotateLeft"},{icon:H,onClick:C,type:"rotateRight"},{icon:T,onClick:x,type:"zoomOut",disabled:g<=b},{icon:_,onClick:m,type:"zoomIn",disabled:g===h}],W=D.map(function(z){var V,X=z.icon,U=z.onClick,Q=z.type,ae=z.disabled;return s.createElement("div",{className:G($,(V={},Z(V,"".concat(i,"-operations-operation-").concat(Q),!0),Z(V,"".concat(i,"-operations-operation-disabled"),!!ae),V)),onClick:U,key:Q},X)}),F=s.createElement("div",{className:"".concat(i,"-operations")},W);return s.createElement(gt,{visible:r,motionName:n},function(z){var V=z.className,X=z.style;return s.createElement(fr,{open:!0,getContainer:a??document.body},s.createElement("div",{className:G("".concat(i,"-operations-wrapper"),V,l),style:re(re({},X),{},{zIndex:A})},S===null?null:s.createElement("button",{className:"".concat(i,"-close"),onClick:w},S||K),u&&s.createElement(s.Fragment,null,s.createElement("div",{className:G("".concat(i,"-switch-left"),Z({},"".concat(i,"-switch-left-disabled"),f===0)),onClick:I},ne),s.createElement("div",{className:G("".concat(i,"-switch-right"),Z({},"".concat(i,"-switch-right-disabled"),f===v-1)),onClick:P},oe)),s.createElement("div",{className:"".concat(i,"-footer")},d&&s.createElement("div",{className:"".concat(i,"-progress")},c?c(f+1,v):"".concat(f+1," / ").concat(v)),O?O(F,re({icons:{flipYIcon:W[0],flipXIcon:W[1],rotateLeftIcon:W[2],rotateRightIcon:W[3],zoomOutIcon:W[4],zoomInIcon:W[5]},actions:{onFlipY:E,onFlipX:R,onRotateLeft:y,onRotateRight:C,onZoomOut:x,onZoomIn:m},transform:p},k?{current:f,total:v}:{})):F)))})},Mn=["fallback","src","imgRef"],Nn=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Ln=function(t){var r=t.fallback,n=t.src,a=t.imgRef,i=Re(t,Mn),l=Yt({src:n,fallback:r}),o=se(l,2),c=o[0],u=o[1];return be.createElement("img",ie({ref:function(f){a.current=f,c(f)}},i,u))},Gt=function(t){var r=t.prefixCls,n=t.src,a=t.alt,i=t.fallback,l=t.movable,o=l===void 0?!0:l,c=t.onClose,u=t.visible,d=t.icons,f=d===void 0?{}:d,p=t.rootClassName,v=t.closeIcon,g=t.getContainer,b=t.current,h=b===void 0?0:b,S=t.count,I=S===void 0?1:S,P=t.countRender,w=t.scaleStep,m=w===void 0?.5:w,x=t.minScale,C=x===void 0?1:x,y=t.maxScale,R=y===void 0?50:y,E=t.transitionName,O=E===void 0?"zoom":E,A=t.maskTransitionName,k=A===void 0?"fade":A,M=t.imageRender,H=t.imgCommonProps,_=t.toolbarRender,T=t.onTransform,K=t.onChange,ne=Re(t,Nn),oe=s.useRef(),Y=s.useContext(We),J=Y&&I>1,$=Y&&I>=1,D=s.useState(!0),W=se(D,2),F=W[0],z=W[1],V=xn(oe,C,R,T),X=V.transform,U=V.resetTransform,Q=V.updateTransform,ae=V.dispatchZoomChange,ue=En(oe,o,u,m,X,Q,ae),ee=ue.isMoving,me=ue.onMouseDown,ye=ue.onWheel,ce=Pn(oe,o,u,C,X,Q,ae),de=ce.isTouching,pe=ce.onTouchStart,we=ce.onTouchMove,ge=ce.onTouchEnd,Me=X.rotate,Se=X.scale,$e=G(Z({},"".concat(r,"-moving"),ee));s.useEffect(function(){F||z(!0)},[F]);var Fe=function(){U("close")},Xe=function(){ae(ze+m,"zoomIn")},Ue=function(){ae(ze/(ze+m),"zoomOut")},ve=function(){Q({rotate:Me+90},"rotateRight")},he=function(){Q({rotate:Me-90},"rotateLeft")},De=function(){Q({flipX:!X.flipX},"flipX")},je=function(){Q({flipY:!X.flipY},"flipY")},xe=function(B){B==null||B.preventDefault(),B==null||B.stopPropagation(),h>0&&(z(!1),U("prev"),K==null||K(h-1,h))},N=function(B){B==null||B.preventDefault(),B==null||B.stopPropagation(),h<I-1&&(z(!1),U("next"),K==null||K(h+1,h))},q=function(B){!u||!J||(B.keyCode===dt.LEFT?xe():B.keyCode===dt.RIGHT&&N())},te=function(B){u&&(Se!==1?Q({x:0,y:0,scale:1},"doubleClick"):ae(ze+m,"doubleClick",B.clientX,B.clientY))};s.useEffect(function(){var L=_e(window,"keydown",q,!1);return function(){L.remove()}},[u,J,h]);var j=be.createElement(Ln,ie({},H,{width:t.width,height:t.height,imgRef:oe,className:"".concat(r,"-img"),alt:a,style:{transform:"translate3d(".concat(X.x,"px, ").concat(X.y,"px, 0) scale3d(").concat(X.flipX?"-":"").concat(Se,", ").concat(X.flipY?"-":"").concat(Se,", 1) rotate(").concat(Me,"deg)"),transitionDuration:(!F||de)&&"0s"},fallback:i,src:n,onWheel:ye,onMouseDown:me,onDoubleClick:te,onTouchStart:pe,onTouchMove:we,onTouchEnd:ge,onTouchCancel:ge}));return be.createElement(be.Fragment,null,be.createElement(hr,ie({transitionName:O,maskTransitionName:k,closable:!1,keyboard:!0,prefixCls:r,onClose:c,visible:u,classNames:{wrapper:$e},rootClassName:p,getContainer:g},ne,{afterClose:Fe}),be.createElement("div",{className:"".concat(r,"-img-wrapper")},M?M(j,re({transform:X},Y?{current:h}:{})):j)),be.createElement(Rn,{visible:u,transform:X,maskTransitionName:k,closeIcon:v,getContainer:g,prefixCls:r,rootClassName:p,icons:f,countRender:P,showSwitch:J,showProgress:$,current:h,count:I,scale:Se,minScale:C,maxScale:R,toolbarRender:_,onSwitchLeft:xe,onSwitchRight:N,onZoomIn:Xe,onZoomOut:Ue,onRotateRight:ve,onRotateLeft:he,onFlipX:De,onFlipY:je,onClose:c,zIndex:ne.zIndex!==void 0?ne.zIndex+1:void 0}))};function Tn(e){var t=s.useState({}),r=se(t,2),n=r[0],a=r[1],i=s.useCallback(function(o,c){return a(function(u){return re(re({},u),{},Z({},o,c))}),function(){a(function(u){var d=re({},u);return delete d[o],d})}},[]),l=s.useMemo(function(){return e?e.map(function(o){if(typeof o=="string")return{data:{src:o}};var c={};return Object.keys(o).forEach(function(u){["src"].concat(Oe(ft)).includes(u)&&(c[u]=o[u])}),{data:c}}):Object.keys(n).reduce(function(o,c){var u=n[c],d=u.canPreview,f=u.data;return d&&o.push({data:f,id:c}),o},[])},[e,n]);return[l,i]}var Dn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],jn=["src"],kn=function(t){var r,n=t.previewPrefixCls,a=n===void 0?"rc-image-preview":n,i=t.children,l=t.icons,o=l===void 0?{}:l,c=t.items,u=t.preview,d=t.fallback,f=Ee(u)==="object"?u:{},p=f.visible,v=f.onVisibleChange,g=f.getContainer,b=f.current,h=f.movable,S=f.minScale,I=f.maxScale,P=f.countRender,w=f.closeIcon,m=f.onChange,x=f.onTransform,C=f.toolbarRender,y=f.imageRender,R=Re(f,Dn),E=Tn(c),O=se(E,2),A=O[0],k=O[1],M=Ge(0,{value:b}),H=se(M,2),_=H[0],T=H[1],K=s.useState(!1),ne=se(K,2),oe=ne[0],Y=ne[1],J=((r=A[_])===null||r===void 0?void 0:r.data)||{},$=J.src,D=Re(J,jn),W=Ge(!!p,{value:p,onChange:function(de,pe){v==null||v(de,pe,_)}}),F=se(W,2),z=F[0],V=F[1],X=s.useState(null),U=se(X,2),Q=U[0],ae=U[1],ue=s.useCallback(function(ce,de,pe){var we=A.findIndex(function(ge){return ge.id===ce});V(!0),ae({x:de,y:pe}),T(we<0?0:we),Y(!0)},[A]);s.useEffect(function(){z?oe||T(0):Y(!1)},[z]);var ee=function(de,pe){T(de),m==null||m(de,pe)},me=function(){V(!1),ae(null)},ye=s.useMemo(function(){return{register:k,onPreview:ue}},[k,ue]);return s.createElement(We.Provider,{value:ye},i,s.createElement(Gt,ie({"aria-hidden":!z,movable:h,visible:z,prefixCls:a,closeIcon:w,onClose:me,mousePosition:Q,imgCommonProps:D,src:$,fallback:d,icons:o,minScale:S,maxScale:I,getContainer:g,current:_,count:A.length,countRender:P,onTransform:x,toolbarRender:C,imageRender:y,onChange:ee},R)))},_n=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],zn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],tt=function(t){var r=t.src,n=t.alt,a=t.onPreviewClose,i=t.prefixCls,l=i===void 0?"rc-image":i,o=t.previewPrefixCls,c=o===void 0?"".concat(l,"-preview"):o,u=t.placeholder,d=t.fallback,f=t.width,p=t.height,v=t.style,g=t.preview,b=g===void 0?!0:g,h=t.className,S=t.onClick,I=t.onError,P=t.wrapperClassName,w=t.wrapperStyle,m=t.rootClassName,x=Re(t,_n),C=u&&u!==!0,y=Ee(b)==="object"?b:{},R=y.src,E=y.visible,O=E===void 0?void 0:E,A=y.onVisibleChange,k=A===void 0?a:A,M=y.getContainer,H=M===void 0?void 0:M,_=y.mask,T=y.maskClassName,K=y.movable,ne=y.icons,oe=y.scaleStep,Y=y.minScale,J=y.maxScale,$=y.imageRender,D=y.toolbarRender,W=Re(y,zn),F=R??r,z=Ge(!!O,{value:O,onChange:k}),V=se(z,2),X=V[0],U=V[1],Q=Yt({src:r,isCustomPlaceholder:C,fallback:d}),ae=se(Q,3),ue=ae[0],ee=ae[1],me=ae[2],ye=s.useState(null),ce=se(ye,2),de=ce[0],pe=ce[1],we=s.useContext(We),ge=!!b,Me=function(){U(!1),pe(null)},Se=G(l,P,m,Z({},"".concat(l,"-error"),me==="error")),$e=s.useMemo(function(){var ve={};return ft.forEach(function(he){t[he]!==void 0&&(ve[he]=t[he])}),ve},ft.map(function(ve){return t[ve]})),Fe=s.useMemo(function(){return re(re({},$e),{},{src:F})},[F,$e]),Xe=Sn(ge,Fe),Ue=function(he){var De=dr(he.target),je=De.left,xe=De.top;we?we.onPreview(Xe,je,xe):(pe({x:je,y:xe}),U(!0)),S==null||S(he)};return s.createElement(s.Fragment,null,s.createElement("div",ie({},x,{className:Se,onClick:ge?Ue:S,style:re({width:f,height:p},w)}),s.createElement("img",ie({},$e,{className:G("".concat(l,"-img"),Z({},"".concat(l,"-img-placeholder"),u===!0),h),style:re({height:p},v),ref:ue},ee,{width:f,height:p,onError:I})),me==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},u),_&&ge&&s.createElement("div",{className:G("".concat(l,"-mask"),T),style:{display:(v==null?void 0:v.display)==="none"?"none":void 0}},_)),!we&&ge&&s.createElement(Gt,ie({"aria-hidden":!X,visible:X,prefixCls:c,onClose:Me,mousePosition:de,src:F,alt:n,fallback:d,getContainer:H,icons:ne,movable:K,scaleStep:oe,minScale:Y,maxScale:J,rootClassName:m,imageRender:$,imgCommonProps:$e,toolbarRender:D},W)))};tt.PreviewGroup=kn;tt.displayName="Image";const mt=e=>({position:e||"absolute",inset:0}),An=e=>{const{iconCls:t,motionDurationSlow:r,paddingXXS:n,marginXXS:a,prefixCls:i,colorTextLightSolid:l}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Te("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${r}`,[`.${i}-mask-info`]:Object.assign(Object.assign({},ht),{padding:`0 ${le(n)}`,[t]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},Fn=e=>{const{previewCls:t,modalMaskBg:r,paddingSM:n,marginXL:a,margin:i,paddingLG:l,previewOperationColorDisabled:o,previewOperationHoverColor:c,motionDurationSlow:u,iconCls:d,colorTextLightSolid:f}=e,p=new Te(r).setAlpha(.1),v=p.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:i},[`${t}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:f,backgroundColor:p.toRgbString(),borderRadius:"50%",padding:n,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:v.toRgbString()},[`& > ${d}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${le(l)}`,backgroundColor:p.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:n,padding:n,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${d}`]:{color:c},"&-disabled":{color:o,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${d}`]:{fontSize:e.previewOperationSize}}}}},Xn=e=>{const{modalMaskBg:t,iconCls:r,previewOperationColorDisabled:n,previewCls:a,zIndexPopup:i,motionDurationSlow:l}=e,o=new Te(t).setAlpha(.1),c=o.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(i).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:o.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:c.toRgbString()},"&-disabled":{"&, &:hover":{color:n,background:"transparent",cursor:"not-allowed",[`> ${r}`]:{cursor:"not-allowed"}}},[`> ${r}`]:{fontSize:e.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:e.marginSM},[`${a}-switch-right`]:{insetInlineEnd:e.marginSM}}},Un=e=>{const{motionEaseOut:t,previewCls:r,motionDurationSlow:n,componentCls:a}=e;return[{[`${a}-preview-root`]:{[r]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${r}-body`]:Object.assign(Object.assign({},mt()),{overflow:"hidden"}),[`${r}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${n} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},mt()),{transition:`transform ${n} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${r}-moving`]:{[`${r}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${r}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal({unit:!1})},"&":[Fn(e),Xn(e)]}]},Bn=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},An(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},mt())}}},Hn=e=>{const{previewCls:t}=e;return{[`${t}-root`]:xr(e,"zoom"),"&":qt(e,!0)}},Wn=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Te(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new Te(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new Te(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Kt=vt("Image",e=>{const t=`${e.componentCls}-preview`,r=Ze(e,{previewCls:t,modalMaskBg:new Te("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Bn(r),Un(r),wr(Ze(r,{componentCls:t})),Hn(r)]},Wn);var Vn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Jt={rotateLeft:s.createElement(tn,null),rotateRight:s.createElement(sn,null),zoomIn:s.createElement(vn,null),zoomOut:s.createElement(yn,null),close:s.createElement(Ht,null),left:s.createElement(yr,null),right:s.createElement(Sr,null),flipX:s.createElement(It,null),flipY:s.createElement(It,{rotate:90})},qn=e=>{var{previewPrefixCls:t,preview:r}=e,n=Vn(e,["previewPrefixCls","preview"]);const{getPrefixCls:a}=s.useContext(Ae),i=a("image",t),l=`${i}-preview`,o=a(),c=Wt(i),[u,d,f]=Kt(i,c),[p]=Vt("ImagePreview",typeof r=="object"?r.zIndex:void 0),v=s.useMemo(()=>{var g;if(r===!1)return r;const b=typeof r=="object"?r:{},h=G(d,f,c,(g=b.rootClassName)!==null&&g!==void 0?g:"");return Object.assign(Object.assign({},b),{transitionName:Ke(o,"zoom",b.transitionName),maskTransitionName:Ke(o,"fade",b.maskTransitionName),rootClassName:h,zIndex:p})},[r]);return u(s.createElement(tt.PreviewGroup,Object.assign({preview:v,previewPrefixCls:l,icons:Jt},n)))},Yn=qn;var Pt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Qt=e=>{var t;const{prefixCls:r,preview:n,className:a,rootClassName:i,style:l}=e,o=Pt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:u=lt,getPopupContainer:d,image:f}=s.useContext(Ae),p=c("image",r),v=c(),g=u.Image||lt.Image,b=Wt(p),[h,S,I]=Kt(p,b),P=G(i,S,I,b),w=G(a,S,f==null?void 0:f.className),[m]=Vt("ImagePreview",typeof n=="object"?n.zIndex:void 0),x=s.useMemo(()=>{var y;if(n===!1)return n;const R=typeof n=="object"?n:{},{getContainer:E,closeIcon:O}=R,A=Pt(R,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${p}-mask-info`},s.createElement(Ut,null),g==null?void 0:g.preview),icons:Jt},A),{getContainer:E??d,transitionName:Ke(v,"zoom",R.transitionName),maskTransitionName:Ke(v,"fade",R.maskTransitionName),zIndex:m,closeIcon:O??((y=f==null?void 0:f.preview)===null||y===void 0?void 0:y.closeIcon)})},[n,g,(t=f==null?void 0:f.preview)===null||t===void 0?void 0:t.closeIcon]),C=Object.assign(Object.assign({},f==null?void 0:f.style),l);return h(s.createElement(tt,Object.assign({prefixCls:p,preview:x,rootClassName:P,className:w,style:C},o)))};Qt.PreviewGroup=Yn;const ba=Qt;var Zn={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Gn=function(){var t=s.useRef([]),r=s.useRef(null);return s.useEffect(function(){var n=Date.now(),a=!1;t.current.forEach(function(i){if(i){a=!0;var l=i.style;l.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(l.transitionDuration="0s, 0s")}}),a&&(r.current=Date.now())}),t.current},Rt=0,Kn=ar();function Jn(){var e;return Kn?(e=Rt,Rt+=1):e="TEST_OR_SSR",e}const Qn=function(e){var t=s.useState(),r=se(t,2),n=r[0],a=r[1];return s.useEffect(function(){a("rc_progress_".concat(Jn()))},[]),e||n};var Mt=function(t){var r=t.bg,n=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function Nt(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),a="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(a)})}var eo=s.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,a=e.gradientId,i=e.radius,l=e.style,o=e.ptg,c=e.strokeLinecap,u=e.strokeWidth,d=e.size,f=e.gapDegree,p=n&&Ee(n)==="object",v=p?"#FFF":void 0,g=d/2,b=s.createElement("circle",{className:"".concat(r,"-circle-path"),r:i,cx:g,cy:g,stroke:v,strokeLinecap:c,strokeWidth:u,opacity:o===0?0:1,style:l,ref:t});if(!p)return b;var h="".concat(a,"-conic"),S=f?"".concat(180+f/2,"deg"):"0deg",I=Nt(n,(360-f)/360),P=Nt(n,1),w="conic-gradient(from ".concat(S,", ").concat(I.join(", "),")"),m="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(P.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:h},b),s.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(h,")")},s.createElement(Mt,{bg:m},s.createElement(Mt,{bg:w}))))}),Be=100,nt=function(t,r,n,a,i,l,o,c,u,d){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,p=n/100*360*((360-l)/360),v=l===0?0:{bottom:0,top:180,left:90,right:-90}[o],g=(100-a)/100*r;u==="round"&&a!==100&&(g+=d/2,g>=r&&(g=r-.01));var b=Be/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:g+f,transform:"rotate(".concat(i+p+v,"deg)"),transformOrigin:"".concat(b,"px ").concat(b,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},to=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Lt(e){var t=e??[];return Array.isArray(t)?t:[t]}var ro=function(t){var r=re(re({},Zn),t),n=r.id,a=r.prefixCls,i=r.steps,l=r.strokeWidth,o=r.trailWidth,c=r.gapDegree,u=c===void 0?0:c,d=r.gapPosition,f=r.trailColor,p=r.strokeLinecap,v=r.style,g=r.className,b=r.strokeColor,h=r.percent,S=Re(r,to),I=Be/2,P=Qn(n),w="".concat(P,"-gradient"),m=I-l/2,x=Math.PI*2*m,C=u>0?90+u/2:-90,y=x*((360-u)/360),R=Ee(i)==="object"?i:{count:i,gap:2},E=R.count,O=R.gap,A=Lt(h),k=Lt(b),M=k.find(function(Y){return Y&&Ee(Y)==="object"}),H=M&&Ee(M)==="object",_=H?"butt":p,T=nt(x,y,0,100,C,u,d,f,_,l),K=Gn(),ne=function(){var J=0;return A.map(function($,D){var W=k[D]||k[k.length-1],F=nt(x,y,J,$,C,u,d,W,_,l);return J+=$,s.createElement(eo,{key:D,color:W,ptg:$,radius:m,prefixCls:a,gradientId:w,style:F,strokeLinecap:_,strokeWidth:l,gapDegree:u,ref:function(V){K[D]=V},size:Be})}).reverse()},oe=function(){var J=Math.round(E*(A[0]/100)),$=100/E,D=0;return new Array(E).fill(null).map(function(W,F){var z=F<=J-1?k[0]:f,V=z&&Ee(z)==="object"?"url(#".concat(w,")"):void 0,X=nt(x,y,D,$,C,u,d,z,"butt",l,O);return D+=(y-X.strokeDashoffset+O)*100/y,s.createElement("circle",{key:F,className:"".concat(a,"-circle-path"),r:m,cx:I,cy:I,stroke:V,strokeWidth:l,opacity:1,style:X,ref:function(Q){K[F]=Q}})})};return s.createElement("svg",ie({className:G("".concat(a,"-circle"),g),viewBox:"0 0 ".concat(Be," ").concat(Be),style:v,id:n,role:"presentation"},S),!E&&s.createElement("circle",{className:"".concat(a,"-circle-trail"),r:m,cx:I,cy:I,stroke:f,strokeLinecap:_,strokeWidth:o||l,style:T}),E?oe():ne())};function Pe(e){return!e||e<0?0:e>100?100:e}function Qe(e){let{success:t,successPercent:r}=e,n=r;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const no=e=>{let{percent:t,success:r,successPercent:n}=e;const a=Pe(Qe({success:r,successPercent:n}));return[a,Pe(Pe(t)-a)]},oo=e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:n}=t;return[n||ct.green,r||null]},rt=(e,t,r)=>{var n,a,i,l;let o=-1,c=-1;if(t==="step"){const u=r.steps,d=r.strokeWidth;typeof e=="string"||typeof e>"u"?(o=e==="small"?2:14,c=d??8):typeof e=="number"?[o,c]=[e,e]:[o=14,c=8]=e,o*=u}else if(t==="line"){const u=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?c=u||(e==="small"?6:8):typeof e=="number"?[o,c]=[e,e]:[o=-1,c=8]=e}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[o,c]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[o,c]=[e,e]:(o=(a=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&a!==void 0?a:120,c=(l=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&l!==void 0?l:120));return[o,c]},ao=3,io=e=>ao/e*100,so=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:a,gapDegree:i,width:l=120,type:o,children:c,success:u,size:d=l,steps:f}=e,[p,v]=rt(d,"circle");let{strokeWidth:g}=e;g===void 0&&(g=Math.max(io(p),6));const b={width:p,height:v,fontSize:p*.15+6},h=s.useMemo(()=>{if(i||i===0)return i;if(o==="dashboard")return 75},[i,o]),S=no(e),I=a||o==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",w=oo({success:u,strokeColor:e.strokeColor}),m=G(`${t}-inner`,{[`${t}-circle-gradient`]:P}),x=s.createElement(ro,{steps:f,percent:f?S[1]:S,strokeWidth:g,trailWidth:g,strokeColor:f?w[1]:w,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:h,gapPosition:I});return s.createElement("div",{className:m,style:b},p<=20?s.createElement(Bt,{title:c},x):s.createElement(s.Fragment,null,x,c))},lo=so,et="--progress-line-stroke-color",er="--progress-percent",Tt=e=>{const t=e?"100%":"-100%";return new ut(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},co=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},jt(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-block",width:"100%"},[`&${t}-show-info`]:{[`${t}-outer`]:{marginInlineEnd:`calc(-2em - ${le(e.marginXS)})`,paddingInlineEnd:`calc(2em + ${le(e.paddingXS)})`}},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${et})`]},height:"100%",width:`calc(1 / var(${er}) * 100%)`,display:"block"}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",width:"2em",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:Tt(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:Tt(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},uo=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},fo=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},mo=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},po=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),go=vt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=Ze(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[co(r),uo(r),fo(r),mo(r)]},po);var vo=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ho=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(r=>{let{key:n,value:a}=r;return`${a} ${n}%`}).join(", ")},wo=(e,t)=>{const{from:r=ct.blue,to:n=ct.blue,direction:a=t==="rtl"?"to left":"to right"}=e,i=vo(e,["from","to","direction"]);if(Object.keys(i).length!==0){const o=ho(i),c=`linear-gradient(${a}, ${o})`;return{background:c,[et]:c}}const l=`linear-gradient(${a}, ${r}, ${n})`;return{background:l,[et]:l}},bo=e=>{const{prefixCls:t,direction:r,percent:n,size:a,strokeWidth:i,strokeColor:l,strokeLinecap:o="round",children:c,trailColor:u=null,success:d}=e,f=l&&typeof l!="string"?wo(l,r):{[et]:l,background:l},p=o==="square"||o==="butt"?0:void 0,v=a??[-1,i||(a==="small"?6:8)],[g,b]=rt(v,"line",{strokeWidth:i}),h={backgroundColor:u||void 0,borderRadius:p},S=Object.assign(Object.assign({width:`${Pe(n)}%`,height:b,borderRadius:p},f),{[er]:Pe(n)/100}),I=Qe(e),P={width:`${Pe(I)}%`,height:b,borderRadius:p,backgroundColor:d==null?void 0:d.strokeColor},w={width:g<0?"100%":g,height:b};return s.createElement(s.Fragment,null,s.createElement("div",{className:`${t}-outer`,style:w},s.createElement("div",{className:`${t}-inner`,style:h},s.createElement("div",{className:`${t}-bg`,style:S}),I!==void 0?s.createElement("div",{className:`${t}-success-bg`,style:P}):null)),c)},Co=bo,yo=e=>{const{size:t,steps:r,percent:n=0,strokeWidth:a=8,strokeColor:i,trailColor:l=null,prefixCls:o,children:c}=e,u=Math.round(r*(n/100)),f=t??[t==="small"?2:14,a],[p,v]=rt(f,"step",{steps:r,strokeWidth:a}),g=p/r,b=new Array(r);for(let h=0;h<r;h++){const S=Array.isArray(i)?i[h]:i;b[h]=s.createElement("div",{key:h,className:G(`${o}-steps-item`,{[`${o}-steps-item-active`]:h<=u-1}),style:{backgroundColor:h<=u-1?S:l,width:g,height:v}})}return s.createElement("div",{className:`${o}-steps-outer`},b,c)},So=yo;var $o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const xo=["normal","exception","active","success"],Io=s.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:a,steps:i,strokeColor:l,percent:o=0,size:c="default",showInfo:u=!0,type:d="line",status:f,format:p,style:v}=e,g=$o(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style"]),b=s.useMemo(()=>{var k,M;const H=Qe(e);return parseInt(H!==void 0?(k=H??0)===null||k===void 0?void 0:k.toString():(M=o??0)===null||M===void 0?void 0:M.toString(),10)},[o,e.success,e.successPercent]),h=s.useMemo(()=>!xo.includes(f)&&b>=100?"success":f||"normal",[f,b]),{getPrefixCls:S,direction:I,progress:P}=s.useContext(Ae),w=S("progress",r),[m,x,C]=go(w),y=s.useMemo(()=>{if(!u)return null;const k=Qe(e);let M;const H=p||(T=>`${T}%`),_=d==="line";return p||h!=="exception"&&h!=="success"?M=H(Pe(o),Pe(k)):h==="exception"?M=_?s.createElement(mr,null):s.createElement(Ht,null):h==="success"&&(M=_?s.createElement(br,null):s.createElement(pr,null)),s.createElement("span",{className:`${w}-text`,title:typeof M=="string"?M:void 0},M)},[u,o,b,h,d,w,p]),R=Array.isArray(l)?l[0]:l,E=typeof l=="string"||Array.isArray(l)?l:void 0;let O;d==="line"?O=i?s.createElement(So,Object.assign({},e,{strokeColor:E,prefixCls:w,steps:typeof i=="object"?i.count:i}),y):s.createElement(Co,Object.assign({},e,{strokeColor:R,prefixCls:w,direction:I}),y):(d==="circle"||d==="dashboard")&&(O=s.createElement(lo,Object.assign({},e,{strokeColor:R,prefixCls:w,progressStatus:h}),y));const A=G(w,`${w}-status-${h}`,{[`${w}-${d==="dashboard"&&"circle"||d}`]:d!=="line",[`${w}-inline-circle`]:d==="circle"&&rt(c,"circle")[0]<=20,[`${w}-line`]:!i&&d==="line",[`${w}-steps`]:i,[`${w}-show-info`]:u,[`${w}-${c}`]:typeof c=="string",[`${w}-rtl`]:I==="rtl"},P==null?void 0:P.className,n,a,x,C);return m(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},P==null?void 0:P.style),v),className:A,role:"progressbar","aria-valuenow":b},ir(g,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),O))}),Eo=Io,ot=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=e.type||"",i=a.replace(/\/.*$/,"");return r.some(function(l){var o=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(o.charAt(0)==="."){var c=n.toLowerCase(),u=o.toLowerCase(),d=[u];return(u===".jpg"||u===".jpeg")&&(d=[".jpg",".jpeg"]),d.some(function(f){return c.endsWith(f)})}return/\/\*$/.test(o)?i===o.replace(/\/.*$/,""):a===o?!0:/^\w+$/.test(o)?(sr(!1,"Upload takes an invalidate 'accept' type '".concat(o,"'.Skip for check.")),!0):!1})}return!0};function Oo(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),n=new Error(r);return n.status=t.status,n.method=e.method,n.url=e.action,n}function Dt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function Po(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),e.onProgress(i)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(a){var i=e.data[a];if(Array.isArray(i)){i.forEach(function(l){r.append("".concat(a,"[]"),l)});return}r.append(a,i)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(i){e.onError(i)},t.onload=function(){return t.status<200||t.status>=300?e.onError(Oo(e,t),Dt(t)):e.onSuccess(Dt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(a){n[a]!==null&&t.setRequestHeader(a,n[a])}),t.send(r),{abort:function(){t.abort()}}}function Ro(e,t){var r=e.createReader(),n=[];function a(){r.readEntries(function(i){var l=Array.prototype.slice.apply(i);n=n.concat(l);var o=!l.length;o?t(n):a()})}a()}var Mo=function(t,r,n){var a=function i(l,o){l&&(l.path=o||"",l.isFile?l.file(function(c){n(c)&&(l.fullPath&&!c.webkitRelativePath&&(Object.defineProperties(c,{webkitRelativePath:{writable:!0}}),c.webkitRelativePath=l.fullPath.replace(/^\//,""),Object.defineProperties(c,{webkitRelativePath:{writable:!1}})),r([c]))}):l.isDirectory&&Ro(l,function(c){c.forEach(function(u){i(u,"".concat(o).concat(l.name,"/"))})}))};t.forEach(function(i){a(i.webkitGetAsEntry())})},No=+new Date,Lo=0;function at(){return"rc-upload-".concat(No,"-").concat(++Lo)}var To=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Do=function(e){kt(r,e);var t=_t(r);function r(){var n;zt(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i)),Z(fe(n),"state",{uid:at()}),Z(fe(n),"reqs",{}),Z(fe(n),"fileInput",void 0),Z(fe(n),"_isMounted",void 0),Z(fe(n),"onChange",function(o){var c=n.props,u=c.accept,d=c.directory,f=o.target.files,p=Oe(f).filter(function(v){return!d||ot(v,u)});n.uploadFiles(p),n.reset()}),Z(fe(n),"onClick",function(o){var c=n.fileInput;if(c){var u=o.target,d=n.props.onClick;if(u&&u.tagName==="BUTTON"){var f=c.parentNode;f.focus(),u.blur()}c.click(),d&&d(o)}}),Z(fe(n),"onKeyDown",function(o){o.key==="Enter"&&n.onClick(o)}),Z(fe(n),"onFileDrop",function(o){var c=n.props.multiple;if(o.preventDefault(),o.type!=="dragover")if(n.props.directory)Mo(Array.prototype.slice.call(o.dataTransfer.items),n.uploadFiles,function(d){return ot(d,n.props.accept)});else{var u=Oe(o.dataTransfer.files).filter(function(d){return ot(d,n.props.accept)});c===!1&&(u=u.slice(0,1)),n.uploadFiles(u)}}),Z(fe(n),"uploadFiles",function(o){var c=Oe(o),u=c.map(function(d){return d.uid=at(),n.processFile(d,c)});Promise.all(u).then(function(d){var f=n.props.onBatchStart;f==null||f(d.map(function(p){var v=p.origin,g=p.parsedFile;return{file:v,parsedFile:g}})),d.filter(function(p){return p.parsedFile!==null}).forEach(function(p){n.post(p)})})}),Z(fe(n),"processFile",function(){var o=lr(bt().mark(function c(u,d){var f,p,v,g,b,h,S,I,P;return bt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(f=n.props.beforeUpload,p=u,!f){m.next=14;break}return m.prev=3,m.next=6,f(u,d);case 6:p=m.sent,m.next=12;break;case 9:m.prev=9,m.t0=m.catch(3),p=!1;case 12:if(p!==!1){m.next=14;break}return m.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(v=n.props.action,typeof v!="function"){m.next=21;break}return m.next=18,v(u);case 18:g=m.sent,m.next=22;break;case 21:g=v;case 22:if(b=n.props.data,typeof b!="function"){m.next=29;break}return m.next=26,b(u);case 26:h=m.sent,m.next=30;break;case 29:h=b;case 30:return S=(Ee(p)==="object"||typeof p=="string")&&p?p:u,S instanceof File?I=S:I=new File([S],u.name,{type:u.type}),P=I,P.uid=u.uid,m.abrupt("return",{origin:u,data:h,parsedFile:P,action:g});case 35:case"end":return m.stop()}},c,null,[[3,9]])}));return function(c,u){return o.apply(this,arguments)}}()),Z(fe(n),"saveFileInput",function(o){n.fileInput=o}),n}return At(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(a){var i=this,l=a.data,o=a.origin,c=a.action,u=a.parsedFile;if(this._isMounted){var d=this.props,f=d.onStart,p=d.customRequest,v=d.name,g=d.headers,b=d.withCredentials,h=d.method,S=o.uid,I=p||Po,P={action:c,filename:v,data:l,file:u,headers:g,withCredentials:b,method:h||"post",onProgress:function(m){var x=i.props.onProgress;x==null||x(m,u)},onSuccess:function(m,x){var C=i.props.onSuccess;C==null||C(m,u,x),delete i.reqs[S]},onError:function(m,x){var C=i.props.onError;C==null||C(m,x,u),delete i.reqs[S]}};f(o),this.reqs[S]=I(P)}}},{key:"reset",value:function(){this.setState({uid:at()})}},{key:"abort",value:function(a){var i=this.reqs;if(a){var l=a.uid?a.uid:a;i[l]&&i[l].abort&&i[l].abort(),delete i[l]}else Object.keys(i).forEach(function(o){i[o]&&i[o].abort&&i[o].abort(),delete i[o]})}},{key:"render",value:function(){var a,i=this.props,l=i.component,o=i.prefixCls,c=i.className,u=i.classNames,d=u===void 0?{}:u,f=i.disabled,p=i.id,v=i.style,g=i.styles,b=g===void 0?{}:g,h=i.multiple,S=i.accept,I=i.capture,P=i.children,w=i.directory,m=i.openFileDialogOnClick,x=i.onMouseEnter,C=i.onMouseLeave,y=i.hasControlInside,R=Re(i,To),E=G((a={},Z(a,o,!0),Z(a,"".concat(o,"-disabled"),f),Z(a,c,c),a)),O=w?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},A=f?{}:{onClick:m?this.onClick:function(){},onKeyDown:m?this.onKeyDown:function(){},onMouseEnter:x,onMouseLeave:C,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:y?void 0:"0"};return be.createElement(l,ie({},A,{className:E,role:y?void 0:"button",style:v}),be.createElement("input",ie({},gr(R,{aria:!0,data:!0}),{id:p,disabled:f,type:"file",ref:this.saveFileInput,onClick:function(M){return M.stopPropagation()},key:this.state.uid,style:re({display:"none"},b.input),className:d.input,accept:S},O,{multiple:h,onChange:this.onChange},I!=null?{capture:I}:{})),P)}}]),r}(s.Component);function it(){}var pt=function(e){kt(r,e);var t=_t(r);function r(){var n;zt(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=t.call.apply(t,[this].concat(i)),Z(fe(n),"uploader",void 0),Z(fe(n),"saveUploader",function(o){n.uploader=o}),n}return At(r,[{key:"abort",value:function(a){this.uploader.abort(a)}},{key:"render",value:function(){return be.createElement(Do,ie({},this.props,{ref:this.saveUploader}))}}]),r}(s.Component);Z(pt,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:it,onError:it,onSuccess:it,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const jo=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${le(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${le(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${le(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},ko=e=>{const{componentCls:t,antCls:r,iconCls:n,fontSize:a,lineHeight:i,calc:l}=e,o=`${t}-list-item`,c=`${o}-actions`,u=`${o}-action`,d=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Ft()),{lineHeight:e.lineHeight,[o]:{position:"relative",height:l(e.lineHeight).mul(a).equal(),marginTop:e.marginXS,fontSize:a,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${o}-name`]:Object.assign(Object.assign({},ht),{padding:`0 ${le(e.paddingXS)}`,lineHeight:i,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[c]:{whiteSpace:"nowrap",[u]:{opacity:0},[n]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1},[`${u}${r}-btn`]:{height:d,border:0,lineHeight:1}},[`${t}-icon ${n}`]:{color:e.colorTextDescription,fontSize:a},[`${o}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:l(a).add(e.paddingXS).equal(),fontSize:a,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${o}:hover ${u}`]:{opacity:1},[`${o}-error`]:{color:e.colorError,[`${o}-name, ${t}-icon ${n}`]:{color:e.colorError},[c]:{[`${n}, ${n}:hover`]:{color:e.colorError},[u]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},_o=e=>{const{componentCls:t}=e,r=new ut("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new ut("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),a=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${a}-appear, ${a}-enter, ${a}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${a}-appear, ${a}-enter`]:{animationName:r},[`${a}-leave`]:{animationName:n}}},{[`${t}-wrapper`]:qt(e)},r,n]},zo=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:n,uploadProgressOffset:a,calc:i}=e,l=`${t}-list`,o=`${l}-item`;return{[`${t}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[o]:{position:"relative",height:i(n).add(i(e.lineWidth).mul(2)).add(i(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${le(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${o}-thumbnail`]:Object.assign(Object.assign({},ht),{width:n,height:n,lineHeight:le(i(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${o}-progress`]:{bottom:a,width:`calc(100% - ${le(i(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(n).add(e.paddingXS).equal()}},[`${o}-error`]:{borderColor:e.colorError,[`${o}-thumbnail ${r}`]:{[`svg path[fill='${Ct[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Ct.primary}']`]:{fill:e.colorError}}},[`${o}-uploading`]:{borderStyle:"dashed",[`${o}-name`]:{marginBottom:a}}},[`${l}${l}-picture-circle ${o}`]:{[`&, &::before, ${o}-thumbnail`]:{borderRadius:"50%"}}}}},Ao=e=>{const{componentCls:t,iconCls:r,fontSizeLG:n,colorTextLightSolid:a,calc:i}=e,l=`${t}-list`,o=`${l}-item`,c=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Ft()),{display:"block",[`${t}${t}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${le(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${l}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[o]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${o}:hover`]:{[`&::before, ${o}-actions`]:{opacity:1}},[`${o}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:n,margin:`0 ${le(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:a,"&:hover":{color:a},svg:{verticalAlign:"baseline"}}},[`${o}-thumbnail, ${o}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${o}-name`]:{display:"none",textAlign:"center"},[`${o}-file + ${o}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`},[`${o}-uploading`]:{[`&${o}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${o}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${le(i(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},Fo=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},Xo=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},jt(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},Uo=e=>({actionsColor:e.colorTextDescription}),Bo=vt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:n,controlHeightLG:a,calc:i}=e,l=Ze(e,{uploadThumbnailSize:i(t).mul(2).equal(),uploadProgressOffset:i(i(r).div(2)).add(n).equal(),uploadPicCardSize:i(a).mul(2.55).equal()});return[Xo(l),jo(l),zo(l),Ao(l),ko(l),_o(l),Fo(l),Ir(l)]},Uo);function qe(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Ye(e,t){const r=Oe(t),n=r.findIndex(a=>{let{uid:i}=a;return i===e.uid});return n===-1?r.push(e):r[n]=e,r}function st(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(n=>n[r]===e[r])[0]}function Ho(e,t){const r=e.uid!==void 0?"uid":"name",n=t.filter(a=>a[r]!==e[r]);return n.length===t.length?null:n}const Wo=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},tr=e=>e.indexOf("image/")===0,Vo=e=>{if(e.type&&!e.thumbUrl)return tr(e.type);const t=e.thumbUrl||e.url||"",r=Wo(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},Ie=200;function qo(e){return new Promise(t=>{if(!e.type||!tr(e.type)){t("");return}const r=document.createElement("canvas");r.width=Ie,r.height=Ie,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${Ie}px; height: ${Ie}px; z-index: 9999; display: none;`,document.body.appendChild(r);const n=r.getContext("2d"),a=new Image;if(a.onload=()=>{const{width:i,height:l}=a;let o=Ie,c=Ie,u=0,d=0;i>l?(c=l*(Ie/i),d=-(c-o)/2):(o=i*(Ie/l),u=-(o-c)/2),n.drawImage(a,u,d,o,c);const f=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(a.src),t(f)},a.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(a.src=i.result)},i.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&t(i.result)},i.readAsDataURL(e)}else a.src=window.URL.createObjectURL(e)})}const Yo=s.forwardRef((e,t)=>{let{prefixCls:r,className:n,style:a,locale:i,listType:l,file:o,items:c,progress:u,iconRender:d,actionIconRender:f,itemRender:p,isImgUrl:v,showPreviewIcon:g,showRemoveIcon:b,showDownloadIcon:h,previewIcon:S,removeIcon:I,downloadIcon:P,onPreview:w,onDownload:m,onClose:x}=e;var C,y;const{status:R}=o,[E,O]=s.useState(R);s.useEffect(()=>{R!=="removed"&&O(R)},[R]);const[A,k]=s.useState(!1);s.useEffect(()=>{const U=setTimeout(()=>{k(!0)},300);return()=>{clearTimeout(U)}},[]);const M=d(o);let H=s.createElement("div",{className:`${r}-icon`},M);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(E==="uploading"||!o.thumbUrl&&!o.url){const U=G(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:E!=="uploading"});H=s.createElement("div",{className:U},M)}else{const U=v!=null&&v(o)?s.createElement("img",{src:o.thumbUrl||o.url,alt:o.name,className:`${r}-list-item-image`,crossOrigin:o.crossOrigin}):M,Q=G(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:v&&!v(o)});H=s.createElement("a",{className:Q,onClick:ae=>w(o,ae),href:o.url||o.thumbUrl,target:"_blank",rel:"noopener noreferrer"},U)}const _=G(`${r}-list-item`,`${r}-list-item-${E}`),T=typeof o.linkProps=="string"?JSON.parse(o.linkProps):o.linkProps,K=b?f((typeof I=="function"?I(o):I)||s.createElement(Er,null),()=>x(o),r,i.removeFile,!0):null,ne=h&&E==="done"?f((typeof P=="function"?P(o):P)||s.createElement(Nr,null),()=>m(o),r,i.downloadFile):null,oe=l!=="picture-card"&&l!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:G(`${r}-list-item-actions`,{picture:l==="picture"})},ne,K),Y=G(`${r}-list-item-name`),J=o.url?[s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:Y,title:o.name},T,{href:o.url,onClick:U=>w(o,U)}),o.name),oe]:[s.createElement("span",{key:"view",className:Y,onClick:U=>w(o,U),title:o.name},o.name),oe],$=g&&(o.url||o.thumbUrl)?s.createElement("a",{href:o.url||o.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:U=>w(o,U),title:i.previewFile},typeof S=="function"?S(o):S||s.createElement(Ut,null)):null,D=(l==="picture-card"||l==="picture-circle")&&E!=="uploading"&&s.createElement("span",{className:`${r}-list-item-actions`},$,E==="done"&&ne,K),{getPrefixCls:W}=s.useContext(Ae),F=W(),z=s.createElement("div",{className:_},H,J,D,A&&s.createElement(gt,{motionName:`${F}-fade`,visible:E==="uploading",motionDeadline:2e3},U=>{let{className:Q}=U;const ae="percent"in o?s.createElement(Eo,Object.assign({},u,{type:"line",percent:o.percent,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"]})):null;return s.createElement("div",{className:G(`${r}-list-item-progress`,Q)},ae)})),V=o.response&&typeof o.response=="string"?o.response:((C=o.error)===null||C===void 0?void 0:C.statusText)||((y=o.error)===null||y===void 0?void 0:y.message)||i.uploadError,X=E==="error"?s.createElement(Bt,{title:V,getPopupContainer:U=>U.parentNode},z):z;return s.createElement("div",{className:G(`${r}-list-item-container`,n),style:a,ref:t},p?p(X,o,c,{download:m.bind(null,o),preview:w.bind(null,o),remove:x.bind(null,o)}):X)}),Zo=Yo,Go=(e,t)=>{const{listType:r="text",previewFile:n=qo,onPreview:a,onDownload:i,onRemove:l,locale:o,iconRender:c,isImageUrl:u=Vo,prefixCls:d,items:f=[],showPreviewIcon:p=!0,showRemoveIcon:v=!0,showDownloadIcon:g=!1,removeIcon:b,previewIcon:h,downloadIcon:S,progress:I={size:[-1,2],showInfo:!1},appendAction:P,appendActionVisible:w=!0,itemRender:m,disabled:x}=e,C=$r(),[y,R]=s.useState(!1);s.useEffect(()=>{r!=="picture"&&r!=="picture-card"&&r!=="picture-circle"||(f||[]).forEach($=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!($.originFileObj instanceof File||$.originFileObj)||$.thumbUrl!==void 0||n&&n($.originFileObj).then(D=>{$.thumbUrl=D||"",C()})})},[r,f,n]),s.useEffect(()=>{R(!0)},[]);const E=($,D)=>{if(a)return D==null||D.preventDefault(),a($)},O=$=>{typeof i=="function"?i($):$.url&&window.open($.url)},A=$=>{l==null||l($)},k=$=>{if(c)return c($,r);const D=$.status==="uploading",W=u&&u($)?s.createElement(Vr,null):s.createElement(kr,null);let F=D?s.createElement(yt,null):s.createElement(Xr,null);return r==="picture"?F=D?s.createElement(yt,null):W:(r==="picture-card"||r==="picture-circle")&&(F=D?o.uploading:W),F},M=($,D,W,F,z)=>{const V={type:"text",size:"small",title:F,onClick:X=>{var U,Q;D(),s.isValidElement($)&&((Q=(U=$.props).onClick)===null||Q===void 0||Q.call(U,X))},className:`${W}-list-item-action`};if(z&&(V.disabled=x),s.isValidElement($)){const X=$t($,Object.assign(Object.assign({},$.props),{onClick:()=>{}}));return s.createElement(xt,Object.assign({},V,{icon:X}))}return s.createElement(xt,Object.assign({},V),s.createElement("span",null,$))};s.useImperativeHandle(t,()=>({handlePreview:E,handleDownload:O}));const{getPrefixCls:H}=s.useContext(Ae),_=H("upload",d),T=H(),K=G(`${_}-list`,`${_}-list-${r}`),ne=Oe(f.map($=>({key:$.uid,file:$})));let Y={motionDeadline:2e3,motionName:`${_}-${r==="picture-card"||r==="picture-circle"?"animate-inline":"animate"}`,keys:ne,motionAppear:y};const J=s.useMemo(()=>{const $=Object.assign({},Cr(T));return delete $.onAppearEnd,delete $.onEnterEnd,delete $.onLeaveEnd,$},[T]);return r!=="picture-card"&&r!=="picture-circle"&&(Y=Object.assign(Object.assign({},J),Y)),s.createElement("div",{className:K},s.createElement(cr,Object.assign({},Y,{component:!1}),$=>{let{key:D,file:W,className:F,style:z}=$;return s.createElement(Zo,{key:D,locale:o,prefixCls:_,className:F,style:z,file:W,items:f,progress:I,listType:r,isImgUrl:u,showPreviewIcon:p,showRemoveIcon:v,showDownloadIcon:g,removeIcon:b,previewIcon:h,downloadIcon:S,iconRender:k,actionIconRender:M,itemRender:m,onPreview:E,onDownload:O,onClose:A})}),P&&s.createElement(gt,Object.assign({},Y,{visible:w,forceRender:!0}),$=>{let{className:D,style:W}=$;return $t(P,F=>({className:G(F.className,D),style:Object.assign(Object.assign(Object.assign({},W),{pointerEvents:D?"none":void 0}),F.style)}))}))},Ko=s.forwardRef(Go),Jo=Ko;var Qo=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(d){try{u(n.next(d))}catch(f){l(f)}}function c(d){try{u(n.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const He=`__LIST_IGNORE_${Date.now()}__`,ea=(e,t)=>{const{fileList:r,defaultFileList:n,onRemove:a,showUploadList:i=!0,listType:l="text",onPreview:o,onDownload:c,onChange:u,onDrop:d,previewFile:f,disabled:p,locale:v,iconRender:g,isImageUrl:b,progress:h,prefixCls:S,className:I,type:P="select",children:w,style:m,itemRender:x,maxCount:C,data:y={},multiple:R=!1,hasControlInside:E=!0,action:O="",accept:A="",supportServerRender:k=!0,rootClassName:M}=e,H=s.useContext(ur),_=p??H,[T,K]=Ge(n||[],{value:r,postState:N=>N??[]}),[ne,oe]=s.useState("drop"),Y=s.useRef(null),J=s.useRef(null);s.useMemo(()=>{const N=Date.now();(r||[]).forEach((q,te)=>{!q.uid&&!Object.isFrozen(q)&&(q.uid=`__AUTO__${N}_${te}__`)})},[r]);const $=(N,q,te)=>{let j=Oe(q),L=!1;C===1?j=j.slice(-1):C&&(L=j.length>C,j=j.slice(0,C)),St.flushSync(()=>{K(j)});const B={file:N,fileList:j};te&&(B.event=te),(!L||N.status==="removed"||j.some(Ne=>Ne.uid===N.uid))&&St.flushSync(()=>{u==null||u(B)})},D=(N,q)=>Qo(void 0,void 0,void 0,function*(){const{beforeUpload:te,transformFile:j}=e;let L=N;if(te){const B=yield te(N,q);if(B===!1)return!1;if(delete N[He],B===He)return Object.defineProperty(N,He,{value:!0,configurable:!0}),!1;typeof B=="object"&&B&&(L=B)}return j&&(L=yield j(L)),L}),W=N=>{const q=N.filter(L=>!L.file[He]);if(!q.length)return;const te=q.map(L=>qe(L.file));let j=Oe(T);te.forEach(L=>{j=Ye(L,j)}),te.forEach((L,B)=>{let Ne=L;if(q[B].parsedFile)L.status="uploading";else{const{originFileObj:ke}=L;let Le;try{Le=new File([ke],ke.name,{type:ke.type})}catch{Le=new Blob([ke],{type:ke.type}),Le.name=ke.name,Le.lastModifiedDate=new Date,Le.lastModified=new Date().getTime()}Le.uid=L.uid,Ne=Le}$(Ne,j)})},F=(N,q,te)=>{try{typeof N=="string"&&(N=JSON.parse(N))}catch{}if(!st(q,T))return;const j=qe(q);j.status="done",j.percent=100,j.response=N,j.xhr=te;const L=Ye(j,T);$(j,L)},z=(N,q)=>{if(!st(q,T))return;const te=qe(q);te.status="uploading",te.percent=N.percent;const j=Ye(te,T);$(te,j,N)},V=(N,q,te)=>{if(!st(te,T))return;const j=qe(te);j.error=N,j.response=q,j.status="error";const L=Ye(j,T);$(j,L)},X=N=>{let q;Promise.resolve(typeof a=="function"?a(N):a).then(te=>{var j;if(te===!1)return;const L=Ho(N,T);L&&(q=Object.assign(Object.assign({},N),{status:"removed"}),T==null||T.forEach(B=>{const Ne=q.uid!==void 0?"uid":"name";B[Ne]===q[Ne]&&!Object.isFrozen(B)&&(B.status="removed")}),(j=Y.current)===null||j===void 0||j.abort(q),$(q,L))})},U=N=>{oe(N.type),N.type==="drop"&&(d==null||d(N))};s.useImperativeHandle(t,()=>({onBatchStart:W,onSuccess:F,onProgress:z,onError:V,fileList:T,upload:Y.current,nativeElement:J.current}));const{getPrefixCls:Q,direction:ae,upload:ue}=s.useContext(Ae),ee=Q("upload",S),me=Object.assign(Object.assign({onBatchStart:W,onError:V,onProgress:z,onSuccess:F},e),{data:y,multiple:R,action:O,accept:A,supportServerRender:k,prefixCls:ee,disabled:_,beforeUpload:D,onChange:void 0,hasControlInside:E});delete me.className,delete me.style,(!w||_)&&delete me.id;const ye=`${ee}-wrapper`,[ce,de,pe]=Bo(ee,ye),[we]=vr("Upload",lt.Upload),{showRemoveIcon:ge,showPreviewIcon:Me,showDownloadIcon:Se,removeIcon:$e,previewIcon:Fe,downloadIcon:Xe}=typeof i=="boolean"?{}:i,Ue=typeof ge>"u"?!_:!!ge,ve=(N,q)=>i?s.createElement(Jo,{prefixCls:ee,listType:l,items:T,previewFile:f,onPreview:o,onDownload:c,onRemove:X,showRemoveIcon:Ue,showPreviewIcon:Me,showDownloadIcon:Se,removeIcon:$e,previewIcon:Fe,downloadIcon:Xe,iconRender:g,locale:Object.assign(Object.assign({},we),v),isImageUrl:b,progress:h,appendAction:N,appendActionVisible:q,itemRender:x,disabled:_}):N,he=G(ye,I,M,de,pe,ue==null?void 0:ue.className,{[`${ee}-rtl`]:ae==="rtl",[`${ee}-picture-card-wrapper`]:l==="picture-card",[`${ee}-picture-circle-wrapper`]:l==="picture-circle"}),De=Object.assign(Object.assign({},ue==null?void 0:ue.style),m);if(P==="drag"){const N=G(de,ee,`${ee}-drag`,{[`${ee}-drag-uploading`]:T.some(q=>q.status==="uploading"),[`${ee}-drag-hover`]:ne==="dragover",[`${ee}-disabled`]:_,[`${ee}-rtl`]:ae==="rtl"});return ce(s.createElement("span",{className:he,ref:J},s.createElement("div",{className:N,style:De,onDrop:U,onDragOver:U,onDragLeave:U},s.createElement(pt,Object.assign({},me,{ref:Y,className:`${ee}-btn`}),s.createElement("div",{className:`${ee}-drag-container`},w))),ve()))}const je=G(ee,`${ee}-select`,{[`${ee}-disabled`]:_}),xe=s.createElement("div",{className:je,style:w?void 0:{display:"none"}},s.createElement(pt,Object.assign({},me,{ref:Y})));return ce(l==="picture-card"||l==="picture-circle"?s.createElement("span",{className:he,ref:J},ve(xe,!!w)):s.createElement("span",{className:he,ref:J},xe,ve()))},ta=s.forwardRef(ea),rr=ta;var ra=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const na=s.forwardRef((e,t)=>{var{style:r,height:n,hasControlInside:a=!1}=e,i=ra(e,["style","height","hasControlInside"]);return s.createElement(rr,Object.assign({ref:t,hasControlInside:a},i,{type:"drag",style:Object.assign(Object.assign({},r),{height:n})}))}),oa=na,wt=rr;wt.Dragger=oa;wt.LIST_IGNORE=He;const Ca=wt;export{ba as I,wa as P,Ca as U};
