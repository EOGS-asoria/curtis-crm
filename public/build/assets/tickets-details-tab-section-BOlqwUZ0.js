import{q as n,r as u,j as t,s as f,z as E,A,y as x}from"./store-CorJ7S5Q.js";import{g as R}from"./customer-tickets-thunk-1P6CXsA5.js";import{u as h,a as b}from"./app-K3H_WbxP.js";import{g as T}from"./tickets-service-BEB5ZAFm.js";import U from"./tickets-details-move-assign-components-DznXw_Kd.js";import{I as N}from"./InboxStackIcon-GyG2Xs0p.js";import{T as S}from"./TicketIcon-B3oZl4zM.js";import"./files-service-BVmT_30U.js";import"./tickets-thunk-BA8PJKQG.js";import"./internals-service-B9kSbxh_.js";import"./loading-DZuXKO1n.js";import"./routing-BzgBYGmF.js";function F({account:y}){const{ticket:s}=h(a=>a.tickets),{user:p}=h(a=>a.app),{url:i}=n(),c=n(),l=b(),[C,o]=u.useState(!0);u.useEffect(()=>{(async()=>{try{const e=await f.dispatch(R(i.split("/")[i.split("/").length-2].split("#")[0])),g=await T(i.split("/")[i.split("/").length-2].split("#")[0]);l(E(g)),l(A(e)),o(!1)}catch(e){o(!1),console.error("Error fetching data:",e)}})()},[i]);const r=[{title:"Files",hash:"#files"},...(s==null?void 0:s.isUploading)==="true"&&s.call_type==="CF-Warranty Claim"&&s.status=="WARRANTY VALIDATION"?[{title:"Warranty Validation",hash:"#warranty_validation"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.call_type==="Parts"&&s.status==="PARTS VALIDATION"?[{title:"Parts Validation",hash:"#parts_validation"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="RESOURCE"?[{title:"Decision Making",hash:"#decision"}]:[],...(s==null?void 0:s.isUploading)==="true"&&(s.status==="CA WAREHOUSE"||s.status==="US WAREHOUSE"||s.status==="CLOSED")?[{title:s.country+" Warehouse",hash:"#warehouse"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="REPAIR"?[{title:"Repair",hash:"#repair"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="AVAILABILITY"?[{title:"Availability",hash:"#availability"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="INTERNALS"?[{title:"Internals",hash:"#internals"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="CALLBACK"?[{title:"Callback",hash:"#callback"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="REFUND"?[{title:"Refund",hash:"#refund"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="REPLACEMENT"?[{title:"Replacement",hash:"#replacement"}]:[],...(s==null?void 0:s.isUploading)==="true"&&s.status==="REPLACEMENT PARTS"?[{title:"Replacement Parts",hash:"#replacement_parts"}]:[],...s.call_type=="TS-Tech Support"&&s.status==="TECH VALIDATION"?[{title:"Update Status",hash:"#status"}]:[],{title:"Activities",hash:"#activities"},{title:"Details",hash:"#details"},{title:"Agent Notes",hash:"#notes"}],d=a=>{x.visit(r[a].hash)},m="#"+c.url.split("#")[1];return t.jsx("div",{className:" font-sans h-full",children:t.jsx("div",{className:"px-8",children:t.jsxs("div",{className:"w-full ",children:[p.role_id==3&&s.status==="WAREHOUSE"&&t.jsxs("div",{className:"pt-10",children:[" ",t.jsx(U,{ticket:s,name:"MOVE TO RESOURCE",value:"RESOURCE",icon:t.jsx(N,{className:"h-6"}),link:"decision"})]}),t.jsxs("div",{className:`py-3 text-3xl font-black flex gap-3 ${s.status=="CLOSED"?" text-red-600":" text-blue-600"}`,children:[t.jsx(S,{className:"h-9"})," ",s.status??"Open Ticket"," (",s.call_type,")"]}),t.jsx("div",{className:"mb-4 flex space-x-4 p-2 bg-white rounded-md border-blue-500 border-2 ",children:r.map((a,e)=>t.jsx("button",{onClick:()=>d(e),className:`flex-1 py-2 px-4 rounded-md focus:outline-none focus:shadow-outline-blue transition-all duration-300 ${m==a.hash?"bg-blue-600 text-white":"bg-gray-300 hover:bg-blue-200"}`,children:a.title},e))})]})})})}export{F as default};
