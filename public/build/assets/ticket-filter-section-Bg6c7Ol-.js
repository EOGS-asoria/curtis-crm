import{r as p,j as t,y as h}from"./page-BcN5q7Qe.js";import{u as I,a as L}from"./app-CnnMresx.js";import{h as f}from"./page--iDIYI-s.js";import{d as v,D as P}from"./index-D14lzOnV.js";import{S as u}from"./index-CniTnDVL.js";import{S as c}from"./index-CMbDJANt.js";import{B as g}from"./button-P4od--5t.js";import{R as O}from"./useIcons-ChutZgiN.js";import{R as _}from"./DeleteOutlined-Dl9N0IJv.js";import"./index-B3QcIzP-.js";import"./asyncToGenerator-DB7e41i_.js";import"./PurePanel-6ohiipu5.js";import"./index-Bj-SoXC2.js";import"./compact-item-rBBCBJ0Q.js";import"./pickAttrs-D8q33u4L.js";import"./Overflow-BE5bJpJl.js";import"./useZIndex-CQYuL9yM.js";import"./ContextIsolator-2aycSy32.js";import"./index-BYMkKHQx.js";import"./roundedArrow-BChm23E6.js";import"./useLocale-DRix0-3g.js";import"./KeyCode-DNlgD2sM.js";import"./motion-4S5rSXvC.js";import"./render-59GQVH__.js";function oe(){const{RangePicker:x}=P,{products:r}=I(e=>e.ticket_form),[d,n]=p.useState(!1);L();const l=new URLSearchParams(window.location.search),y=l.get("call_type"),o=l.get("model"),R=l.get("start"),j=l.get("end"),A=l.get("status"),[a,s]=p.useState({call_type:y??null,start:R??f().subtract(30,"days").format("YYYY-MM-DD"),end:j??f().format("YYYY-MM-DD"),model:(o==null?void 0:o.split(","))??null,status:A??null}),C=e=>{const i=e[0].format("YYYY-MM-DD"),N=e[1].format("YYYY-MM-DD");s({...a,start:i,end:N})};function S(e){s({...a,model:e})}function Y(e){s({...a,call_type:e})}function w(e){s({...a,status:e})}const D=[{value:"CF-Warranty Claim"},{value:"Parts"},{value:"TS-Tech Support"},{value:"General Inquiry"},{value:"Others"}],E=[{value:"CLOSED"},{value:"WARRANTY VALIDATION"},{value:"PARTS VALIDATION"},{value:"US WAREHOUSE"},{value:"CA WAREHOUSE"},{value:"REPAIR"},{value:"AVAILABILITY"},{value:"INTERNALS"},{value:"CALLBACK"},{value:"REFUND"},{value:"REPLACEMENT"},{value:"REPLACEMENT PARTS"},{value:"TECH VALIDATION"},{value:"WEB FORM"},{value:"AGENT FORM"}],T=r==null?void 0:r.slice(2).map(e=>({value:e[1]}));async function M(){n(!0);try{h.visit(window.location.pathname+"?page=1&&start="+a.start+"&end="+a.end+"&call_type="+a.call_type+"&model="+a.model+"&status="+a.status),n(!1)}catch{n(!1)}}const m="YYYY/MM/DD";return t.jsxs("div",{className:"flex gap-4 w-full",children:[t.jsx("div",{className:"w-full",children:t.jsx(x,{defaultValue:[v(a.start,m),v(a.end,m)],onChange:C,size:"large"})}),t.jsx("div",{className:"w-full",children:t.jsx(u,{maxTagCount:"responsive",mode:"multiple",allowClear:!0,size:"large",style:{width:"100%"},showSearch:!0,placeholder:"Select Model #",defaultValue:a.model=="null"||a.model=="undefined"?null:a.model,onChange:S,options:T.sort((e,i)=>e.length-i.length),optionRender:e=>t.jsx(c,{children:t.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),t.jsx("div",{className:"w-full",children:t.jsx(u,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.call_type=="null"||a.call_type=="undefined"?null:a.call_type,placeholder:"Based On",onChange:Y,options:D,optionRender:e=>t.jsx(c,{children:t.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),t.jsx("div",{className:"w-full",children:t.jsx(u,{allowClear:!0,size:"large",style:{width:"100%"},defaultValue:a.status=="null"||a.status=="undefined"?null:a.status,placeholder:"Status",onChange:w,options:E,optionRender:e=>t.jsx(c,{children:t.jsx("span",{role:"img","aria-label":e.value,children:e.value})})})}),t.jsxs("div",{className:"w-full flex gap-3",children:[t.jsx(g,{loading:d,onClick:M,type:"primary",size:"large",icon:t.jsx(O,{}),children:"Search"}),t.jsx(g,{loading:d,onClick:()=>h.visit(window.location.pathname+"?page=1"),type:"primary",danger:!0,size:"large",icon:t.jsx(_,{}),children:"Reset"})]})]})}export{oe as default};
